import{$ as E,$a as Il,$b as No,A as pl,Aa as $t,Ab as Al,B as nm,Ba as Or,Bb as zt,C as Ei,Ca as Mn,Cb as Se,D as Ti,Da as pm,Db as oe,E as Dr,Ea as Ai,Eb as an,F as im,Fa as So,Fb as xi,G as ml,Ga as Nr,Gb as Am,H as rn,Ha as w,Hb as ko,I as rm,Ia as x,Ib as xo,J as wo,Ja as yl,Jb as Sm,K as sn,Ka as Ro,Kb as Sl,L as gl,La as Si,Lb as Rl,M as sm,Ma as Vr,Mb as Et,N as om,Na as Do,Nb as Rm,O as am,Oa as Q,Ob as Qe,P as Eo,Pa as mm,Pb as qt,Q as ut,Qa as gm,Qb as Dm,R as To,Ra as Ri,Rb as Mi,S as _e,Sa as On,Sb as Pm,T as ve,Ta as _m,Tb as km,U as Pr,Ua as vm,Ub as ye,V as R,Va as ym,Vb as Dl,W as ue,Wa as Ie,Wb as Oi,X as cm,Xa as Nn,Xb as xm,Y as z,Ya as P,Yb as Mo,Z as _l,Za as Im,Zb as cn,_ as L,_a as Di,_b as Oo,a as v,aa as Ke,ab as Pi,ac as Mm,b as ce,ba as kr,bb as bm,bc as Om,c as tn,ca as ne,cb as wm,cc as Pl,d as h,da as Ae,db as Em,dc as Nm,e as Yp,ea as de,eb as _,f as Xp,fa as $e,fb as y,g as lt,ga as xr,gb as K,h as ll,ha as lm,hb as ki,i as ul,ia as um,ib as te,j as rt,ja as Co,jb as Y,jc as Vm,k as Fe,ka as on,kb as bl,kc as Ur,l as Jp,la as Ci,lb as wl,lc as Vo,m as Zp,ma as dt,mb as Tm,n as nn,na as ht,nb as Fr,o as dl,oa as kn,ob as Cm,p as hl,pa as xn,pb as Po,q as fl,qa as Mr,qb as Vn,qc as Fm,r as Ye,ra as dm,rb as bt,rc as Fo,s as O,sa as Bt,sb as wt,t as Rr,ta as vl,tb as Fn,tc as Lm,u as em,ua as ze,ub as k,v as tm,va as ke,vb as se,w as G,wa as hm,wb as El,x as wi,xa as Ao,xb as Lr,y as st,ya as fm,yb as Tl,yc as Um,z as bo,za as jt,zb as Cl}from"./chunk-2SGX5LH6.js";var Ml=class extends km{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ol=class t extends Ml{static makeCurrent(){Pm(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=gb();return n==null?null:_b(n)}resetBaseElement(){Br=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return xm(document.cookie,e)}},Br=null;function gb(){return Br=Br||document.querySelector("base"),Br?Br.getAttribute("href"):null}function _b(t){return new URL(t,document.baseURI).pathname}var vb=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Nl=new z(""),$m=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new ve(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(L(Nl),L(Q))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Lo=class{constructor(e){this._doc=e}},kl="ng-app-id",zm=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Pl(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${kl}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(kl),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(kl,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(L(ye),L(Ao),L(Or,8),L(jt))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),xl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Fl=/%COMP%/g,qm="%COMP%",yb=`_nghost-${qm}`,Ib=`_ngcontent-${qm}`,bb=!0,wb=new z("",{providedIn:"root",factory:()=>bb});function Eb(t){return Ib.replace(Fl,t)}function Tb(t){return yb.replace(Fl,t)}function Hm(t,e){return e.map(n=>n.replace(Fl,t))}var Ni=(()=>{let e=class e{constructor(i,r,s,o,a,c,l,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Pl(c),this.defaultRenderer=new jr(i,a,l,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===kr.ShadowDom&&(r=ce(v({},r),{encapsulation:kr.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof Uo?s.applyToHost(i):s instanceof $r&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case kr.Emulated:o=new Uo(l,u,r,this.appId,d,a,c,f);break;case kr.ShadowDom:return new Vl(l,u,i,r,a,c,this.nonce,f);default:o=new $r(l,u,r,d,a,c,f);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(L($m),L(zm),L(Ao),L(wb),L(ye),L(jt),L(Q),L(Or))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),jr=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(xl[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Bm(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(Bm(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new ve(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let s=xl[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=xl[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Nr.DashCase|Nr.Important)?e.style.setProperty(n,i,r&Nr.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Nr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=Mi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Bm(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Vl=class extends jr{constructor(e,n,i,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Hm(r.id,r.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},$r=class extends jr{constructor(e,n,i,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?Hm(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Uo=class extends $r{constructor(e,n,i,r,s,o,a,c){let l=r+"-"+i.id;super(e,n,i,s,o,a,c,l),this.contentAttr=Eb(l),this.hostAttr=Tb(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},Cb=(()=>{let e=class e extends Lo{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(L(ye))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),jm=["alt","control","meta","shift"],Ab={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sb={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Rb=(()=>{let e=class e extends Lo{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mi().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),jm.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),a+=u+".")}),a+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(i,r){let s=Ab[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),jm.forEach(a=>{if(a!==s){let c=Sb[a];c(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(L(ye))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function Gm(t,e){return Rm(v({rootComponent:t},Db(e)))}function Db(t){return{appProviders:[...Ob,...t?.providers??[]],platformProviders:Mb}}function Pb(){Ol.makeCurrent()}function kb(){return new vl}function xb(){return hm(document),document}var Mb=[{provide:jt,useValue:Mm},{provide:fm,useValue:Pb,multi:!0},{provide:ye,useFactory:xb,deps:[]}];var Ob=[{provide:um,useValue:"root"},{provide:vl,useFactory:kb,deps:[]},{provide:Nl,useClass:Cb,multi:!0,deps:[ye,Q,jt]},{provide:Nl,useClass:Rb,multi:!0,deps:[ye]},Ni,zm,$m,{provide:Si,useExisting:Ni},{provide:Nm,useClass:vb,deps:[]},[]];var Wm=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(L(ye))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $="primary",is=Symbol("RouteTitle"),$l=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Bi(t){return new $l(t)}function Fb(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Lb(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Tt(t[n],e[n]))return!1;return!0}function Tt(t,e){let n=t?zl(t):void 0,i=e?zl(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!eg(t[r],e[r]))return!1;return!0}function zl(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function eg(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}else return t===e}function tg(t){return t.length>0?t[t.length-1]:null}function hn(t){return em(t)?t:xo(t)?Ye(Promise.resolve(t)):O(t)}var Ub={exact:ig,subset:rg},ng={exact:Bb,subset:jb,ignored:()=>!0};function Km(t,e,n){return Ub[n.paths](t.root,e.root,n.matrixParams)&&ng[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Bb(t,e){return Tt(t,e)}function ig(t,e,n){if(!Un(t.segments,e.segments)||!$o(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!ig(t.children[i],e.children[i],n))return!1;return!0}function jb(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>eg(t[n],e[n]))}function rg(t,e,n){return sg(t,e,e.segments,n)}function sg(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Un(r,n)||e.hasChildren()||!$o(r,n,i))}else if(t.segments.length===n.length){if(!Un(t.segments,n)||!$o(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!rg(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Un(t.segments,r)||!$o(t.segments,r,i)||!t.children[$]?!1:sg(t.children[$],e,s,i)}}function $o(t,e,n){return e.every((i,r)=>ng[n](t[r].parameters,i.parameters))}var ln=class{constructor(e=new J([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Bi(this.queryParams),this._queryParamMap}toString(){return qb.serialize(this)}},J=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zo(this)}},Ln=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Bi(this.parameters),this._parameterMap}toString(){return ag(this)}};function $b(t,e){return Un(t,e)&&t.every((n,i)=>Tt(n.parameters,e[i].parameters))}function Un(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function zb(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===$&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==$&&(n=n.concat(e(r,i)))}),n}var mu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>new Ho,providedIn:"root"});let t=e;return t})(),Ho=class{parse(e){let n=new Hl(e);return new ln(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${zr(e.root,!0)}`,i=Wb(e.queryParams),r=typeof e.fragment=="string"?`#${Hb(e.fragment)}`:"";return`${n}${i}${r}`}},qb=new Ho;function zo(t){return t.segments.map(e=>ag(e)).join("/")}function zr(t,e){if(!t.hasChildren())return zo(t);if(e){let n=t.children[$]?zr(t.children[$],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==$&&i.push(`${r}:${zr(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=zb(t,(i,r)=>r===$?[zr(t.children[$],!1)]:[`${r}:${zr(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[$]!=null?`${zo(t)}/${n[0]}`:`${zo(t)}/(${n.join("//")})`}}function og(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bo(t){return og(t).replace(/%3B/gi,";")}function Hb(t){return encodeURI(t)}function ql(t){return og(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qo(t){return decodeURIComponent(t)}function Qm(t){return qo(t.replace(/\+/g,"%20"))}function ag(t){return`${ql(t.path)}${Gb(t.parameters)}`}function Gb(t){return Object.entries(t).map(([e,n])=>`;${ql(e)}=${ql(n)}`).join("")}function Wb(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Bo(n)}=${Bo(r)}`).join("&"):`${Bo(n)}=${Bo(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Kb=/^[^\/()?;#]+/;function Ll(t){let e=t.match(Kb);return e?e[0]:""}var Qb=/^[^\/()?;=#]+/;function Yb(t){let e=t.match(Qb);return e?e[0]:""}var Xb=/^[^=?&#]+/;function Jb(t){let e=t.match(Xb);return e?e[0]:""}var Zb=/^[^&#]+/;function ew(t){let e=t.match(Zb);return e?e[0]:""}var Hl=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new J([],{}):new J([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[$]=new J(e,n)),i}parseSegment(){let e=Ll(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ve(4009,!1);return this.capture(e),new Ln(qo(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Yb(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=Ll(this.remaining);r&&(i=r,this.capture(i))}e[qo(n)]=qo(i)}parseQueryParam(e){let n=Jb(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=ew(this.remaining);o&&(i=o,this.capture(i))}let r=Qm(n),s=Qm(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Ll(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new ve(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=$);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[$]:new J([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ve(4011,!1)}};function cg(t){return t.segments.length>0?new J([],{[$]:t}):t}function lg(t){let e={};for(let[i,r]of Object.entries(t.children)){let s=lg(r);if(i===$&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let n=new J(t.segments,e);return tw(n)}function tw(t){if(t.numberOfChildren===1&&t.children[$]){let e=t.children[$];return new J(t.segments.concat(e.segments),e.children)}return t}function ji(t){return t instanceof ln}function nw(t,e,n=null,i=null){let r=ug(t);return dg(r,e,n,i)}function ug(t){let e;function n(s){let o={};for(let c of s.children){let l=n(c);o[c.outlet]=l}let a=new J(s.url,o);return s===t&&(e=a),a}let i=n(t.root),r=cg(i);return e??r}function dg(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return Ul(r,r,r,n,i);let s=iw(e);if(s.toRoot())return Ul(r,r,new J([],{}),n,i);let o=rw(s,r,t),a=o.processChildren?Gr(o.segmentGroup,o.index,s.commands):fg(o.segmentGroup,o.index,s.commands);return Ul(r,o.segmentGroup,a,n,i)}function Go(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Qr(t){return typeof t=="object"&&t!=null&&t.outlets}function Ul(t,e,n,i,r){let s={};i&&Object.entries(i).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let o;t===e?o=n:o=hg(t,e,n);let a=cg(lg(o));return new ln(a,s,r)}function hg(t,e,n){let i={};return Object.entries(t.children).forEach(([r,s])=>{s===e?i[r]=n:i[r]=hg(s,e,n)}),new J(t.segments,i)}var Wo=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Go(i[0]))throw new ve(4003,!1);let r=i.find(Qr);if(r&&r!==tg(i))throw new ve(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function iw(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Wo(!0,0,t);let e=0,n=!1,i=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Wo(n,e,i)}var Li=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function rw(t,e,n){if(t.isAbsolute)return new Li(e,!0,0);if(!n)return new Li(e,!1,NaN);if(n.parent===null)return new Li(n,!0,0);let i=Go(t.commands[0])?0:1,r=n.segments.length-1+i;return sw(n,r,t.numberOfDoubleDots)}function sw(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new ve(4005,!1);r=i.segments.length}return new Li(i,!1,r-s)}function ow(t){return Qr(t[0])?t[0].outlets:{[$]:t}}function fg(t,e,n){if(t??=new J([],{}),t.segments.length===0&&t.hasChildren())return Gr(t,e,n);let i=aw(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new J(t.segments.slice(0,i.pathIndex),{});return s.children[$]=new J(t.segments.slice(i.pathIndex),t.children),Gr(s,0,r)}else return i.match&&r.length===0?new J(t.segments,{}):i.match&&!t.hasChildren()?Gl(t,e,n):i.match?Gr(t,0,r):Gl(t,e,n)}function Gr(t,e,n){if(n.length===0)return new J(t.segments,{});{let i=ow(n),r={};if(Object.keys(i).some(s=>s!==$)&&t.children[$]&&t.numberOfChildren===1&&t.children[$].segments.length===0){let s=Gr(t.children[$],e,n);return new J(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=fg(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new J(t.segments,r)}}function aw(t,e,n){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;let o=t.segments[r],a=n[i];if(Qr(a))break;let c=`${a}`,l=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Xm(c,l,o))return s;i+=2}else{if(!Xm(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Gl(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(Qr(s)){let c=cw(s.outlets);return new J(i,c)}if(r===0&&Go(n[0])){let c=t.segments[e];i.push(new Ln(c.path,Ym(n[0]))),r++;continue}let o=Qr(s)?s.outlets[$]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&Go(a)?(i.push(new Ln(o,Ym(a))),r+=2):(i.push(new Ln(o,{})),r++)}return new J(i,{})}function cw(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=Gl(new J([],{}),0,i))}),e}function Ym(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function Xm(t,e,n){return t==n.path&&Tt(e,n.parameters)}var Wr="imperative",xe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(xe||{}),ot=class{constructor(e,n){this.id=e,this.url=n}},Yr=class extends ot{constructor(e,n,i="imperative",r=null){super(e,n),this.type=xe.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},un=class extends ot{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=xe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Je=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Je||{}),Wl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Wl||{}),dn=class extends ot{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=xe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Bn=class extends ot{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=xe.NavigationSkipped}},Xr=class extends ot{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=xe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ko=class extends ot{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=xe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kl=class extends ot{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=xe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ql=class extends ot{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=xe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Yl=class extends ot{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=xe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xl=class extends ot{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=xe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jl=class{constructor(e){this.route=e,this.type=xe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Zl=class{constructor(e){this.route=e,this.type=xe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},eu=class{constructor(e){this.snapshot=e,this.type=xe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tu=class{constructor(e){this.snapshot=e,this.type=xe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nu=class{constructor(e){this.snapshot=e,this.type=xe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},iu=class{constructor(e){this.snapshot=e,this.type=xe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Jr=class{},Zr=class{constructor(e){this.url=e}};var ru=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ea,this.attachRef=null}},ea=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new ru,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qo=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=su(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=su(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=ou(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ou(e,this._root).map(n=>n.value)}};function su(t,e){if(t===e.value)return e;for(let n of e.children){let i=su(t,n);if(i)return i}return null}function ou(t,e){if(t===e.value)return[e];for(let n of e.children){let i=ou(t,n);if(i.length)return i.unshift(e),i}return[]}var Xe=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Fi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Yo=class extends Qo{constructor(e,n){super(e),this.snapshot=n,_u(this,e)}toString(){return this.snapshot.toString()}};function pg(t){let e=lw(t),n=new Fe([new Ln("",{})]),i=new Fe({}),r=new Fe({}),s=new Fe({}),o=new Fe(""),a=new ft(n,i,s,o,r,$,t,e.root);return a.snapshot=e.root,new Yo(new Xe(a,[]),e)}function lw(t){let e={},n={},i={},r="",s=new es([],e,i,r,n,$,t,null,{});return new Xo("",new Xe(s,[]))}var ft=class{constructor(e,n,i,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(G(l=>l[is]))??O(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(G(e=>Bi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(G(e=>Bi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gu(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:v(v({},e.params),t.params),data:v(v({},e.data),t.data),resolve:v(v(v(v({},t.data),e.data),r?.data),t._resolvedData)}:i={params:v({},t.params),data:v({},t.data),resolve:v(v({},t.data),t._resolvedData??{})},r&&gg(r)&&(i.resolve[is]=r.title),i}var es=class{get title(){return this.data?.[is]}constructor(e,n,i,r,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Bi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Bi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Xo=class extends Qo{constructor(e,n){super(n),this.url=e,_u(this,n)}toString(){return mg(this._root)}};function _u(t,e){e.value._routerState=t,e.children.forEach(n=>_u(t,n))}function mg(t){let e=t.children.length>0?` { ${t.children.map(mg).join(", ")} } `:"";return`${t.value}${e}`}function Bl(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Tt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Tt(e.params,n.params)||t.paramsSubject.next(n.params),Lb(e.url,n.url)||t.urlSubject.next(n.url),Tt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function au(t,e){let n=Tt(t.params,e.params)&&$b(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||au(t.parent,e.parent))}function gg(t){return typeof t.title=="string"||t.title===null}var vu=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=$,this.activateEvents=new ke,this.deactivateEvents=new ke,this.attachEvents=new ke,this.detachEvents=new ke,this.parentContexts=E(ea),this.location=E(gm),this.changeDetector=E(Et),this.environmentInjector=E(Co),this.inputBinder=E(ta,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ve(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ve(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ve(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new ve(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new cu(i,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=$e({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ci]});let t=e;return t})(),cu=class{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i,this.__ngOutletInjector=!0}get(e,n){return e===ft?this.route:e===ea?this.childContexts:this.parent.get(e,n)}},ta=new z(""),Jm=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=wi([r.queryParams,r.params,r.data]).pipe(ut(([o,a,c],l)=>(c=v(v(v({},o),a),c),l===0?O(c):Promise.resolve(c)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=Dm(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:c}of a.inputs)i.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function uw(t,e,n){let i=ts(t,e._root,n?n._root:void 0);return new Yo(i,e)}function ts(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=dw(t,e,n);return new Xe(i,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ts(t,a)),o}}let i=hw(e.value),r=e.children.map(s=>ts(t,s));return new Xe(i,r)}}function dw(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return ts(t,i,r);return ts(t,i)})}function hw(t){return new ft(new Fe(t.url),new Fe(t.params),new Fe(t.queryParams),new Fe(t.fragment),new Fe(t.data),t.outlet,t.component,t)}var _g="ngNavigationCancelingError";function vg(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=ji(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=yg(!1,Je.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function yg(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[_g]=!0,n.cancellationCode=e,n}function fw(t){return Ig(t)&&ji(t.url)}function Ig(t){return!!t&&t[_g]}var pw=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ae({type:e,selectors:[["ng-component"]],standalone:!0,features:[Se],decls:1,vars:0,template:function(r,s){r&1&&K(0,"router-outlet")},dependencies:[vu],encapsulation:2});let t=e;return t})();function mw(t,e){return t.providers&&!t._injector&&(t._injector=vm(t.providers,e,`Route: ${t.path}`)),t._injector??e}function yu(t){let e=t.children&&t.children.map(yu),n=e?ce(v({},t),{children:e}):v({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==$&&(n.component=pw),n}function Ct(t){return t.outlet||$}function gw(t,e){let n=t.filter(i=>Ct(i)===e);return n.push(...t.filter(i=>Ct(i)!==e)),n}function rs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var _w=(t,e,n,i)=>G(r=>(new lu(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),lu=class{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),Bl(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=Fi(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Fi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Fi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=Fi(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new iu(s.value.snapshot))}),e.children.length&&this.forwardEvent(new tu(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(Bl(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Bl(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=rs(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}},Jo=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ui=class{constructor(e,n){this.component=e,this.route=n}};function vw(t,e,n){let i=t._root,r=e?e._root:null;return qr(i,r,n,[i.value])}function yw(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function zi(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!cm(t)?t:e.get(t):i}function qr(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Fi(e);return t.children.forEach(o=>{Iw(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Kr(a,n.getContext(o),r)),r}function Iw(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=bw(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Jo(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?qr(t,e,a?a.children:null,i,r):qr(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ui(a.outlet.component,o))}else o&&Kr(e,a,r),r.canActivateChecks.push(new Jo(i)),s.component?qr(t,null,a?a.children:null,i,r):qr(t,null,n,i,r);return r}function bw(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Un(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Un(t.url,e.url)||!Tt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!au(t,e)||!Tt(t.queryParams,e.queryParams);case"paramsChange":default:return!au(t,e)}}function Kr(t,e,n){let i=Fi(t),r=t.value;Object.entries(i).forEach(([s,o])=>{r.component?e?Kr(o,e.children.getContext(s),n):Kr(o,null,n):Kr(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ui(e.outlet.component,r)):n.canDeactivateChecks.push(new Ui(null,r)):n.canDeactivateChecks.push(new Ui(null,r))}function ss(t){return typeof t=="function"}function ww(t){return typeof t=="boolean"}function Ew(t){return t&&ss(t.canLoad)}function Tw(t){return t&&ss(t.canActivate)}function Cw(t){return t&&ss(t.canActivateChild)}function Aw(t){return t&&ss(t.canDeactivate)}function Sw(t){return t&&ss(t.canMatch)}function bg(t){return t instanceof tm||t?.name==="EmptyError"}var jo=Symbol("INITIAL_VALUE");function $i(){return ut(t=>wi(t.map(e=>e.pipe(rn(1),Eo(jo)))).pipe(G(e=>{for(let n of e)if(n!==!0){if(n===jo)return jo;if(n===!1||n instanceof ln)return n}return!0}),Ei(e=>e!==jo),rn(1)))}function Rw(t,e){return st(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?O(ce(v({},n),{guardsResult:!0})):Dw(o,i,r,t).pipe(st(a=>a&&ww(a)?Pw(i,s,t,e):O(a)),G(a=>ce(v({},n),{guardsResult:a})))})}function Dw(t,e,n,i){return Ye(t).pipe(st(r=>Nw(r.component,r.route,n,e,i)),sn(r=>r!==!0,!0))}function Pw(t,e,n,i){return Ye(e).pipe(Dr(r=>bo(xw(r.route.parent,i),kw(r.route,i),Ow(t,r.path,n),Mw(t,r.route,n))),sn(r=>r!==!0,!0))}function kw(t,e){return t!==null&&e&&e(new nu(t)),O(!0)}function xw(t,e){return t!==null&&e&&e(new eu(t)),O(!0)}function Mw(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return O(!0);let r=i.map(s=>pl(()=>{let o=rs(e)??n,a=zi(s,o),c=Tw(a)?a.canActivate(e,t):on(o,()=>a(e,t));return hn(c).pipe(sn())}));return O(r).pipe($i())}function Ow(t,e,n){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>yw(o)).filter(o=>o!==null).map(o=>pl(()=>{let a=o.guards.map(c=>{let l=rs(o.node)??n,u=zi(c,l),d=Cw(u)?u.canActivateChild(i,t):on(l,()=>u(i,t));return hn(d).pipe(sn())});return O(a).pipe($i())}));return O(s).pipe($i())}function Nw(t,e,n,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return O(!0);let o=s.map(a=>{let c=rs(e)??r,l=zi(a,c),u=Aw(l)?l.canDeactivate(t,e,n,i):on(c,()=>l(t,e,n,i));return hn(u).pipe(sn())});return O(o).pipe($i())}function Vw(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return O(!0);let s=r.map(o=>{let a=zi(o,t),c=Ew(a)?a.canLoad(e,n):on(t,()=>a(e,n));return hn(c)});return O(s).pipe($i(),wg(i))}function wg(t){return Xp(_e(e=>{if(ji(e))throw vg(t,e)}),G(e=>e===!0))}function Fw(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return O(!0);let s=r.map(o=>{let a=zi(o,t),c=Sw(a)?a.canMatch(e,n):on(t,()=>a(e,n));return hn(c)});return O(s).pipe($i(),wg(i))}var ns=class{constructor(e){this.segmentGroup=e||null}},Zo=class extends Error{constructor(e){super(),this.urlTree=e}};function Vi(t){return Rr(new ns(t))}function Lw(t){return Rr(new ve(4e3,!1))}function Uw(t){return Rr(yg(!1,Je.GuardRejected))}var uu=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return O(i);if(r.numberOfChildren>1||!r.children[$])return Lw(e.redirectTo);r=r.children[$]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new Zo(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let s=this.createSegmentGroup(e,n.root,i,r);return new ln(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){let s=this.createSegments(e,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,i,r)}),new J(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new ve(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},du={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bw(t,e,n,i,r){let s=Iu(t,e,n);return s.matched?(i=mw(e,i),Fw(i,e,n,r).pipe(G(o=>o===!0?s:v({},du)))):O(s)}function Iu(t,e,n){if(e.path==="**")return jw(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?v({},du):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||Fb)(n,t,e);if(!r)return v({},du);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?v(v({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function jw(t){return{matched:!0,parameters:t.length>0?tg(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Zm(t,e,n,i){return n.length>0&&qw(t,n,i)?{segmentGroup:new J(e,zw(i,new J(n,t.children))),slicedSegments:[]}:n.length===0&&Hw(t,n,i)?{segmentGroup:new J(t.segments,$w(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new J(t.segments,t.children),slicedSegments:n}}function $w(t,e,n,i){let r={};for(let s of n)if(na(t,e,s)&&!i[Ct(s)]){let o=new J([],{});r[Ct(s)]=o}return v(v({},i),r)}function zw(t,e){let n={};n[$]=e;for(let i of t)if(i.path===""&&Ct(i)!==$){let r=new J([],{});n[Ct(i)]=r}return n}function qw(t,e,n){return n.some(i=>na(t,e,i)&&Ct(i)!==$)}function Hw(t,e,n){return n.some(i=>na(t,e,i))}function na(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Gw(t,e,n,i){return Ct(t)!==i&&(i===$||!na(e,n,t))?!1:Iu(e,t,n).matched}function Ww(t,e,n){return e.length===0&&!t.children[n]}var hu=class{};function Kw(t,e,n,i,r,s,o="emptyOnly"){return new fu(t,e,n,i,r,o,s).recognize()}var Qw=31,fu=class{constructor(e,n,i,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new uu(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ve(4002,`'${e.segmentGroup}'`)}recognize(){let e=Zm(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(G(n=>{let i=new es([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,{},$,this.rootComponentType,null,{}),r=new Xe(i,n),s=new Xo("",r),o=nw(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,$).pipe(Ti(i=>{if(i instanceof Zo)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof ns?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=gu(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(G(s=>s instanceof Xe?[s]:[]))}processChildren(e,n,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return Ye(r).pipe(Dr(s=>{let o=i.children[s],a=gw(n,s);return this.processSegmentGroup(e,a,o,s)}),om((s,o)=>(s.push(...o),s)),ml(null),sm(),st(s=>{if(s===null)return Vi(i);let o=Eg(s);return Yw(o),O(o)}))}processSegment(e,n,i,r,s,o){return Ye(n).pipe(Dr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,s,o).pipe(Ti(c=>{if(c instanceof ns)return O(null);throw c}))),sn(a=>!!a),Ti(a=>{if(bg(a))return Ww(i,r,s)?O(new hu):Vi(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,s,o,a){return Gw(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o):Vi(r):Vi(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Iu(n,r,s);if(!a)return Vi(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Qw&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,d).pipe(st(f=>this.processSegment(e,i,n,f.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,i,r,s){let o=Bw(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),o.pipe(ut(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(ut(({routes:c})=>{let l=i._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:f}=a,p=new es(u,f,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Jw(i),Ct(i),i.component??i._loadedComponent??null,i,Zw(i)),{segmentGroup:S,slicedSegments:A}=Zm(n,u,d,c);if(A.length===0&&S.hasChildren())return this.processChildren(l,c,S).pipe(G(B=>B===null?null:new Xe(p,B)));if(c.length===0&&A.length===0)return O(new Xe(p,[]));let C=Ct(i)===s;return this.processSegment(l,c,S,A,C?$:s,!0).pipe(G(B=>new Xe(p,B instanceof Xe?[B]:[])))}))):Vi(n)))}getChildConfig(e,n,i){return n.children?O({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?O({routes:n._loadedRoutes,injector:n._loadedInjector}):Vw(e,n,i,this.urlSerializer).pipe(st(r=>r?this.configLoader.loadChildren(e,n).pipe(_e(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Uw(n))):O({routes:[],injector:e})}};function Yw(t){t.sort((e,n)=>e.value.outlet===$?-1:n.value.outlet===$?1:e.value.outlet.localeCompare(n.value.outlet))}function Xw(t){let e=t.value.routeConfig;return e&&e.path===""}function Eg(t){let e=[],n=new Set;for(let i of t){if(!Xw(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=Eg(i.children);e.push(new Xe(i.value,r))}return e.filter(i=>!n.has(i))}function Jw(t){return t.data||{}}function Zw(t){return t.resolve||{}}function eE(t,e,n,i,r,s){return st(o=>Kw(t,e,n,i,o.extractedUrl,r,s).pipe(G(({state:a,tree:c})=>ce(v({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function tE(t,e){return st(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return O(n);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of Tg(c))o.add(l);let a=0;return Ye(o).pipe(Dr(c=>s.has(c)?nE(c,i,t,e):(c.data=gu(c,c.parent,t).resolve,O(void 0))),_e(()=>a++),gl(1),st(c=>a===o.size?O(n):nn))})}function Tg(t){let e=t.children.map(n=>Tg(n)).flat();return[t,...e]}function nE(t,e,n,i){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!gg(r)&&(s[is]=r.title),iE(s,t,e,i).pipe(G(o=>(t._resolvedData=o,t.data=gu(t,t.parent,n).resolve,null)))}function iE(t,e,n,i){let r=zl(t);if(r.length===0)return O({});let s={};return Ye(r).pipe(st(o=>rE(t[o],e,n,i).pipe(sn(),_e(a=>{s[o]=a}))),gl(1),rm(s),Ti(o=>bg(o)?nn:Rr(o)))}function rE(t,e,n,i){let r=rs(e)??i,s=zi(t,r),o=s.resolve?s.resolve(e,n):on(r,()=>s(e,n));return hn(o)}function jl(t){return ut(e=>{let n=t(e);return n?Ye(n).pipe(G(()=>e)):O(e)})}var Cg=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===$);return r}getResolvedTitleForRoute(i){return i.data[is]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>E(sE),providedIn:"root"});let t=e;return t})(),sE=(()=>{let e=class e extends Cg{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(L(Wm))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bu=new z("",{providedIn:"root",factory:()=>({})}),wu=new z(""),oE=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=E(Rl)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return O(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=hn(i.loadComponent()).pipe(G(Ag),_e(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),wo(()=>{this.componentLoaders.delete(i)})),s=new ul(r,()=>new rt).pipe(ll());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return O({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=aE(r,this.compiler,i,this.onLoadEndListener).pipe(wo(()=>{this.childrenLoaders.delete(r)})),a=new ul(o,()=>new rt).pipe(ll());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aE(t,e,n,i){return hn(t.loadChildren()).pipe(G(Ag),st(r=>r instanceof _m||Array.isArray(r)?O(r):Ye(e.compileModuleAsync(r))),G(r=>{i&&i(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(wu,[],{optional:!0,self:!0}).flat()),{routes:o.map(yu),injector:s}}))}function cE(t){return t&&typeof t=="object"&&"default"in t}function Ag(t){return cE(t)?t.default:t}var Eu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>E(lE),providedIn:"root"});let t=e;return t})(),lE=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sg=new z(""),Rg=new z("");function uE(t,e,n){let i=t.get(Rg),r=t.get(ye);return t.get(Q).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(l=>{s=l}),a=r.startViewTransition(()=>(s(),dE(t))),{onViewTransitionCreated:c}=i;return c&&on(t,()=>c({transition:a,from:e,to:n})),o})}function dE(t){return new Promise(e=>{mm(e,{injector:t})})}var hE=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rt,this.transitionAbortSubject=new rt,this.configLoader=E(oE),this.environmentInjector=E(Co),this.urlSerializer=E(mu),this.rootContexts=E(ea),this.location=E(Oi),this.inputBindingEnabled=E(ta,{optional:!0})!==null,this.titleStrategy=E(Cg),this.options=E(bu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=E(Eu),this.createViewTransition=E(Sg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>O(void 0),this.rootComponentType=null;let i=s=>this.events.next(new Jl(s)),r=s=>this.events.next(new Zl(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(ce(v(v({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new Fe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Wr,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ei(o=>o.id!==0),G(o=>ce(v({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ut(o=>{let a=!1,c=!1;return O(o).pipe(ut(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Je.SupersededByNewNavigation),nn;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ce(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new Bn(l.id,this.urlSerializer.serialize(l.rawUrl),f,Wl.IgnoredSameUrlNavigation)),l.resolve(null),nn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return O(l).pipe(ut(f=>{let p=this.transitions?.getValue();return this.events.next(new Yr(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),p!==this.transitions?.getValue()?nn:Promise.resolve(f)}),eE(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),_e(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=ce(v({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let p=new Ko(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:p,source:S,restoredState:A,extras:C}=l,B=new Yr(f,this.urlSerializer.serialize(p),S,A);this.events.next(B);let Z=pg(this.rootComponentType).snapshot;return this.currentTransition=o=ce(v({},l),{targetSnapshot:Z,urlAfterRedirects:p,extras:ce(v({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,O(o)}else{let f="";return this.events.next(new Bn(l.id,this.urlSerializer.serialize(l.extractedUrl),f,Wl.IgnoredByUrlHandlingStrategy)),l.resolve(null),nn}}),_e(l=>{let u=new Kl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),G(l=>(this.currentTransition=o=ce(v({},l),{guards:vw(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),Rw(this.environmentInjector,l=>this.events.next(l)),_e(l=>{if(o.guardsResult=l.guardsResult,ji(l.guardsResult))throw vg(this.urlSerializer,l.guardsResult);let u=new Ql(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Ei(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Je.GuardRejected),!1)),jl(l=>{if(l.guards.canActivateChecks.length)return O(l).pipe(_e(u=>{let d=new Yl(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),ut(u=>{let d=!1;return O(u).pipe(tE(this.paramsInheritanceStrategy,this.environmentInjector),_e({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Je.NoDataFromResolver)}}))}),_e(u=>{let d=new Xl(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),jl(l=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(_e(p=>{d.component=p}),G(()=>{})));for(let p of d.children)f.push(...u(p));return f};return wi(u(l.targetSnapshot.root)).pipe(ml(null),rn(1))}),jl(()=>this.afterPreactivation()),ut(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?Ye(d).pipe(G(()=>o)):O(o)}),G(l=>{let u=uw(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ce(v({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),_e(()=>{this.events.next(new Jr)}),_w(this.rootContexts,i.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),rn(1),_e({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new un(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),To(this.transitionAbortSubject.pipe(_e(l=>{throw l}))),wo(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",Je.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ti(l=>{if(c=!0,Ig(l))this.events.next(new dn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),fw(l)?this.events.next(new Zr(l.url)):o.resolve(!1);else{this.events.next(new Xr(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(i.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return nn}))}))}cancelNavigationTransition(i,r,s){let o=new dn(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fE(t){return t!==Wr}var pE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>E(mE),providedIn:"root"});let t=e;return t})(),pu=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},mE=(()=>{let e=class e extends pu{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Mr(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Dg=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>E(gE),providedIn:"root"});let t=e;return t})(),gE=(()=>{let e=class e extends Dg{constructor(){super(...arguments),this.location=E(Oi),this.urlSerializer=E(mu),this.options=E(bu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=E(Eu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ln,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=pg(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Yr)this.stateMemento=this.createStateMemento();else if(i instanceof Bn)this.rawUrlTree=r.initialUrl;else if(i instanceof Ko){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof Jr?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof dn&&(i.code===Je.GuardRejected||i.code===Je.NoDataFromResolver)?this.restoreHistory(r):i instanceof Xr?this.restoreHistory(r,!0):i instanceof un&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=v(v({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=v(v({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Mr(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Hr=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Hr||{});function _E(t,e){t.events.pipe(Ei(n=>n instanceof un||n instanceof dn||n instanceof Xr||n instanceof Bn),G(n=>n instanceof un||n instanceof Bn?Hr.COMPLETE:(n instanceof dn?n.code===Je.Redirect||n.code===Je.SupersededByNewNavigation:!1)?Hr.REDIRECTING:Hr.FAILED),Ei(n=>n!==Hr.REDIRECTING),rn(1)).subscribe(()=>{e()})}function vE(t){throw t}var yE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},os=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=E(ko),this.stateManager=E(Dg),this.options=E(bu,{optional:!0})||{},this.pendingTasks=E(ym),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=E(hE),this.urlSerializer=E(mu),this.location=E(Oi),this.urlHandlingStrategy=E(Eu),this._events=new rt,this.errorHandler=this.options.errorHandler||vE,this.navigated=!1,this.routeReuseStrategy=E(pE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=E(wu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!E(ta,{optional:!0}),this.eventsSubscription=new Yp,this.isNgZoneEnabled=E(Q)instanceof Q&&Q.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof dn&&r.code!==Je.Redirect&&r.code!==Je.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof un)this.navigated=!0;else if(r instanceof Zr){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||fE(s.source)};this.scheduleNavigation(a,Wr,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}wE(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Wr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=v({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(i);this.scheduleNavigation(c,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(yu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=v(v({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let p=s?s.snapshot:this.routerState.snapshot.root;f=ug(p)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),f=this.currentUrlTree.root}return dg(f,i,d,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=ji(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Wr,null,r)}navigate(i,r={skipLocationChange:!1}){return bE(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=v({},yE):r===!1?s=v({},IE):s=r,ji(i))return Km(this.currentUrlTree,i,s);let o=this.parseUrl(i);return Km(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,p)=>{c=f,l=p});let d=this.pendingTasks.add();return _E(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bE(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new ve(4008,!1)}function wE(t){return!(t instanceof Jr)&&!(t instanceof Zr)}var fn=(()=>{let e=class e{constructor(i,r,s,o,a,c){this.router=i,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new rt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=i.events.subscribe(u=>{u instanceof un&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(i!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:pm(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,i,r):s.removeAttribute(o,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(x(os),x(ft),dm("tabindex"),x(Vr),x(ze),x(Dl))},e.\u0275dir=$e({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&te("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Nn("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ne.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Qe],skipLocationChange:[ne.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Qe],replaceUrl:[ne.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Qe],routerLink:"routerLink"},standalone:!0,features:[On,Ci]});let t=e;return t})();var EE=new z("");function Pg(t,...e){return xr([{provide:wu,multi:!0,useValue:t},[],{provide:ft,useFactory:TE,deps:[os]},{provide:Sm,multi:!0,useFactory:CE},e.map(n=>n.\u0275providers)])}function TE(t){return t.routerState.root}function kg(t,e){return{\u0275kind:t,\u0275providers:e}}function CE(){let t=E(Bt);return e=>{let n=t.get(Sl);if(e!==n.components[0])return;let i=t.get(os),r=t.get(AE);t.get(SE)===1&&i.initialNavigation(),t.get(RE,null,_l.Optional)?.setUpPreloading(),t.get(EE,null,_l.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var AE=new z("",{factory:()=>new rt}),SE=new z("",{providedIn:"root",factory:()=>1});var RE=new z("");function xg(){return kg(8,[Jm,{provide:ta,useExisting:Jm}])}function Mg(t){let e=[{provide:Sg,useValue:uE},{provide:Rg,useValue:v({skipNextTransition:!!t?.skipInitialTransition},t)}];return kg(9,e)}var Ng=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},PE=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Vg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let s=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,l=c?t[r+2]:0,u=s>>2,d=(s&3)<<4|a>>4,f=(a&15)<<2|l>>6,p=l&63;c||(p=64,o||(f=64)),i.push(n[u],n[d],n[f],n[p])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ng(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let l=r<t.length?n[t.charAt(r)]:64;++r;let d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||l==null||d==null)throw new Cu;let f=s<<2|a>>4;if(i.push(f),l!==64){let p=a<<4&240|l>>2;if(i.push(p),d!==64){let S=l<<6&192|d;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Cu=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},kE=function(t){let e=Ng(t);return Vg.encodeByteArray(e,!0)},as=function(t){return kE(t).replace(/\./g,"")},Su=function(t){try{return Vg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var ME=()=>xE().__FIREBASE_DEFAULTS__,OE=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Su(t[1]);return e&&JSON.parse(e)},ra=()=>{try{return ME()||OE()||NE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ru=t=>{var e,n;return(n=(e=ra())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Fg=t=>{let e=Ru(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Du=()=>{var t;return(t=ra())===null||t===void 0?void 0:t.config},Pu=t=>{var e;return(e=ra())===null||e===void 0?void 0:e[`_${t}`]};var ia=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function Lg(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[as(JSON.stringify(n)),as(JSON.stringify(o)),""].join(".")}function he(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ug(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(he())}function VE(){var t;let e=(t=ra())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bg(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jg(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $g(){let t=he();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zg(){return!VE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sa(){try{return typeof indexedDB=="object"}catch{return!1}}function qg(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var FE="FirebaseError",Ze=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=FE,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ht.prototype.create)}},Ht=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?LE(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Ze(r,a,i)}};function LE(t,e){return t.replace(UE,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var UE=/\{\$([^}]+)}/g;function Hg(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jn(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let s=t[r],o=e[r];if(Og(s)&&Og(o)){if(!jn(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function Og(t){return t!==null&&typeof t=="object"}function cs(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Gg(t,e){let n=new Au(t,e);return n.subscribe.bind(n)}var Au=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");BE(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Tu),r.error===void 0&&(r.error=Tu),r.complete===void 0&&(r.complete=Tu);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function BE(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tu(){}var ox=4*60*60*1e3;function qe(t){return t&&t._delegate?t._delegate:t}var at=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var $n="[DEFAULT]";var ku=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new ia;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($E(e))try{this.getOrInitializeService({instanceIdentifier:$n})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=$n){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return h(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=$n){return this.instances.has(e)}getOptions(e=$n){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:jE(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=$n){return this.component?this.component.multipleInstances?e:$n:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function jE(t){return t===$n?void 0:t}function $E(t){return t.instantiationMode==="EAGER"}var oa=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new ku(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var zE=[],q=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(q||{}),qE={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},HE=q.INFO,GE={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},WE=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=GE[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},pn=class{constructor(e){this.name=e,this._logLevel=HE,this._logHandler=WE,this._userLogHandler=null,zE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...e),this._logHandler(this,q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...e),this._logHandler(this,q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,q.INFO,...e),this._logHandler(this,q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,q.WARN,...e),this._logHandler(this,q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...e),this._logHandler(this,q.ERROR,...e)}};var KE=(t,e)=>e.some(n=>t instanceof n),Wg,Kg;function QE(){return Wg||(Wg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YE(){return Kg||(Kg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Qg=new WeakMap,Mu=new WeakMap,Yg=new WeakMap,xu=new WeakMap,Nu=new WeakMap;function XE(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(At(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Qg.set(n,t)}).catch(()=>{}),Nu.set(e,t),e}function JE(t){if(Mu.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Mu.set(t,e)}var Ou={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Yg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return At(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Xg(t){Ou=t(Ou)}function ZE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(aa(this),e,...n);return Yg.set(i,e.sort?e.sort():[e]),At(i)}:YE().includes(t)?function(...e){return t.apply(aa(this),e),At(Qg.get(this))}:function(...e){return At(t.apply(aa(this),e))}}function eT(t){return typeof t=="function"?ZE(t):(t instanceof IDBTransaction&&JE(t),KE(t,QE())?new Proxy(t,Ou):t)}function At(t){if(t instanceof IDBRequest)return XE(t);if(xu.has(t))return xu.get(t);let e=eT(t);return e!==t&&(xu.set(t,e),Nu.set(e,t)),e}var aa=t=>Nu.get(t);function Zg(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(t,e),a=At(o);return i&&o.addEventListener("upgradeneeded",c=>{i(At(o.result),c.oldVersion,c.newVersion,At(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var tT=["get","getKey","getAll","getAllKeys","count"],nT=["put","add","delete","clear"],Vu=new Map;function Jg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vu.get(e))return Vu.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=nT.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||tT.includes(n)))return;let s=function(o,...a){return h(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),l=c.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),r&&c.done]))[0]})};return Vu.set(e,s),s}Xg(t=>ce(v({},t),{get:(e,n,i)=>Jg(e,n)||t.get(e,n,i),has:(e,n)=>!!Jg(e,n)||t.has(e,n)}));var Lu=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iT(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function iT(t){let e=t.getComponent();return e?.type==="VERSION"}var Uu="@firebase/app",e_="0.10.1";var zn=new pn("@firebase/app"),rT="@firebase/app-compat",sT="@firebase/analytics-compat",oT="@firebase/analytics",aT="@firebase/app-check-compat",cT="@firebase/app-check",lT="@firebase/auth",uT="@firebase/auth-compat",dT="@firebase/database",hT="@firebase/database-compat",fT="@firebase/functions",pT="@firebase/functions-compat",mT="@firebase/installations",gT="@firebase/installations-compat",_T="@firebase/messaging",vT="@firebase/messaging-compat",yT="@firebase/performance",IT="@firebase/performance-compat",bT="@firebase/remote-config",wT="@firebase/remote-config-compat",ET="@firebase/storage",TT="@firebase/storage-compat",CT="@firebase/firestore",AT="@firebase/firestore-compat",ST="firebase",RT="10.11.0";var Bu="[DEFAULT]",DT={[Uu]:"fire-core",[rT]:"fire-core-compat",[oT]:"fire-analytics",[sT]:"fire-analytics-compat",[cT]:"fire-app-check",[aT]:"fire-app-check-compat",[lT]:"fire-auth",[uT]:"fire-auth-compat",[dT]:"fire-rtdb",[hT]:"fire-rtdb-compat",[fT]:"fire-fn",[pT]:"fire-fn-compat",[mT]:"fire-iid",[gT]:"fire-iid-compat",[_T]:"fire-fcm",[vT]:"fire-fcm-compat",[yT]:"fire-perf",[IT]:"fire-perf-compat",[bT]:"fire-rc",[wT]:"fire-rc-compat",[ET]:"fire-gcs",[TT]:"fire-gcs-compat",[CT]:"fire-fst",[AT]:"fire-fst-compat","fire-js":"fire-js",[ST]:"fire-js-all"};var ls=new Map,PT=new Map,ju=new Map;function t_(t,e){try{t.container.addComponent(e)}catch(n){zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gn(t){let e=t.name;if(ju.has(e))return zn.debug(`There were multiple attempts to register component ${e}.`),!1;ju.set(e,t);for(let n of ls.values())t_(n,t);for(let n of PT.values())t_(n,t);return!0}function ds(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gt(t){return t.settings!==void 0}var kT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mn=new Ht("app","Firebase",kT);var $u=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new at("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mn.create("app-deleted",{appName:this._name})}};var _n=RT;function hs(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:Bu,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw mn.create("bad-app-name",{appName:String(r)});if(n||(n=Du()),!n)throw mn.create("no-options");let s=ls.get(r);if(s){if(jn(n,s.options)&&jn(i,s.config))return s;throw mn.create("duplicate-app",{appName:r})}let o=new oa(r);for(let c of ju.values())o.addComponent(c);let a=new $u(n,i,o);return ls.set(r,a),a}function qi(t=Bu){let e=ls.get(t);if(!e&&t===Bu&&Du())return hs();if(!e)throw mn.create("no-app",{appName:t});return e}function ca(){return Array.from(ls.values())}function Te(t,e,n){var i;let r=(i=DT[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zn.warn(a.join(" "));return}gn(new at(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var xT="firebase-heartbeat-database",MT=1,us="firebase-heartbeat-store",Fu=null;function s_(){return Fu||(Fu=Zg(xT,MT,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(us)}catch(n){console.warn(n)}}}}).catch(t=>{throw mn.create("idb-open",{originalErrorMessage:t.message})})),Fu}function OT(t){return h(this,null,function*(){try{let n=(yield s_()).transaction(us),i=yield n.objectStore(us).get(o_(t));return yield n.done,i}catch(e){if(e instanceof Ze)zn.warn(e.message);else{let n=mn.create("idb-get",{originalErrorMessage:e?.message});zn.warn(n.message)}}})}function n_(t,e){return h(this,null,function*(){try{let i=(yield s_()).transaction(us,"readwrite");yield i.objectStore(us).put(e,o_(t)),yield i.done}catch(n){if(n instanceof Ze)zn.warn(n.message);else{let i=mn.create("idb-set",{originalErrorMessage:n?.message});zn.warn(i.message)}}})}function o_(t){return`${t.name}!${t.options.appId}`}var NT=1024,VT=30*24*60*60*1e3,zu=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new qu(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return h(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=i_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=VT}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return h(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=i_(),{heartbeatsToSend:i,unsentEntries:r}=FT(this._heartbeatsCache.heartbeats),s=as(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function i_(){return new Date().toISOString().substring(0,10)}function FT(t,e=NT){let n=[],i=t.slice();for(let r of t){let s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),r_(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),r_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var qu=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return h(this,null,function*(){return sa()?qg().then(()=>!0).catch(()=>!1):!1})}read(){return h(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield OT(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return h(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return n_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return h(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return n_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function r_(t){return as(JSON.stringify({version:2,heartbeats:t})).length}function LT(t){gn(new at("platform-logger",e=>new Lu(e),"PRIVATE")),gn(new at("heartbeat",e=>new zu(e),"PRIVATE")),Te(Uu,e_,t),Te(Uu,e_,"esm2017"),Te("fire-js","")}LT("");var UT="firebase",BT="10.11.0";Te(UT,BT,"app");var Hn=new xi("ANGULARFIRE2_VERSION");function ua(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var fs=(t,e)=>{let n=e?[e]:ca(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},Gi=class{constructor(){return fs(jT)}},jT="app-check";function Hi(){}var la=class{zone;delegate;constructor(e,n=Zp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},Hu=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hi,{},Hi,Hi)),n.pipe(_e({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Wi=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new la(Zone.current)),this.insideAngular=n.run(()=>new la(Zone.current,Jp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(L(Q))};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function da(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function $T(t){return da().ngZone.runOutsideAngular(()=>t())}function qn(t){return da().ngZone.run(()=>t())}function zT(t){return qT(da())(t)}function qT(t){return function(n){return n=n.lift(new Hu(t.ngZone)),n.pipe(fl(t.outsideAngular),hl(t.insideAngular))}}var HT=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),qn(()=>t.apply(void 0,i))},et=(t,e)=>function(){let n,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(n||=qn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hi,{},Hi,Hi))),i[s]=HT(i[s],n));let r=$T(()=>t.apply(this,i));if(!e)if(r instanceof lt){let s=da();return r.pipe(fl(s.outsideAngular),hl(s.insideAngular))}else return qn(()=>r);return r instanceof lt?r.pipe(zT):r instanceof Promise?qn(()=>new Promise((s,o)=>r.then(a=>qn(()=>s(a)),a=>qn(()=>o(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:qn(()=>r)};var Wt=class{constructor(e){return e}},Gn=class{constructor(){return ca()}};function GT(t){return t&&t.length===1?t[0]:new Wt(qi())}var Gu=new z("angularfire2._apps"),WT={provide:Wt,useFactory:GT,deps:[[new Ke,Gu]]},KT={provide:Gn,deps:[[new Ke,Gu]]};function QT(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Wt(i)}}var YT=(()=>{class t{constructor(n){Te("angularfire",Hn.full,"core"),Te("angularfire",Hn.full,"app"),Te("angular",Am.full,n.toString())}static \u0275fac=function(i){return new(i||t)(L(jt))};static \u0275mod=de({type:t});static \u0275inj=ue({providers:[WT,KT]})}return t})();function a_(t,...e){return{ngModule:YT,providers:[{provide:Gu,useFactory:QT(t),multi:!0,deps:[Q,Bt,Wi,...e]}]}}var c_=et(hs,!0);function E_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var T_=E_,C_=new Ht("auth","Firebase",E_());var _a=new pn("@firebase/auth");function XT(t,...e){_a.logLevel<=q.WARN&&_a.warn(`Auth (${_n}): ${t}`,...e)}function fa(t,...e){_a.logLevel<=q.ERROR&&_a.error(`Auth (${_n}): ${t}`,...e)}function yn(t,...e){throw hd(t,...e)}function Kn(t,...e){return hd(t,...e)}function A_(t,e,n){let i=Object.assign(Object.assign({},T_()),{[e]:n});return new Ht("auth","Firebase",i).create(e,{appName:t.name})}function Wn(t){return A_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hd(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return C_.create(t,...e)}function N(t,e,...n){if(!t)throw hd(e,...n)}function Kt(t){let e="INTERNAL ASSERTION FAILED: "+t;throw fa(e),new Error(e)}function In(t,e){t||Kt(e)}function Yu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function JT(){return l_()==="http:"||l_()==="https:"}function l_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function ZT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JT()||Bg()||"connection"in navigator)?navigator.onLine:!0}function eC(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Qn=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,In(n>e,"Short delay should be less than long delay!"),this.isMobile=Ug()||jg()}get(){return ZT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function fd(t,e){In(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var va=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var tC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var nC=new Qn(3e4,6e4);function pd(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Qi(s,o,a,c){return h(this,arguments,function*(t,e,n,i,r={}){return S_(t,r,()=>h(this,null,function*(){let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});let d=cs(Object.assign({key:t.config.apiKey},u)).slice(1),f=yield t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),va.fetch()(R_(t,t.config.apiHost,n,d),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},l))}))})}function S_(t,e,n){return h(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},tC),e);try{let r=new Xu(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw ha(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ha(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ha(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ha(t,"user-disabled",o);let u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw A_(t,u,l);yn(t,u)}}catch(r){if(r instanceof Ze)throw r;yn(t,"network-request-failed",{message:String(r)})}})}function iC(s,o,a,c){return h(this,arguments,function*(t,e,n,i,r={}){let l=yield Qi(t,e,n,i,r);return"mfaPendingCredential"in l&&yn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function R_(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?fd(t.config,r):`${t.config.apiScheme}://${r}`}var Xu=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Kn(this.auth,"network-request-failed")),nC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ha(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=Kn(t,e,i);return r.customData._tokenResponse=n,r}function rC(t,e){return h(this,null,function*(){return Qi(t,"POST","/v1/accounts:delete",e)})}function D_(t,e){return h(this,null,function*(){return Qi(t,"POST","/v1/accounts:lookup",e)})}function ps(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function md(t,e=!1){return h(this,null,function*(){let n=qe(t),i=yield n.getIdToken(e),r=gd(i);N(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:ps(Wu(r.auth_time)),issuedAtTime:ps(Wu(r.iat)),expirationTime:ps(Wu(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Wu(t){return Number(t)*1e3}function gd(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return fa("JWT malformed, contained fewer than 3 sections"),null;try{let r=Su(n);return r?JSON.parse(r):(fa("Failed to decode base64 JWT payload"),null)}catch(r){return fa("Caught error parsing JWT payload as JSON",r?.toString()),null}}function u_(t){let e=gd(t);return N(e,"internal-error"),N(typeof e.exp<"u","internal-error"),N(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function gs(t,e,n=!1){return h(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof Ze&&sC(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function sC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Ju=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>h(this,null,function*(){yield this.iteration()}),n)}iteration(){return h(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var _s=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ps(this.lastLoginAt),this.creationTime=ps(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ya(t){return h(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield gs(t,D_(n,{idToken:i}));N(r?.users.length,n,"internal-error");let s=r.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?P_(s.providerUserInfo):[],a=oC(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,u=c?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new _s(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function _d(t){return h(this,null,function*(){let e=qe(t);yield ya(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function oC(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function P_(t){return t.map(e=>{var{providerId:n}=e,i=dl(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function aC(t,e){return h(this,null,function*(){let n=yield S_(t,{},()=>h(this,null,function*(){let i=cs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=R_(t,r,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",va.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function cC(t,e){return h(this,null,function*(){return Qi(t,"POST","/v2/accounts:revokeToken",pd(t,e))})}var ms=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N(typeof e.idToken<"u","internal-error"),N(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){N(e.length!==0,"internal-error");let n=u_(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return h(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(N(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return h(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield aC(e,n);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new t;return i&&(N(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(N(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(N(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Kt("not implemented")}};function vn(t,e){N(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ki=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=dl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ju(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _s(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return h(this,null,function*(){let n=yield gs(this,this.stsTokenManager.getToken(this.auth,e));return N(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return md(this,e)}reload(){return _d(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return h(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield ya(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return h(this,null,function*(){if(Gt(this.auth.app))return Promise.reject(Wn(this.auth));let e=yield this.getIdToken();return yield gs(this,rC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,c,l,u;let d=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,A=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,B=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Z=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:ge,emailVerified:Ve,isAnonymous:It,providerData:Ce,stsTokenManager:Ut}=n;N(ge&&Ut,e,"internal-error");let bi=ms.fromJSON(this.name,Ut);N(typeof ge=="string",e,"internal-error"),vn(d,e.name),vn(f,e.name),N(typeof Ve=="boolean",e,"internal-error"),N(typeof It=="boolean",e,"internal-error"),vn(p,e.name),vn(S,e.name),vn(A,e.name),vn(C,e.name),vn(B,e.name),vn(Z,e.name);let Sr=new t({uid:ge,auth:e,email:f,emailVerified:Ve,displayName:d,isAnonymous:It,photoURL:S,phoneNumber:p,tenantId:A,stsTokenManager:bi,createdAt:B,lastLoginAt:Z});return Ce&&Array.isArray(Ce)&&(Sr.providerData=Ce.map(Io=>Object.assign({},Io))),C&&(Sr._redirectEventId=C),Sr}static _fromIdTokenResponse(e,n,i=!1){return h(this,null,function*(){let r=new ms;r.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield ya(s),s})}static _fromGetAccountInfoResponse(e,n,i){return h(this,null,function*(){let r=n.users[0];N(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?P_(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new ms;a.updateFromIdToken(i);let c=new t({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new _s(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,l),c})}};var d_=new Map;function Qt(t){In(t instanceof Function,"Expected a class definition");let e=d_.get(t);return e?(In(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,d_.set(t,e),e)}var lC=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return h(this,null,function*(){return!0})}_set(n,i){return h(this,null,function*(){this.storage[n]=i})}_get(n){return h(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return h(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),Zu=lC;function pa(t,e,n){return`firebase:${t}:${e}:${n}`}var Ia=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=pa(this.userKey,r.apiKey,s),this.fullPersistenceKey=pa("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return h(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ki._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return h(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return h(this,null,function*(){if(!n.length)return new t(Qt(Zu),e,i);let r=(yield Promise.all(n.map(l=>h(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=r[0]||Qt(Zu),o=pa(i,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(o);if(u){let d=Ki._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,i):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>h(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,i))})}};function h_(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(M_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(k_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(N_(e))return"Blackberry";if(V_(e))return"Webos";if(vd(e))return"Safari";if((e.includes("chrome/")||x_(e))&&!e.includes("edge/"))return"Chrome";if(O_(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function k_(t=he()){return/firefox\//i.test(t)}function vd(t=he()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function x_(t=he()){return/crios\//i.test(t)}function M_(t=he()){return/iemobile/i.test(t)}function O_(t=he()){return/android/i.test(t)}function N_(t=he()){return/blackberry/i.test(t)}function V_(t=he()){return/webos/i.test(t)}function Ra(t=he()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uC(t=he()){var e;return Ra(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dC(){return $g()&&document.documentMode===10}function F_(t=he()){return Ra(t)||O_(t)||V_(t)||N_(t)||/windows phone/i.test(t)||M_(t)}function hC(){try{return!!(window&&window!==window.top)}catch{return!1}}function L_(t,e=[]){let n;switch(t){case"Browser":n=h_(he());break;case"Worker":n=`${h_(he())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_n}/${i}`}var ed=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return h(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function fC(n){return h(this,arguments,function*(t,e={}){return Qi(t,"GET","/v2/passwordPolicy",pd(t,e))})}var pC=6,td=class{constructor(e){var n,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:pC,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var nd=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ba(this),this.idTokenSubscription=new ba(this),this.beforeStateQueue=new ed(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qt(n)),this._initializationPromise=this.queue(()=>h(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Ia.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return h(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return h(this,null,function*(){try{let n=yield D_(this,{idToken:e}),i=yield Ki._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return h(this,null,function*(){var n;if(Gt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return N(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return h(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return h(this,null,function*(){try{yield ya(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=eC()}_delete(){return h(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return h(this,null,function*(){if(Gt(this.app))return Promise.reject(Wn(this));let n=e?qe(e):null;return n&&N(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return h(this,null,function*(){if(!this._deleted)return e&&N(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>h(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return h(this,null,function*(){return Gt(this.app)?Promise.reject(Wn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Gt(this.app)?Promise.reject(Wn(this)):this.queue(()=>h(this,null,function*(){yield this.assertedPersistence.setPersistence(Qt(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return h(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return h(this,null,function*(){let e=yield fC(this),n=new td(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ht("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return h(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield cC(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return h(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return h(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Qt(e)||this._popupRedirectResolver;N(n,this,"argument-error"),this.redirectPersistenceManager=yield Ia.create(this,[Qt(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return h(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>h(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return h(this,null,function*(){if(e===this.currentUser)return this.queue(()=>h(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(N(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,i,r);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return h(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=L_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return h(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return h(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&XT(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function yd(t){return qe(t)}var ba=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gg(n=>this.observer=n)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Id={loadJS(){return h(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mC(t){Id=t}function gC(t){return Id.loadJS(t)}function _C(){return Id.gapiScript}function U_(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function bd(t,e){let n=ds(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),s=n.getOptions();if(jn(s,e??{}))return r;yn(r,"already-initialized")}return n.initialize({options:e})}function vC(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Qt);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function wd(t,e,n){let i=yd(t);N(i._canInitEmulator,i,"emulator-config-failed"),N(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,s=B_(e),{host:o,port:a}=yC(e),c=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||IC()}function B_(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yC(t){let e=B_(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:f_(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:f_(o)}}}function f_(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function IC(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var wa=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kt("not implemented")}_getIdTokenResponse(e){return Kt("not implemented")}_linkToIdToken(e,n){return Kt("not implemented")}_getReauthenticationResolver(e){return Kt("not implemented")}};function Ku(t,e){return h(this,null,function*(){return iC(t,"POST","/v1/accounts:signInWithIdp",pd(t,e))})}var Ea=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var id=class extends Ea{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var vs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return h(this,null,function*(){let s=yield Ki._fromIdTokenResponse(e,i,r),o=p_(i);return new t({user:s,providerId:o,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return h(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=p_(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function p_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var rd=class t extends Ze{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function j_(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?rd._fromErrorAndOperation(t,s,e,i):s})}function bC(t,e,n=!1){return h(this,null,function*(){let i=yield gs(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return vs._forOperation(t,"link",i)})}function wC(t,e,n=!1){return h(this,null,function*(){let{auth:i}=t;if(Gt(i.app))return Promise.reject(Wn(i));let r="reauthenticate";try{let s=yield gs(t,j_(i,r,e,t),n);N(s.idToken,i,"internal-error");let o=gd(s.idToken);N(o,i,"internal-error");let{sub:a}=o;return N(t.uid===a,i,"user-mismatch"),vs._forOperation(t,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&yn(i,"user-mismatch"),s}})}function EC(t,e,n=!1){return h(this,null,function*(){if(Gt(t.app))return Promise.reject(Wn(t));let i="signIn",r=yield j_(t,i,e),s=yield vs._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(s.user)),s})}function Ed(t,e,n,i){return qe(t).onIdTokenChanged(e,n,i)}function Td(t,e,n){return qe(t).beforeAuthStateChanged(e,n)}var Ta="__sak";var Ca=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ta,"1"),this.storage.removeItem(Ta),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function TC(){let t=he();return vd(t)||Ra(t)}var CC=1e3,AC=10,SC=(()=>{class t extends Ca{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=TC()&&hC(),this.fallbackToPolling=F_(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&n(i,s,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let r=n.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(r);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(r,n.newValue):this.storage.removeItem(r);else if(this.localCache[r]===n.newValue&&!i)return}let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);dC()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,AC):s()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},CC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return h(this,null,function*(){yield tn(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return h(this,null,function*(){let i=yield tn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return h(this,null,function*(){yield tn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),$_=SC;var RC=(()=>{class t extends Ca{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),Cd=RC;function DC(t){return Promise.all(t.map(e=>h(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var PC=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(s=>s.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return h(this,null,function*(){let i=n,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let c=Array.from(a).map(u=>h(this,null,function*(){return u(i.origin,o)})),l=yield DC(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function z_(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var sd=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return h(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=z_("",20);r.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(d){let f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function St(){return window}function kC(t){St().location.href=t}function q_(){return typeof St().WorkerGlobalScope<"u"&&typeof St().importScripts=="function"}function xC(){return h(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function MC(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function OC(){return q_()?self:null}var H_="firebaseLocalStorageDb",NC=1,Aa="firebaseLocalStorage",G_="fbase_key",Yn=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Da(t,e){return t.transaction([Aa],e?"readwrite":"readonly").objectStore(Aa)}function VC(){let t=indexedDB.deleteDatabase(H_);return new Yn(t).toPromise()}function od(){let t=indexedDB.open(H_,NC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(Aa,{keyPath:G_})}catch(r){n(r)}}),t.addEventListener("success",()=>h(this,null,function*(){let i=t.result;i.objectStoreNames.contains(Aa)?e(i):(i.close(),yield VC(),e(yield od()))}))})}function m_(t,e,n){return h(this,null,function*(){let i=Da(t,!0).put({[G_]:e,value:n});return new Yn(i).toPromise()})}function FC(t,e){return h(this,null,function*(){let n=Da(t,!1).get(e),i=yield new Yn(n).toPromise();return i===void 0?null:i.value})}function g_(t,e){let n=Da(t,!0).delete(e);return new Yn(n).toPromise()}var LC=800,UC=3,BC=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return h(this,null,function*(){return this.db?this.db:(this.db=yield od(),this.db)})}_withRetries(n){return h(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>UC)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return h(this,null,function*(){return q_()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return h(this,null,function*(){this.receiver=PC._getInstance(OC()),this.receiver._subscribe("keyChanged",(n,i)=>h(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>h(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return h(this,null,function*(){var n,i;if(this.activeServiceWorker=yield xC(),!this.activeServiceWorker)return;this.sender=new sd(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return h(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||MC()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return h(this,null,function*(){try{if(!indexedDB)return!1;let n=yield od();return yield m_(n,Ta,"1"),yield g_(n,Ta),!0}catch{}return!1})}_withPendingWrite(n){return h(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return h(this,null,function*(){return this._withPendingWrite(()=>h(this,null,function*(){return yield this._withRetries(r=>m_(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return h(this,null,function*(){let i=yield this._withRetries(r=>FC(r,n));return this.localCache[n]=i,i})}_remove(n){return h(this,null,function*(){return this._withPendingWrite(()=>h(this,null,function*(){return yield this._withRetries(i=>g_(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return h(this,null,function*(){let n=yield this._withRetries(s=>{let o=Da(s,!1).getAll();return new Yn(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>h(this,null,function*(){return this._poll()}),LC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),W_=BC;var Zx=U_("rcb"),eM=new Qn(3e4,6e4);function jC(t,e){return e?Qt(e):(N(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ys=class extends wa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ku(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ku(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ku(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function $C(t){return EC(t.auth,new ys(t),t.bypassAuthState)}function zC(t){let{auth:e,user:n}=t;return N(n,e,"internal-error"),wC(n,new ys(t),t.bypassAuthState)}function qC(t){return h(this,null,function*(){let{auth:e,user:n}=t;return N(n,e,"internal-error"),bC(n,new ys(t),t.bypassAuthState)})}var ad=class{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>h(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return h(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $C;case"linkViaPopup":case"linkViaRedirect":return qC;case"reauthViaPopup":case"reauthViaRedirect":return zC;default:yn(this.auth,"internal-error")}}resolve(e){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var tM=new Qn(2e3,1e4);var HC="pendingRedirect",ma=new Map,cd=class t extends ad{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return h(this,null,function*(){let e=ma.get(this.auth._key());if(!e){try{let i=(yield GC(this.resolver,this.auth))?yield tn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}ma.set(this.auth._key(),e)}return this.bypassAuthState||ma.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return h(this,null,function*(){if(e.type==="signInViaRedirect")return tn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,tn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return h(this,null,function*(){})}cleanUp(){}};function GC(t,e){return h(this,null,function*(){let n=QC(e),i=KC(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function WC(t,e){ma.set(t._key(),e)}function KC(t){return Qt(t._redirectPersistence)}function QC(t){return pa(HC,t.config.apiKey,t.name)}function YC(t,e,n=!1){return h(this,null,function*(){if(Gt(t.app))return Promise.reject(Wn(t));let i=yd(t),r=jC(i,e),o=yield new cd(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var XC=10*60*1e3,ld=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!K_(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Kn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XC&&this.cachedEventUids.clear(),this.cachedEventUids.has(__(e))}saveEventToCache(e){this.cachedEventUids.add(__(e)),this.lastProcessedEventTime=Date.now()}};function __(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function K_({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function JC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K_(t);default:return!1}}function ZC(n){return h(this,arguments,function*(t,e={}){return Qi(t,"GET","/v1/projects",e)})}var eA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tA=/^https?/;function nA(t){return h(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield ZC(t);for(let n of e)try{if(iA(n))return}catch{}yn(t,"unauthorized-domain")})}function iA(t){let e=Yu(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!tA.test(n))return!1;if(eA.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var rA=new Qn(3e4,6e4);function v_(){let t=St().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sA(t){return new Promise((e,n)=>{var i,r,s;function o(){v_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v_(),n(Kn(t,"network-request-failed"))},timeout:rA.get()})}if(!((r=(i=St().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=St().gapi)===null||s===void 0)&&s.load)o();else{let a=U_("iframefcb");return St()[a]=()=>{gapi.load?o():n(Kn(t,"network-request-failed"))},gC(`${_C()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw ga=null,e})}var ga=null;function oA(t){return ga=ga||sA(t),ga}var aA=new Qn(5e3,15e3),cA="__/auth/iframe",lA="emulator/auth/iframe",uA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hA(t){let e=t.config;N(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?fd(e,lA):`https://${t.config.authDomain}/${cA}`,i={apiKey:e.apiKey,appName:t.name,v:_n},r=dA.get(t.config.apiHost);r&&(i.eid=r);let s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${cs(i).slice(1)}`}function fA(t){return h(this,null,function*(){let e=yield oA(t),n=St().gapi;return N(n,t,"internal-error"),e.open({where:document.body,url:hA(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uA,dontclear:!0},i=>new Promise((r,s)=>h(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=Kn(t,"network-request-failed"),a=St().setTimeout(()=>{s(o)},aA.get());function c(){St().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{s(o)})})))})}var pA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mA=500,gA=600,_A="_blank",vA="http://localhost",Sa=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function yA(t,e,n,i=mA,r=gA){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},pA),{width:i.toString(),height:r.toString(),top:s,left:o}),l=he().toLowerCase();n&&(a=x_(l)?_A:n),k_(l)&&(e=e||vA,c.scrollbars="yes");let u=Object.entries(c).reduce((f,[p,S])=>`${f}${p}=${S},`,"");if(uC(l)&&a!=="_self")return IA(e||"",a),new Sa(null);let d=window.open(e||"",a,u);N(d,t,"popup-blocked");try{d.focus()}catch{}return new Sa(d)}function IA(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var bA="__/auth/handler",wA="emulator/auth/handler",EA=encodeURIComponent("fac");function y_(t,e,n,i,r,s){return h(this,null,function*(){N(t.config.authDomain,t,"auth-domain-config-required"),N(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:_n,eventId:r};if(e instanceof Ea){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Hg(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof id){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${EA}=${encodeURIComponent(c)}`:"";return`${TA(t)}?${cs(a).slice(1)}${l}`})}function TA({config:t}){return t.emulator?fd(t,wA):`https://${t.authDomain}/${bA}`}var Qu="webStorageSupport",ud=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cd,this._completeRedirectFn=YC,this._overrideRedirectResult=WC}_openPopup(e,n,i,r){return h(this,null,function*(){var s;In((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield y_(e,n,i,Yu(),r);return yA(e,o,z_())})}_openRedirect(e,n,i,r){return h(this,null,function*(){yield this._originValidation(e);let s=yield y_(e,n,i,Yu(),r);return kC(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(In(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return h(this,null,function*(){let n=yield fA(e),i=new ld(e);return n.register("authEvent",r=>(N(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qu,{type:Qu},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[Qu];o!==void 0&&n(!!o),yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return F_()||vd()||Ra()}},Q_=ud;var I_="@firebase/auth",b_="1.7.1";var dd=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return h(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function CA(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AA(t){gn(new at("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;N(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:L_(t)},l=new nd(i,r,s,c);return vC(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),gn(new at("auth-internal",e=>{let n=yd(e.getProvider("auth").getImmediate());return(i=>new dd(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Te(I_,b_,CA(t)),Te(I_,b_,"esm2017")}var SA=5*60,RA=Pu("authIdTokenMaxAge")||SA,w_=null,DA=t=>e=>h(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>RA)return;let r=n?.token;w_!==r&&(w_=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Ad(t=qi()){let e=ds(t,"auth");if(e.isInitialized())return e.getImmediate();let n=bd(t,{popupRedirectResolver:Q_,persistence:[W_,$_,Cd]}),i=Pu("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=DA(s.toString());Td(n,o,()=>o(n.currentUser)),Ed(n,a=>o(a))}}let r=Ru("auth");return r&&wd(n,`http://${r}`),n}function PA(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}mC({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let s=Kn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",PA().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AA("Browser");var Y_="auth",Is=class{constructor(e){return e}},bs=class{constructor(){return fs(Y_)}};var Sd=new z("angularfire2.auth-instances");function ES(t,e){let n=ua(Y_,t,e);return n&&new Is(n)}function TS(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Is(i)}}var CS={provide:bs,deps:[[new Ke,Sd]]},AS={provide:Is,useFactory:ES,deps:[[new Ke,Sd],Wt]},SS=(()=>{class t{constructor(){Te("angularfire",Hn.full,"auth")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=de({type:t});static \u0275inj=ue({providers:[AS,CS]})}return t})();function X_(t,...e){return{ngModule:SS,providers:[{provide:Sd,useFactory:TS(t),multi:!0,deps:[Q,Bt,Wi,Gn,[new Ke,Gi],...e]}]}}var J_=et(Ad,!0);var RS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mt={},I,Qd=Qd||{},V=RS||self;function za(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ns(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function DS(t){return Object.prototype.hasOwnProperty.call(t,Rd)&&t[Rd]||(t[Rd]=++PS)}var Rd="closure_uid_"+(1e9*Math.random()>>>0),PS=0;function kS(t,e,n){return t.call.apply(t.bind,arguments)}function xS(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Le(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Le=kS:Le=xS,Le.apply(null,arguments)}function Pa(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function De(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(i,o)}}function bn(){this.s=this.s,this.o=this.o}var MS=0;bn.prototype.s=!1;bn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),MS!=0)&&DS(this)};bn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var dv=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Yd(t){let e=t.length;if(0<e){let n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function Z_(t,e){for(let n=1;n<arguments.length;n++){let i=arguments[n];if(za(i)){let r=t.length||0,s=i.length||0;t.length=r+s;for(let o=0;o<s;o++)t[r+o]=i[o]}else t.push(i)}}function Ue(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ue.prototype.h=function(){this.defaultPrevented=!0};var OS=function(){if(!V.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};V.addEventListener("test",n,e),V.removeEventListener("test",n,e)}catch{}return t}();function Ss(t){return/^[\s\xa0]*$/.test(t)}function qa(){var t=V.navigator;return t&&(t=t.userAgent)?t:""}function Rt(t){return qa().indexOf(t)!=-1}function Xd(t){return Xd[" "](t),t}Xd[" "]=function(){};function NS(t,e){var n=ER;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var VS=Rt("Opera"),Zi=Rt("Trident")||Rt("MSIE"),hv=Rt("Edge"),Md=hv||Zi,fv=Rt("Gecko")&&!(qa().toLowerCase().indexOf("webkit")!=-1&&!Rt("Edge"))&&!(Rt("Trident")||Rt("MSIE"))&&!Rt("Edge"),FS=qa().toLowerCase().indexOf("webkit")!=-1&&!Rt("Edge");function pv(){var t=V.document;return t?t.documentMode:void 0}var Od;e:{if(ka="",xa=function(){var t=qa();if(fv)return/rv:([^\);]+)(\)|;)/.exec(t);if(hv)return/Edge\/([\d\.]+)/.exec(t);if(Zi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(FS)return/WebKit\/(\S+)/.exec(t);if(VS)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),xa&&(ka=xa?xa[1]:""),Zi&&(Ma=pv(),Ma!=null&&Ma>parseFloat(ka))){Od=String(Ma);break e}Od=ka}var ka,xa,Ma,Nd;V.document&&Zi?(Dd=pv(),Nd=Dd||parseInt(Od,10)||void 0):Nd=void 0;var Dd,LS=Nd;function Rs(t,e){if(Ue.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(fv){e:{try{Xd(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:US[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Rs.$.h.call(this)}}De(Rs,Ue);var US={2:"touch",3:"pen",4:"mouse"};Rs.prototype.h=function(){Rs.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Vs="closure_listenable_"+(1e6*Math.random()|0),BS=0;function jS(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++BS,this.fa=this.ia=!1}function Ha(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Jd(t,e,n){for(let i in t)e.call(n,t[i],i,t)}function $S(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function mv(t){let e={};for(let n in t)e[n]=t[n];return e}var ev="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gv(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let s=0;s<ev.length;s++)n=ev[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Ga(t){this.src=t,this.g={},this.h=0}Ga.prototype.add=function(t,e,n,i,r){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Fd(t,e,i,r);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new jS(e,this.src,s,!!i,r),e.ia=n,t.push(e)),e};function Vd(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=dv(i,e),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Ha(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Fd(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==i)return r}return-1}var Zd="closure_lm_"+(1e6*Math.random()|0),Pd={};function _v(t,e,n,i,r){if(i&&i.once)return yv(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)_v(t,e[s],n,i,r);return null}return n=nh(n),t&&t[Vs]?t.O(e,n,Ns(i)?!!i.capture:!!i,r):vv(t,e,n,!1,i,r)}function vv(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=Ns(r)?!!r.capture:!!r,a=th(t);if(a||(t[Zd]=a=new Ga(t)),n=a.add(e,n,i,o,s),n.proxy)return n;if(i=zS(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)OS||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(bv(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function zS(){function t(n){return e.call(t.src,t.listener,n)}let e=qS;return t}function yv(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)yv(t,e[s],n,i,r);return null}return n=nh(n),t&&t[Vs]?t.P(e,n,Ns(i)?!!i.capture:!!i,r):vv(t,e,n,!0,i,r)}function Iv(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)Iv(t,e[s],n,i,r);else i=Ns(i)?!!i.capture:!!i,n=nh(n),t&&t[Vs]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Fd(s,n,i,r),-1<n&&(Ha(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=th(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Fd(e,n,i,r)),(n=-1<t?e[t]:null)&&eh(n))}function eh(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Vs])Vd(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(bv(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=th(e))?(Vd(n,t),n.h==0&&(n.src=null,e[Zd]=null)):Ha(t)}}}function bv(t){return t in Pd?Pd[t]:Pd[t]="on"+t}function qS(t,e){if(t.fa)t=!0;else{e=new Rs(e,this);var n=t.listener,i=t.la||t.src;t.ia&&eh(t),t=n.call(i,e)}return t}function th(t){return t=t[Zd],t instanceof Ga?t:null}var kd="__closure_events_fn_"+(1e9*Math.random()>>>0);function nh(t){return typeof t=="function"?t:(t[kd]||(t[kd]=function(e){return t.handleEvent(e)}),t[kd])}function Re(){bn.call(this),this.i=new Ga(this),this.S=this,this.J=null}De(Re,bn);Re.prototype[Vs]=!0;Re.prototype.removeEventListener=function(t,e,n,i){Iv(this,t,e,n,i)};function Oe(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Ue(e,t);else if(e instanceof Ue)e.target=e.target||t;else{var r=e;e=new Ue(i,t),gv(e,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=Oa(o,i,!0,e)&&r}if(o=e.g=t,r=Oa(o,i,!0,e)&&r,r=Oa(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)o=e.g=n[s],r=Oa(o,i,!1,e)&&r}Re.prototype.N=function(){if(Re.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Ha(n[i]);delete t.g[e],t.h--}}this.J=null};Re.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};Re.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Oa(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Vd(t.i,o),r=a.call(c,i)!==!1&&r}}return r&&!i.defaultPrevented}var ih=V.JSON.stringify,Ld=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function HS(){var t=rh;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Ud=class{constructor(){this.h=this.g=null}add(e,n){let i=wv.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},wv=new Ld(()=>new Bd,t=>t.reset()),Bd=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function GS(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function WS(t){V.setTimeout(()=>{throw t},0)}var Ds,Ps=!1,rh=new Ud,Ev=()=>{let t=V.Promise.resolve(void 0);Ds=()=>{t.then(KS)}},KS=()=>{for(var t;t=HS();){try{t.h.call(t.g)}catch(n){WS(n)}var e=wv;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ps=!1};function Wa(t,e){Re.call(this),this.h=t||1,this.g=e||V,this.j=Le(this.qb,this),this.l=Date.now()}De(Wa,Re);I=Wa.prototype;I.ga=!1;I.T=null;I.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Oe(this,"tick"),this.ga&&(sh(this),this.start()))}};I.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function sh(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}I.N=function(){Wa.$.N.call(this),sh(this),delete this.g};function oh(t,e,n){if(typeof t=="function")n&&(t=Le(t,n));else if(t&&typeof t.handleEvent=="function")t=Le(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:V.setTimeout(t,e||0)}function Tv(t){t.g=oh(()=>{t.g=null,t.i&&(t.i=!1,Tv(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var jd=class extends bn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Tv(this)}N(){super.N(),this.g&&(V.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function ks(t){bn.call(this),this.h=t,this.g={}}De(ks,bn);var tv=[];function Cv(t,e,n,i){Array.isArray(n)||(n&&(tv[0]=n.toString()),n=tv);for(var r=0;r<n.length;r++){var s=_v(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Av(t){Jd(t.g,function(e,n){this.g.hasOwnProperty(n)&&eh(e)},t),t.g={}}ks.prototype.N=function(){ks.$.N.call(this),Av(this)};ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ka(){this.g=!0}Ka.prototype.Ea=function(){this.g=!1};function QS(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function YS(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+s+" "+o})}function Xi(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+JS(t,n)+(i?" "+i:"")})}function XS(t,e){t.info(function(){return"TIMEOUT: "+e})}Ka.prototype.info=function(){};function JS(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return ih(n)}catch{return e}}var ei={},nv=null;function Qa(){return nv=nv||new Re}ei.Ta="serverreachability";function Sv(t){Ue.call(this,ei.Ta,t)}De(Sv,Ue);function xs(t){let e=Qa();Oe(e,new Sv(e))}ei.STAT_EVENT="statevent";function Rv(t,e){Ue.call(this,ei.STAT_EVENT,t),this.stat=e}De(Rv,Ue);function He(t){let e=Qa();Oe(e,new Rv(e,t))}ei.Ua="timingevent";function Dv(t,e){Ue.call(this,ei.Ua,t),this.size=e}De(Dv,Ue);function Fs(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return V.setTimeout(function(){t()},e)}var Ya={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Pv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ah(){}ah.prototype.h=null;function iv(t){return t.h||(t.h=t.i())}function kv(){}var Ls={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ch(){Ue.call(this,"d")}De(ch,Ue);function lh(){Ue.call(this,"c")}De(lh,Ue);var $d;function Xa(){}De(Xa,ah);Xa.prototype.g=function(){return new XMLHttpRequest};Xa.prototype.i=function(){return{}};$d=new Xa;function Us(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new ks(this),this.P=ZS,t=Md?125:void 0,this.V=new Wa(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xv}function xv(){this.i=null,this.g="",this.h=!1}var ZS=45e3,Mv={},zd={};I=Us.prototype;I.setTimeout=function(t){this.P=t};function qd(t,e,n){t.L=1,t.A=Za(Xt(e)),t.u=n,t.S=!0,Ov(t,null)}function Ov(t,e){t.G=Date.now(),Bs(t),t.B=Xt(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),$v(n.i,"t",i),t.o=0,n=t.l.J,t.h=new xv,t.g=ly(t.l,n?e:null,!t.u),0<t.O&&(t.M=new jd(Le(t.Pa,t,t.g),t.O)),Cv(t.U,t.g,"readystatechange",t.nb),e=t.I?mv(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),xs(),QS(t.j,t.v,t.B,t.m,t.W,t.u)}I.nb=function(t){t=t.target;let e=this.M;e&&Dt(t)==3?e.l():this.Pa(t)};I.Pa=function(t){try{if(t==this.g)e:{let u=Dt(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>u)&&(u!=3||Md||this.g&&(this.h.h||this.g.ja()||av(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?xs(3):xs(2)),Ja(this);var n=this.g.da();this.ca=n;t:if(Nv(this)){var i=av(this.g);t="";var r=i.length,s=Dt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xn(this),As(this);var o="";break t}this.h.i=new V.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,YS(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ss(a)){var l=a;break t}}l=null}if(n=l)Xi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hd(this,n);else{this.i=!1,this.s=3,He(12),Xn(this),As(this);break e}}this.S?(Vv(this,u,o),Md&&this.i&&u==3&&(Cv(this.U,this.V,"tick",this.mb),this.V.start())):(Xi(this.j,this.m,o,null),Hd(this,o)),u==4&&Xn(this),this.i&&!this.J&&(u==4?sy(this.l,this):(this.i=!1,Bs(this)))}else IR(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,He(12)):(this.s=0,He(13)),Xn(this),As(this)}}}catch{}finally{}};function Nv(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function Vv(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=eR(t,n),r==zd){e==4&&(t.s=4,He(14),i=!1),Xi(t.j,t.m,null,"[Incomplete Response]");break}else if(r==Mv){t.s=4,He(15),Xi(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Xi(t.j,t.m,r,null),Hd(t,r);Nv(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,He(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),mh(e),e.M=!0,He(11))):(Xi(t.j,t.m,n,"[Invalid Chunked Response]"),Xn(t),As(t))}I.mb=function(){if(this.g){var t=Dt(this.g),e=this.g.ja();this.o<e.length&&(Ja(this),Vv(this,t,e),this.i&&t!=4&&Bs(this))}};function eR(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?zd:(n=Number(e.substring(n,i)),isNaN(n)?Mv:(i+=1,i+n>e.length?zd:(e=e.slice(i,i+n),t.o=i+n,e)))}I.cancel=function(){this.J=!0,Xn(this)};function Bs(t){t.Y=Date.now()+t.P,Fv(t,t.P)}function Fv(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Fs(Le(t.lb,t),e)}function Ja(t){t.C&&(V.clearTimeout(t.C),t.C=null)}I.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(XS(this.j,this.B),this.L!=2&&(xs(),He(17)),Xn(this),this.s=2,As(this)):Fv(this,this.Y-t)};function As(t){t.l.H==0||t.J||sy(t.l,t)}function Xn(t){Ja(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,sh(t.V),Av(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Hd(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Gd(n.i,t))){if(!t.K&&Gd(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ua(n),nc(n);else break e;ph(n),He(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=Fs(Le(n.ib,n),6e3));if(1>=Hv(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Jn(n,11)}else if((t.K||n.g==t)&&Ua(n),!Ss(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let f=l[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;let p=t.g;if(p){let S=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var s=i.i;s.g||S.indexOf("spdy")==-1&&S.indexOf("quic")==-1&&S.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(uh(s,s.h),s.h=null))}if(i.F){let A=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;A&&(i.Da=A,ae(i.I,i.F,A))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=t;if(i.wa=cy(i,i.J?i.pa:null,i.Y),o.K){Gv(i.i,o);var a=o,c=i.L;c&&a.setTimeout(c),a.C&&(Ja(a),Bs(a)),i.g=o}else iy(i);0<n.j.length&&ic(n)}else l[0]!="stop"&&l[0]!="close"||Jn(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Jn(n,7):fh(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}xs(4)}catch{}}function tR(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(za(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function nR(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(za(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let i in t)e[n++]=i;return e}}}function Lv(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(za(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=nR(t),i=tR(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}var Uv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iR(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Zn(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Zn){this.h=t.h,Fa(this,t.j),this.s=t.s,this.g=t.g,La(this,t.m),this.l=t.l;var e=t.i,n=new Ms;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),rv(this,n),this.o=t.o}else t&&(e=String(t).match(Uv))?(this.h=!1,Fa(this,e[1]||"",!0),this.s=Ts(e[2]||""),this.g=Ts(e[3]||"",!0),La(this,e[4]),this.l=Ts(e[5]||"",!0),rv(this,e[6]||"",!0),this.o=Ts(e[7]||"")):(this.h=!1,this.i=new Ms(null,this.h))}Zn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Cs(e,sv,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Cs(e,sv,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Cs(n,n.charAt(0)=="/"?oR:sR,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Cs(n,cR)),t.join("")};function Xt(t){return new Zn(t)}function Fa(t,e,n){t.j=n?Ts(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function La(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function rv(t,e,n){e instanceof Ms?(t.i=e,lR(t.i,t.h)):(n||(e=Cs(e,aR)),t.i=new Ms(e,t.h))}function ae(t,e,n){t.i.set(e,n)}function Za(t){return ae(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ts(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Cs(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,rR),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function rR(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var sv=/[#\/\?@]/g,sR=/[#\?:]/g,oR=/[#\?]/g,aR=/[#\?@]/g,cR=/#/g;function Ms(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function wn(t){t.g||(t.g=new Map,t.h=0,t.i&&iR(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}I=Ms.prototype;I.add=function(t,e){wn(this),this.i=null,t=er(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Bv(t,e){wn(t),e=er(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function jv(t,e){return wn(t),e=er(t,e),t.g.has(e)}I.forEach=function(t,e){wn(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};I.ta=function(){wn(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){let r=t[i];for(let s=0;s<r.length;s++)n.push(e[i])}return n};I.Z=function(t){wn(this);let e=[];if(typeof t=="string")jv(this,t)&&(e=e.concat(this.g.get(er(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};I.set=function(t,e){return wn(this),this.i=null,t=er(this,t),jv(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};I.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function $v(t,e,n){Bv(t,e),0<n.length&&(t.i=null,t.g.set(er(t,e),Yd(n)),t.h+=n.length)}I.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];let s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;o[i]!==""&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};function er(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function lR(t,e){e&&!t.j&&(wn(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(Bv(this,i),$v(this,r,n))},t)),t.j=e}var uR=class{constructor(t,e){this.g=t,this.map=e}};function zv(t){this.l=t||dR,V.PerformanceNavigationTiming?(t=V.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(V.g&&V.g.Ka&&V.g.Ka()&&V.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dR=10;function qv(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Hv(t){return t.h?1:t.g?t.g.size:0}function Gd(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function uh(t,e){t.g?t.g.add(e):t.h=e}function Gv(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}zv.prototype.cancel=function(){if(this.i=Wv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function Wv(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Yd(t.i)}var hR=class{stringify(t){return V.JSON.stringify(t,void 0)}parse(t){return V.JSON.parse(t,void 0)}};function fR(){this.g=new hR}function pR(t,e,n){let i=n||"";try{Lv(t,function(r,s){let o=r;Ns(r)&&(o=ih(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function mR(t,e){let n=new Ka;if(V.Image){let i=new Image;i.onload=Pa(Na,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Pa(Na,n,i,"TestLoadImage: error",!1,e),i.onabort=Pa(Na,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Pa(Na,n,i,"TestLoadImage: timeout",!1,e),V.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Na(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function js(t){this.l=t.ec||null,this.j=t.ob||!1}De(js,ah);js.prototype.g=function(){return new ec(this.l,this.j)};js.prototype.i=function(t){return function(){return t}}({});function ec(t,e){Re.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=dh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}De(ec,Re);var dh=0;I=ec.prototype;I.open=function(t,e){if(this.readyState!=dh)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Os(this)};I.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||V).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};I.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$s(this)),this.readyState=dh};I.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Os(this)),this.g&&(this.readyState=3,Os(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof V.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Kv(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Kv(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}I.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?$s(this):Os(this),this.readyState==3&&Kv(this)}};I.Za=function(t){this.g&&(this.response=this.responseText=t,$s(this))};I.Ya=function(t){this.g&&(this.response=t,$s(this))};I.ka=function(){this.g&&$s(this)};function $s(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Os(t)}I.setRequestHeader=function(t,e){this.v.append(t,e)};I.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};I.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Os(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ec.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var gR=V.JSON.parse;function fe(t){Re.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Qv,this.L=this.M=!1}De(fe,Re);var Qv="",_R=/^https?$/i,vR=["POST","PUT"];I=fe.prototype;I.Oa=function(t){this.M=t};I.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$d.g(),this.C=this.u?iv(this.u):iv($d),this.g.onreadystatechange=Le(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){ov(this,s);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=V.FormData&&t instanceof V.FormData,!(0<=dv(vR,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Jv(this),0<this.B&&((this.L=yR(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Le(this.ua,this)):this.A=oh(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ov(this,s)}};function yR(t){return Zi&&typeof t.timeout=="number"&&t.ontimeout!==void 0}I.ua=function(){typeof Qd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oe(this,"timeout"),this.abort(8))};function ov(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Yv(t),tc(t)}function Yv(t){t.F||(t.F=!0,Oe(t,"complete"),Oe(t,"error"))}I.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Oe(this,"complete"),Oe(this,"abort"),tc(this))};I.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tc(this,!0)),fe.$.N.call(this)};I.La=function(){this.s||(this.G||this.v||this.l?Xv(this):this.kb())};I.kb=function(){Xv(this)};function Xv(t){if(t.h&&typeof Qd<"u"&&(!t.C[1]||Dt(t)!=4||t.da()!=2)){if(t.v&&Dt(t)==4)oh(t.La,0,t);else if(Oe(t,"readystatechange"),Dt(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=o===0){var r=String(t.I).match(Uv)[1]||null;!r&&V.self&&V.self.location&&(r=V.self.location.protocol.slice(0,-1)),i=!_R.test(r?r.toLowerCase():"")}n=i}if(n)Oe(t,"complete"),Oe(t,"success");else{t.m=6;try{var s=2<Dt(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Yv(t)}}finally{tc(t)}}}}function tc(t,e){if(t.g){Jv(t);let n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Oe(t,"ready");try{n.onreadystatechange=i}catch{}}}function Jv(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(V.clearTimeout(t.A),t.A=null)}I.isActive=function(){return!!this.g};function Dt(t){return t.g?t.g.readyState:0}I.da=function(){try{return 2<Dt(this)?this.g.status:-1}catch{return-1}};I.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};I.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),gR(e)}};function av(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Qv:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function IR(t){let e={};t=(t.g&&2<=Dt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Ss(t[i]))continue;var n=GS(t[i]);let r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[r]||[];e[r]=s,s.push(n)}$S(e,function(i){return i.join(", ")})}I.Ia=function(){return this.m};I.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Zv(t){let e="";return Jd(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function hh(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=Zv(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ae(t,e,n))}function ws(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ey(t){this.Ga=0,this.j=[],this.l=new Ka,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ws("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ws("baseRetryDelayMs",5e3,t),this.hb=ws("retryDelaySeedMs",1e4,t),this.eb=ws("forwardChannelMaxRetries",2,t),this.xa=ws("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new zv(t&&t.concurrentRequestLimit),this.Ja=new fR,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}I=ey.prototype;I.ra=8;I.H=1;function fh(t){if(ty(t),t.H==3){var e=t.W++,n=Xt(t.I);if(ae(n,"SID",t.K),ae(n,"RID",e),ae(n,"TYPE","terminate"),zs(t,n),e=new Us(t,t.l,e),e.L=2,e.A=Za(Xt(n)),n=!1,V.navigator&&V.navigator.sendBeacon)try{n=V.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&V.Image&&(new Image().src=e.A,n=!0),n||(e.g=ly(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Bs(e)}ay(t)}function nc(t){t.g&&(mh(t),t.g.cancel(),t.g=null)}function ty(t){nc(t),t.u&&(V.clearTimeout(t.u),t.u=null),Ua(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&V.clearTimeout(t.m),t.m=null)}function ic(t){if(!qv(t.i)&&!t.m){t.m=!0;var e=t.Na;Ds||Ev(),Ps||(Ds(),Ps=!0),rh.add(e,t),t.C=0}}function bR(t,e){return Hv(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Fs(Le(t.Na,t,e),oy(t,t.C)),t.C++,!0)}I.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let r=new Us(this,this.l,t),s=this.s;if(this.U&&(s?(s=mv(s),gv(s,this.U)):s=this.U),this.o!==null||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ny(this,r,e),n=Xt(this.I),ae(n,"RID",t),ae(n,"CVER",22),this.F&&ae(n,"X-HTTP-Session-Id",this.F),zs(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Zv(s)))+"&"+e:this.o&&hh(n,this.o,s)),uh(this.i,r),this.bb&&ae(n,"TYPE","init"),this.P?(ae(n,"$req",e),ae(n,"SID","null"),r.aa=!0,qd(r,n,null)):qd(r,n,e),this.H=2}}else this.H==3&&(t?cv(this,t):this.j.length==0||qv(this.i)||cv(this))};function cv(t,e){var n;e?n=e.m:n=t.W++;let i=Xt(t.I);ae(i,"SID",t.K),ae(i,"RID",n),ae(i,"AID",t.V),zs(t,i),t.o&&t.s&&hh(i,t.o,t.s),n=new Us(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ny(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),uh(t.i,n),qd(n,i,e)}function zs(t,e){t.na&&Jd(t.na,function(n,i){ae(e,i,n)}),t.h&&Lv({},function(n,i){ae(e,i,n)})}function ny(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Le(t.h.Va,t.h,t):null;e:{var r=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=r[c].g,u=r[c].map;if(l-=s,0>l)s=Math.max(0,r[c].g-100),a=!1;else try{pR(u,o,"req"+l+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function iy(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ds||Ev(),Ps||(Ds(),Ps=!0),rh.add(e,t),t.A=0}}function ph(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Fs(Le(t.Ma,t),oy(t,t.A)),t.A++,!0)}I.Ma=function(){if(this.u=null,ry(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Fs(Le(this.jb,this),t)}};I.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,He(10),nc(this),ry(this))};function mh(t){t.B!=null&&(V.clearTimeout(t.B),t.B=null)}function ry(t){t.g=new Us(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Xt(t.wa);ae(e,"RID","rpc"),ae(e,"SID",t.K),ae(e,"AID",t.V),ae(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ae(e,"TO",t.qa),ae(e,"TYPE","xmlhttp"),zs(t,e),t.o&&t.s&&hh(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Za(Xt(e)),n.u=null,n.S=!0,Ov(n,t)}I.ib=function(){this.v!=null&&(this.v=null,nc(this),ph(this),He(19))};function Ua(t){t.v!=null&&(V.clearTimeout(t.v),t.v=null)}function sy(t,e){var n=null;if(t.g==e){Ua(t),mh(t),t.g=null;var i=2}else if(Gd(t.i,e))n=e.F,Gv(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=Qa(),Oe(i,new Dv(i,n)),ic(t)}else iy(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&bR(t,e)||i==2&&ph(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Jn(t,5);break;case 4:Jn(t,10);break;case 3:Jn(t,6);break;default:Jn(t,2)}}}function oy(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Jn(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Le(t.pb,t);n||(n=new Zn("//www.google.com/images/cleardot.gif"),V.location&&V.location.protocol=="http"||Fa(n,"https"),Za(n)),mR(n.toString(),i)}else He(2);t.H=0,t.h&&t.h.za(e),ay(t),ty(t)}I.pb=function(t){t?(this.l.info("Successfully pinged google.com"),He(2)):(this.l.info("Failed to ping google.com"),He(1))};function ay(t){if(t.H=0,t.ma=[],t.h){let e=Wv(t.i);(e.length!=0||t.j.length!=0)&&(Z_(t.ma,e),Z_(t.ma,t.j),t.i.i.length=0,Yd(t.j),t.j.length=0),t.h.ya()}}function cy(t,e,n){var i=n instanceof Zn?Xt(n):new Zn(n);if(i.g!="")e&&(i.g=e+"."+i.g),La(i,i.m);else{var r=V.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Zn(null);i&&Fa(s,i),e&&(s.g=e),r&&La(s,r),n&&(s.l=n),i=s}return n=t.F,e=t.Da,n&&e&&ae(i,n,e),ae(i,"VER",t.ra),zs(t,i),i}function ly(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new fe(new js({ob:n})):new fe(t.va),e.Oa(t.J),e}I.isActive=function(){return!!this.h&&this.h.isActive(this)};function uy(){}I=uy.prototype;I.Ba=function(){};I.Aa=function(){};I.za=function(){};I.ya=function(){};I.isActive=function(){return!0};I.Va=function(){};function Ba(){if(Zi&&!(10<=Number(LS)))throw Error("Environmental error: no available transport.")}Ba.prototype.g=function(t,e){return new tt(t,e)};function tt(t,e){Re.call(this),this.g=new ey(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ss(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ss(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new tr(this)}De(tt,Re);tt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;He(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=cy(t,null,t.Y),ic(t)};tt.prototype.close=function(){fh(this.g)};tt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=ih(t),t=n);e.j.push(new uR(e.fb++,t)),e.H==3&&ic(e)};tt.prototype.N=function(){this.g.h=null,delete this.j,fh(this.g),delete this.g,tt.$.N.call(this)};function dy(t){ch.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}De(dy,ch);function hy(){lh.call(this),this.status=1}De(hy,lh);function tr(t){this.g=t}De(tr,uy);tr.prototype.Ba=function(){Oe(this.g,"a")};tr.prototype.Aa=function(t){Oe(this.g,new dy(t))};tr.prototype.za=function(t){Oe(this.g,new hy)};tr.prototype.ya=function(){Oe(this.g,"b")};function wR(){this.blockSize=-1}function pt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}De(pt,wR);pt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function xd(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var s=t.g[3],o=e+(s^n&(r^s))+i[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[2]+606105819&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[6]+2821735955&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[10]+4294925233&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[14]+2792965006&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(r^s&(n^r))+i[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[11]+643717713&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[15]+3634488961&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[3]+4107603335&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[7]+1735328473&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(n^r^s)+i[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[11]+1839030562&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[7]+4139469664&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[3]+3572445317&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[15]+530742520&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(r^(n|~s))+i[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[14]+2878612391&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[10]+4293915773&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[6]+2734768916&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[2]+718787259&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}pt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(r==0)for(;s<=n;)xd(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(i[r++]=t.charCodeAt(s++),r==this.blockSize){xd(this,i),r=0;break}}else for(;s<e;)if(i[r++]=t[s++],r==this.blockSize){xd(this,i),r=0;break}}this.h=r,this.i+=e};pt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function ee(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=t[r]|0;i&&s==e||(n[r]=s,i=!1)}this.g=n}var ER={};function gh(t){return-128<=t&&128>t?NS(t,function(e){return new ee([e|0],0>e?-1:0)}):new ee([t|0],0>t?-1:0)}function Pt(t){if(isNaN(t)||!isFinite(t))return Ji;if(0>t)return Me(Pt(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=Wd;return new ee(e,0)}function fy(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Me(fy(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Pt(Math.pow(e,8)),i=Ji,r=0;r<t.length;r+=8){var s=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+s),e);8>s?(s=Pt(Math.pow(e,s)),i=i.R(s).add(Pt(o))):(i=i.R(n),i=i.add(Pt(o)))}return i}var Wd=4294967296,Ji=gh(0),Kd=gh(1),lv=gh(16777216);I=ee.prototype;I.ea=function(){if(ct(this))return-Me(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:Wd+i)*e,e*=Wd}return t};I.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Yt(this))return"0";if(ct(this))return"-"+Me(this).toString(t);for(var e=Pt(Math.pow(t,6)),n=this,i="";;){var r=$a(n,e).g;n=ja(n,r.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,Yt(n))return s+i;for(;6>s.length;)s="0"+s;i=s+i}};I.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Yt(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ct(t){return t.h==-1}I.X=function(t){return t=ja(this,t),ct(t)?-1:Yt(t)?0:1};function Me(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new ee(n,~t.h).add(Kd)}I.abs=function(){return ct(this)?Me(this):this};I.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var s=i+(this.D(r)&65535)+(t.D(r)&65535),o=(s>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=o>>>16,s&=65535,o&=65535,n[r]=o<<16|s}return new ee(n,n[n.length-1]&-2147483648?-1:0)};function ja(t,e){return t.add(Me(e))}I.R=function(t){if(Yt(this)||Yt(t))return Ji;if(ct(this))return ct(t)?Me(this).R(Me(t)):Me(Me(this).R(t));if(ct(t))return Me(this.R(Me(t)));if(0>this.X(lv)&&0>t.X(lv))return Pt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var s=this.D(i)>>>16,o=this.D(i)&65535,a=t.D(r)>>>16,c=t.D(r)&65535;n[2*i+2*r]+=o*c,Va(n,2*i+2*r),n[2*i+2*r+1]+=s*c,Va(n,2*i+2*r+1),n[2*i+2*r+1]+=o*a,Va(n,2*i+2*r+1),n[2*i+2*r+2]+=s*a,Va(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new ee(n,0)};function Va(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Es(t,e){this.g=t,this.h=e}function $a(t,e){if(Yt(e))throw Error("division by zero");if(Yt(t))return new Es(Ji,Ji);if(ct(t))return e=$a(Me(t),e),new Es(Me(e.g),Me(e.h));if(ct(e))return e=$a(t,Me(e)),new Es(Me(e.g),e.h);if(30<t.g.length){if(ct(t)||ct(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Kd,i=e;0>=i.X(t);)n=uv(n),i=uv(i);var r=Yi(n,1),s=Yi(i,1);for(i=Yi(i,2),n=Yi(n,2);!Yt(i);){var o=s.add(i);0>=o.X(t)&&(r=r.add(n),s=o),i=Yi(i,1),n=Yi(n,1)}return e=ja(t,r.R(e)),new Es(r,e)}for(r=Ji;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),s=Pt(n),o=s.R(e);ct(o)||0<o.X(t);)n-=i,s=Pt(n),o=s.R(e);Yt(s)&&(s=Kd),r=r.add(s),t=ja(t,o)}return new Es(r,t)}I.gb=function(t){return $a(this,t).h};I.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new ee(n,this.h&t.h)};I.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new ee(n,this.h|t.h)};I.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new ee(n,this.h^t.h)};function uv(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new ee(n,t.h)}function Yi(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],s=0;s<i;s++)r[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ee(r,t.h)}Ba.prototype.createWebChannel=Ba.prototype.g;tt.prototype.send=tt.prototype.u;tt.prototype.open=tt.prototype.m;tt.prototype.close=tt.prototype.close;Ya.NO_ERROR=0;Ya.TIMEOUT=8;Ya.HTTP_ERROR=6;Pv.COMPLETE="complete";kv.EventType=Ls;Ls.OPEN="a";Ls.CLOSE="b";Ls.ERROR="c";Ls.MESSAGE="d";Re.prototype.listen=Re.prototype.O;fe.prototype.listenOnce=fe.prototype.P;fe.prototype.getLastError=fe.prototype.Sa;fe.prototype.getLastErrorCode=fe.prototype.Ia;fe.prototype.getStatus=fe.prototype.da;fe.prototype.getResponseJson=fe.prototype.Wa;fe.prototype.getResponseText=fe.prototype.ja;fe.prototype.send=fe.prototype.ha;fe.prototype.setWithCredentials=fe.prototype.Oa;pt.prototype.digest=pt.prototype.l;pt.prototype.reset=pt.prototype.reset;pt.prototype.update=pt.prototype.j;ee.prototype.add=ee.prototype.add;ee.prototype.multiply=ee.prototype.R;ee.prototype.modulo=ee.prototype.gb;ee.prototype.compare=ee.prototype.X;ee.prototype.toNumber=ee.prototype.ea;ee.prototype.toString=ee.prototype.toString;ee.prototype.getBits=ee.prototype.D;ee.fromNumber=Pt;ee.fromString=fy;var py=mt.createWebChannelTransport=function(){return new Ba},my=mt.getStatEventTarget=function(){return Qa()},rc=mt.ErrorCode=Ya,gy=mt.EventType=Pv,_y=mt.Event=ei,_h=mt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qM=mt.FetchXmlHttpFactory=js,qs=mt.WebChannel=kv,vy=mt.XhrIo=fe,yy=mt.Md5=pt,ti=mt.Integer=ee;var Iy="@firebase/firestore";var Pe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Pe.UNAUTHENTICATED=new Pe(null),Pe.GOOGLE_CREDENTIALS=new Pe("google-credentials-uid"),Pe.FIRST_PARTY=new Pe("first-party-uid"),Pe.MOCK_USER=new Pe("mock-user");var Ir="10.11.0";var ci=new pn("@firebase/firestore");function Hs(){return ci.logLevel}function b(t,...e){if(ci.logLevel<=q.DEBUG){let n=e.map(op);ci.debug(`Firestore (${Ir}): ${t}`,...n)}}function Ft(t,...e){if(ci.logLevel<=q.ERROR){let n=e.map(op);ci.error(`Firestore (${Ir}): ${t}`,...n)}}function cr(t,...e){if(ci.logLevel<=q.WARN){let n=e.map(op);ci.warn(`Firestore (${Ir}): ${t}`,...n)}}function op(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function M(t="Unexpected state"){let e=`FIRESTORE (${Ir}) INTERNAL ASSERTION FAILED: `+t;throw Ft(e),new Error(e)}function re(t,e){t||M()}function U(t,e){return t}var m={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},T=class extends Ze{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Mt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var lc=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},wh=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pe.UNAUTHENTICATED))}shutdown(){}},Eh=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Th=class{constructor(e){this.t=e,this.currentUser=Pe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),s=new Mt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mt,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>h(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mt)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(re(typeof i.accessToken=="string"),new lc(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return re(e===null||typeof e=="string"),new Pe(e)}},Ch=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Pe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Ah=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new Ch(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Sh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Rh=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=s=>{s.error!=null&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,b("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(re(typeof n.token=="string"),this.R=n.token,new Sh(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function TR(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var uc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=TR(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}};function X(t,e){return t<e?-1:t>e?1:0}function lr(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var Ne=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var j=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ne(0,0))}static max(){return new t(new Ne(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var dc=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&M(),i===void 0?i=e.length-n:i>e.length-n&&M(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},le=class t extends dc{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new T(m.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},CR=/^[_a-zA-Z][_a-zA-Z0-9]*$/,nt=class t extends dc{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return CR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,s=()=>{if(i.length===0)throw new T(m.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new T(m.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new T(m.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new T(m.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var D=class t{constructor(e){this.path=e}static fromPath(e){return new t(le.fromString(e))}static fromName(e){return new t(le.fromString(e).popFirst(5))}static empty(){return new t(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new le(e.slice()))}};var Dh=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};Dh.UNKNOWN_ID=-1;function AR(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=j.fromTimestamp(i===1e9?new Ne(n+1,0):new Ne(n,i));return new li(r,D.empty(),e)}function SR(t){return new li(t.readTime,t.key,-1)}var li=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(j.min(),D.empty(),-1)}static max(){return new t(j.max(),D.empty(),-1)}};function RR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=D.comparator(t.documentKey,e.documentKey),n!==0?n:X(t.largestBatchId,e.largestBatchId))}var DR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ph=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function uo(t){return h(this,null,function*(){if(t.code!==m.FAILED_PRECONDITION||t.message!==DR)throw t;b("LocalStore","Unexpectedly lost primary lease")})}var g=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&M(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},c=>i(c))}),o=!0,s===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(e,n){return new t((i,r)=>{let s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}};var kh=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Mt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new oi(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=ap(i.target.error);this.V.reject(new oi(e,r))}}static open(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(s){throw new oi(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(b("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Mh(n)}},hc=class t{constructor(e,n,i){this.name=e,this.version=n,this.p=i,t.S(he())===12.2&&Ft("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return b("SimpleDb","Removing database:",e),ni(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!sa())return!1;if(t.C())return!0;let e=he(),n=t.S(e),i=0<n&&n<10,r=t.v(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){let n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){return h(this,null,function*(){return this.db||(b("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=s=>{let o=s.target.result;n(o)},r.onblocked=()=>{i(new oi(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=s=>{let o=s.target.error;o.name==="VersionError"?i(new T(m.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?i(new T(m.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):i(new oi(e,o))},r.onupgradeneeded=s=>{b("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,r.transaction,s.oldVersion,this.version).next(()=>{b("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db})}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){return h(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=kh.open(this.db,e,s?"readonly":"readwrite",i),c=r(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),g.reject(l))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&o<3;if(b("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},xh=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ni(this.k.delete())}},oi=class extends T{constructor(e,n){super(m.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function ho(t){return t.name==="IndexedDbTransactionError"}var Mh=class{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(b("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(b("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),ni(i)}add(e){return b("SimpleDb","ADD",this.store.name,e,e),ni(this.store.add(e))}get(e){return ni(this.store.get(e)).next(n=>(n===void 0&&(n=null),b("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return b("SimpleDb","DELETE",this.store.name,e),ni(this.store.delete(e))}count(){return b("SimpleDb","COUNT",this.store.name),ni(this.store.count())}W(e,n){let i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let s=r.getAll(i.range);return new g((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(i),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let i=this.store.getAll(e,n===null?void 0:n);return new g((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}H(e,n){b("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,n);i.J=!1;let r=this.cursor(i);return this.G(r,(s,o,a)=>a.delete())}Y(e,n){let i;n?i=e:(i={},n=e);let r=this.cursor(i);return this.G(r,n)}Z(e){let n=this.cursor({});return new g((i,r)=>{n.onerror=s=>{let o=ap(s.target.error);r(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}G(e,n){let i=[];return new g((r,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void r();let c=new xh(a),l=n(a.primaryKey,a.value,c);if(l instanceof g){let u=l.catch(d=>(c.done(),g.reject(d)));i.push(u)}c.isDone?r():c.$===null?a.continue():a.continue(c.$)}}).next(()=>g.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function ni(t){return new g((e,n)=>{t.onsuccess=i=>{let r=i.target.result;e(r)},t.onerror=i=>{let r=ap(i.target.error);n(r)}})}var by=!1;function ap(t){let e=hc.S(he());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let i=new T("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return by||(by=!0,setTimeout(()=>{throw i},0)),i}}return t}var e0=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function $c(t){return t==null}function Js(t){return t===0&&1/t==-1/0}function PR(t){return typeof t=="number"&&Number.isInteger(t)&&!Js(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var kR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],eO=[...kR,"documentOverlays"],xR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],MR=xR,tO=[...MR,"indexConfiguration","indexState","indexEntries"];function wy(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function br(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function t0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var me=class t{constructor(e,n){this.comparator=e,this.root=n||Ot.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sr(this.root,e,this.comparator,!1)}getReverseIterator(){return new sr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sr(this.root,e,this.comparator,!0)}},sr=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ot=class t{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new t(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw M();let e=this.left.check();if(e!==this.right.check())throw M();return e+(this.isRed()?0:1)}};Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw M()}get value(){throw M()}get color(){throw M()}get left(){throw M()}get right(){throw M()}copy(e,n,i,r,s){return this}insert(e,n,i){return new Ot(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var je=class t{constructor(e){this.comparator=e,this.data=new me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fc(this.data.getIterator())}getIteratorFrom(e){return new fc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},fc=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var xt=class t{constructor(e){this.fields=e,e.sort(nt.comparator)}static empty(){return new t([])}unionWith(e){let n=new je(nt.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lr(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var pc=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ge=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new pc("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ge.EMPTY_BYTE_STRING=new Ge("");var OR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jt(t){if(re(!!t),typeof t=="string"){let e=0,n=OR.exec(t);if(re(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:pe(t.seconds),nanos:pe(t.nanos)}}function pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Tn(t){return typeof t=="string"?Ge.fromBase64String(t):Ge.fromUint8Array(t)}function cp(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function lp(t){let e=t.mapValue.fields.__previous_value__;return cp(e)?lp(e):e}function Zs(t){let e=Jt(t.mapValue.fields.__local_write_time__.timestampValue);return new Ne(e.seconds,e.nanos)}var Oh=class{constructor(e,n,i,r,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},mc=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var sc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ui(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cp(t)?4:n0(t)?9007199254740991:10:M()}function Lt(t,e){if(t===e)return!0;let n=ui(t);if(n!==ui(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zs(t).isEqual(Zs(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=Jt(r.timestampValue),a=Jt(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Tn(r.bytesValue).isEqual(Tn(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return pe(r.geoPointValue.latitude)===pe(s.geoPointValue.latitude)&&pe(r.geoPointValue.longitude)===pe(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return pe(r.integerValue)===pe(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=pe(r.doubleValue),a=pe(s.doubleValue);return o===a?Js(o)===Js(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return lr(t.arrayValue.values||[],e.arrayValue.values||[],Lt);case 10:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(wy(o)!==wy(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Lt(o[c],a[c])))return!1;return!0}(t,e);default:return M()}}function eo(t,e){return(t.values||[]).find(n=>Lt(n,e))!==void 0}function ur(t,e){if(t===e)return 0;let n=ui(t),i=ui(e);if(n!==i)return X(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return X(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=pe(s.integerValue||s.doubleValue),c=pe(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Ey(t.timestampValue,e.timestampValue);case 4:return Ey(Zs(t),Zs(e));case 5:return X(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Tn(s),c=Tn(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=X(a[l],c[l]);if(u!==0)return u}return X(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=X(pe(s.latitude),pe(o.latitude));return a!==0?a:X(pe(s.longitude),pe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){let u=ur(a[l],c[l]);if(u)return u}return X(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===sc.mapValue&&o===sc.mapValue)return 0;if(s===sc.mapValue)return 1;if(o===sc.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){let f=X(c[d],u[d]);if(f!==0)return f;let p=ur(a[c[d]],l[u[d]]);if(p!==0)return p}return X(c.length,u.length)}(t.mapValue,e.mapValue);default:throw M()}}function Ey(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return X(t,e);let n=Jt(t),i=Jt(e),r=X(n.seconds,i.seconds);return r!==0?r:X(n.nanos,i.nanos)}function dr(t){return Nh(t)}function Nh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Jt(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Tn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return D.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let s of n.values||[])r?r=!1:i+=",",i+=Nh(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${Nh(n.fields[o])}`;return r+"}"}(t.mapValue):M()}function Ty(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Vh(t){return!!t&&"integerValue"in t}function up(t){return!!t&&"arrayValue"in t}function Cy(t){return!!t&&"nullValue"in t}function Ay(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ac(t){return!!t&&"mapValue"in t}function Ws(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return br(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ws(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ws(t.arrayValue.values[n]);return e}return Object.assign({},t)}function n0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var gt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!ac(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ws(n)}setAll(e){let n=nt.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=Ws(o):r.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){let n=this.field(e.popLast());ac(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];ac(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){br(n,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new t(Ws(this.value))}};function i0(t){let e=[];return br(t.fields,(n,i)=>{let r=new nt([n]);if(ac(i)){let s=i0(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new xt(e)}var _t=class t{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,j.min(),j.min(),j.min(),gt.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,j.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,j.min(),j.min(),gt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,j.min(),j.min(),gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(j.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=j.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var hr=class{constructor(e,n){this.position=e,this.inclusive=n}};function Sy(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let s=e[r],o=t.position[r];if(s.field.isKeyField()?i=D.comparator(D.fromName(o.referenceValue),n.key):i=ur(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ry(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lt(t.position[n],e.position[n]))return!1;return!0}var di=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function NR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var gc=class{},Ee=class t extends gc{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new Lh(e,n,i):n==="array-contains"?new jh(e,i):n==="in"?new $h(e,i):n==="not-in"?new zh(e,i):n==="array-contains-any"?new qh(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Uh(e,i):new Bh(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ur(n,this.value)):n!==null&&ui(this.value)===ui(n)&&this.matchesComparison(ur(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return M()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},vt=class t extends gc{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return r0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function r0(t){return t.op==="and"}function s0(t){return VR(t)&&r0(t)}function VR(t){for(let e of t.filters)if(e instanceof vt)return!1;return!0}function Fh(t){if(t instanceof Ee)return t.field.canonicalString()+t.op.toString()+dr(t.value);if(s0(t))return t.filters.map(e=>Fh(e)).join(",");{let e=t.filters.map(n=>Fh(n)).join(",");return`${t.op}(${e})`}}function o0(t,e){return t instanceof Ee?function(i,r){return r instanceof Ee&&i.op===r.op&&i.field.isEqual(r.field)&&Lt(i.value,r.value)}(t,e):t instanceof vt?function(i,r){return r instanceof vt&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&o0(o,r.filters[a]),!0):!1}(t,e):void M()}function a0(t){return t instanceof Ee?function(n){return`${n.field.canonicalString()} ${n.op} ${dr(n.value)}`}(t):t instanceof vt?function(n){return n.op.toString()+" {"+n.getFilters().map(a0).join(" ,")+"}"}(t):"Filter"}var Lh=class extends Ee{constructor(e,n,i){super(e,n,i),this.key=D.fromName(i.referenceValue)}matches(e){let n=D.comparator(e.key,this.key);return this.matchesComparison(n)}},Uh=class extends Ee{constructor(e,n){super(e,"in",n),this.keys=c0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Bh=class extends Ee{constructor(e,n){super(e,"not-in",n),this.keys=c0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function c0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>D.fromName(i.referenceValue))}var jh=class extends Ee{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return up(n)&&eo(n.arrayValue,this.value)}},$h=class extends Ee{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&eo(this.value.arrayValue,n)}},zh=class extends Ee{constructor(e,n){super(e,"not-in",n)}matches(e){if(eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!eo(this.value.arrayValue,n)}},qh=class extends Ee{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!up(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>eo(this.value.arrayValue,i))}};var Hh=class{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function Dy(t,e=null,n=[],i=[],r=null,s=null,o=null){return new Hh(t,e,n,i,r,s,o)}function dp(t){let e=U(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Fh(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),$c(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>dr(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>dr(i)).join(",")),e.ce=n}return e.ce}function hp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!o0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ry(t.startAt,e.startAt)&&Ry(t.endAt,e.endAt)}function Gh(t){return D.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Cn=class{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function FR(t,e,n,i,r,s,o,a){return new Cn(t,e,n,i,r,s,o,a)}function fp(t){return new Cn(t)}function Py(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function l0(t){return t.collectionGroup!==null}function Ks(t){let e=U(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new je(nt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new di(s,i))}),n.has(nt.keyField().canonicalString())||e.le.push(new di(nt.keyField(),i))}return e.le}function Nt(t){let e=U(t);return e.he||(e.he=LR(e,Ks(t))),e.he}function LR(t,e){if(t.limitType==="F")return Dy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new di(r.field,s)});let n=t.endAt?new hr(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new hr(t.startAt.position,t.startAt.inclusive):null;return Dy(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Wh(t,e){let n=t.filters.concat([e]);return new Cn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _c(t,e,n){return new Cn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zc(t,e){return hp(Nt(t),Nt(e))&&t.limitType===e.limitType}function u0(t){return`${dp(Nt(t))}|lt:${t.limitType}`}function nr(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>a0(r)).join(", ")}]`),$c(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>dr(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>dr(r)).join(",")),`Target(${i})`}(Nt(t))}; limitType=${t.limitType})`}function qc(t,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):D.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(let s of Ks(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,c){let l=Sy(o,a,c);return o.inclusive?l<=0:l<0}(i.startAt,Ks(i),r)||i.endAt&&!function(o,a,c){let l=Sy(o,a,c);return o.inclusive?l>=0:l>0}(i.endAt,Ks(i),r))}(t,e)}function UR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function d0(t){return(e,n)=>{let i=!1;for(let r of Ks(t)){let s=BR(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function BR(t,e,n){let i=t.field.isKeyField()?D.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?ur(c,l):M()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return M()}}var An=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){br(this.inner,(n,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return t0(this.inner)}size(){return this.innerSize}};var jR=new me(D.comparator);function Zt(){return jR}var h0=new me(D.comparator);function Gs(...t){let e=h0;for(let n of t)e=e.insert(n.key,n);return e}function f0(t){let e=h0;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ii(){return Qs()}function p0(){return Qs()}function Qs(){return new An(t=>t.toString(),(t,e)=>t.isEqual(e))}var $R=new me(D.comparator),zR=new je(D.comparator);function H(...t){let e=zR;for(let n of t)e=e.add(n);return e}var qR=new je(X);function HR(){return qR}function m0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Js(e)?"-0":e}}function g0(t){return{integerValue:""+t}}function GR(t,e){return PR(e)?g0(e):m0(t,e)}var fr=class{constructor(){this._=void 0}};function WR(t,e,n){return t instanceof pr?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&cp(s)&&(s=lp(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof hi?v0(t,e):t instanceof fi?y0(t,e):function(r,s){let o=_0(r,s),a=ky(o)+ky(r.Ie);return Vh(o)&&Vh(r.Ie)?g0(a):m0(r.serializer,a)}(t,e)}function KR(t,e,n){return t instanceof hi?v0(t,e):t instanceof fi?y0(t,e):n}function _0(t,e){return t instanceof mr?function(i){return Vh(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var pr=class extends fr{},hi=class extends fr{constructor(e){super(),this.elements=e}};function v0(t,e){let n=I0(e);for(let i of t.elements)n.some(r=>Lt(r,i))||n.push(i);return{arrayValue:{values:n}}}var fi=class extends fr{constructor(e){super(),this.elements=e}};function y0(t,e){let n=I0(e);for(let i of t.elements)n=n.filter(r=>!Lt(r,i));return{arrayValue:{values:n}}}var mr=class extends fr{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function ky(t){return pe(t.integerValue||t.doubleValue)}function I0(t){return up(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function QR(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof hi&&r instanceof hi||i instanceof fi&&r instanceof fi?lr(i.elements,r.elements,Lt):i instanceof mr&&r instanceof mr?Lt(i.Ie,r.Ie):i instanceof pr&&r instanceof pr}(t.transform,e.transform)}var Kh=class{constructor(e,n){this.version=e,this.transformResults=n}},ai=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function cc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var gr=class{};function b0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vc(t.key,ai.none()):new pi(t.key,t.data,ai.none());{let n=t.data,i=gt.empty(),r=new je(nt.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new en(t.key,i,new xt(r.toArray()),ai.none())}}function YR(t,e,n){t instanceof pi?function(r,s,o){let a=r.value.clone(),c=My(r.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof en?function(r,s,o){if(!cc(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=My(r.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(w0(r)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ys(t,e,n,i){return t instanceof pi?function(s,o,a,c){if(!cc(s.precondition,o))return a;let l=s.value.clone(),u=Oy(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof en?function(s,o,a,c){if(!cc(s.precondition,o))return a;let l=Oy(s.fieldTransforms,c,o),u=o.data;return u.setAll(w0(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(s,o,a){return cc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function XR(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),s=_0(i.transform,r||null);s!=null&&(n===null&&(n=gt.empty()),n.set(i.field,s))}return n||null}function xy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&lr(i,r,(s,o)=>QR(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var pi=class extends gr{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},en=class extends gr{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function w0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function My(t,e,n){let i=new Map;re(t.length===n.length);for(let r=0;r<n.length;r++){let s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,KR(o,a,n[r]))}return i}function Oy(t,e,n){let i=new Map;for(let r of t){let s=r.transform,o=n.data.field(r.field);i.set(r.field,WR(s,o,e))}return i}var vc=class extends gr{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Qh=class extends gr{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Yh=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&YR(s,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ys(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=Ys(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=p0();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;let c=b0(o,a);c!==null&&i.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(j.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),H())}isEqual(e){return this.batchId===e.batchId&&lr(this.mutations,e.mutations,(n,i)=>xy(n,i))&&lr(this.baseMutations,e.baseMutations,(n,i)=>xy(n,i))}},Xh=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){re(e.mutations.length===i.length);let r=function(){return $R}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new t(e,n,i,r)}};var Jh=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Zh=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var be,W;function JR(t){switch(t){default:return M();case m.CANCELLED:case m.UNKNOWN:case m.DEADLINE_EXCEEDED:case m.RESOURCE_EXHAUSTED:case m.INTERNAL:case m.UNAVAILABLE:case m.UNAUTHENTICATED:return!1;case m.INVALID_ARGUMENT:case m.NOT_FOUND:case m.ALREADY_EXISTS:case m.PERMISSION_DENIED:case m.FAILED_PRECONDITION:case m.ABORTED:case m.OUT_OF_RANGE:case m.UNIMPLEMENTED:case m.DATA_LOSS:return!0}}function E0(t){if(t===void 0)return Ft("GRPC error has no .code"),m.UNKNOWN;switch(t){case be.OK:return m.OK;case be.CANCELLED:return m.CANCELLED;case be.UNKNOWN:return m.UNKNOWN;case be.DEADLINE_EXCEEDED:return m.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return m.RESOURCE_EXHAUSTED;case be.INTERNAL:return m.INTERNAL;case be.UNAVAILABLE:return m.UNAVAILABLE;case be.UNAUTHENTICATED:return m.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return m.INVALID_ARGUMENT;case be.NOT_FOUND:return m.NOT_FOUND;case be.ALREADY_EXISTS:return m.ALREADY_EXISTS;case be.PERMISSION_DENIED:return m.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return m.FAILED_PRECONDITION;case be.ABORTED:return m.ABORTED;case be.OUT_OF_RANGE:return m.OUT_OF_RANGE;case be.UNIMPLEMENTED:return m.UNIMPLEMENTED;case be.DATA_LOSS:return m.DATA_LOSS;default:return M()}}(W=be||(be={}))[W.OK=0]="OK",W[W.CANCELLED=1]="CANCELLED",W[W.UNKNOWN=2]="UNKNOWN",W[W.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",W[W.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",W[W.NOT_FOUND=5]="NOT_FOUND",W[W.ALREADY_EXISTS=6]="ALREADY_EXISTS",W[W.PERMISSION_DENIED=7]="PERMISSION_DENIED",W[W.UNAUTHENTICATED=16]="UNAUTHENTICATED",W[W.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",W[W.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",W[W.ABORTED=10]="ABORTED",W[W.OUT_OF_RANGE=11]="OUT_OF_RANGE",W[W.UNIMPLEMENTED=12]="UNIMPLEMENTED",W[W.INTERNAL=13]="INTERNAL",W[W.UNAVAILABLE=14]="UNAVAILABLE",W[W.DATA_LOSS=15]="DATA_LOSS";var Ny=null;function ZR(){return new TextEncoder}var eD=new ti([4294967295,4294967295],0);function Vy(t){let e=ZR().encode(t),n=new yy;return n.update(e),new Uint8Array(n.digest())}function Fy(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ti([n,i],0),new ti([r,s],0)]}var ef=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ri(`Invalid padding: ${n}`);if(i<0)throw new ri(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ri(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ri(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ti.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(ti.fromNumber(i)));return r.compare(eD)===1&&(r=new ti([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=Vy(e),[i,r]=Fy(n);for(let s=0;s<this.hashCount;s++){let o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=Vy(e),[i,r]=Fy(n);for(let s=0;s<this.hashCount;s++){let o=this.de(i,r,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},ri=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var yc=class t{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,to.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(j.min(),r,new me(X),Zt(),H())}},to=class t{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,H(),H(),H())}};var or=class{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}},Ic=class{constructor(e,n){this.targetId=e,this.fe=n}},bc=class{constructor(e,n,i=Ge.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},wc=class{constructor(){this.ge=0,this.pe=Uy(),this.ye=Ge.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=H(),n=H(),i=H();return this.pe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:M()}}),new to(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=Uy()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,re(this.ge>=0)}Le(){this.Se=!0,this.we=!0}},tf=class{constructor(e){this.Be=e,this.ke=new Map,this.qe=Zt(),this.Qe=Ly(),this.Ke=new me(X)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:M()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){let n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){let s=r.target;if(Gh(s))if(i===0){let o=new D(s.path);this.We(n,o,_t.newNoDocument(o,j.min()))}else re(i===1);else{let o=this.Ze(n);if(o!==i){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}Ny?.tt(function(u,d,f,p,S){var A,C,B,Z,ge,Ve;let It={localCacheCount:u,existenceFilterCount:d.count,databaseId:f.database,projectId:f.projectId},Ce=d.unchangedNames;return Ce&&(It.bloomFilter={applied:S===0,hashCount:(A=Ce?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(Z=(B=(C=Ce?.bits)===null||C===void 0?void 0:C.bitmap)===null||B===void 0?void 0:B.length)!==null&&Z!==void 0?Z:0,padding:(Ve=(ge=Ce?.bits)===null||ge===void 0?void 0:ge.padding)!==null&&Ve!==void 0?Ve:0,mightContain:Ut=>{var bi;return(bi=p?.mightContain(Ut))!==null&&bi!==void 0&&bi}}),It}(o,e.fe,this.Be.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n,o,a;try{o=Tn(i).toUint8Array()}catch(c){if(c instanceof pc)return cr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new ef(o,r,s)}catch(c){return cr(c instanceof ri?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){let i=this.Be.getRemoteKeysForTarget(n),r=0;return i.forEach(s=>{let o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),r++)}),r}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&Gh(a.target)){let c=new D(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,_t.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let i=H();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let r=new yc(e,n,this.Ke,this.qe,i);return this.qe=Zt(),this.Qe=Ly(),this.Ke=new me(X),r}Ue(e,n){if(!this.je(e))return;let i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;let r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new wc,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new je(X),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||b("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new wc),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}};function Ly(){return new me(D.comparator)}function Uy(){return new me(D.comparator)}var tD={asc:"ASCENDING",desc:"DESCENDING"},nD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iD={and:"AND",or:"OR"},nf=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function rf(t,e){return t.useProto3Json||$c(e)?e:{value:e}}function Ec(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function T0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rD(t,e){return Ec(t,e.toTimestamp())}function Vt(t){return re(!!t),j.fromTimestamp(function(n){let i=Jt(n);return new Ne(i.seconds,i.nanos)}(t))}function pp(t,e){return sf(t,e).canonicalString()}function sf(t,e){let n=function(r){return new le(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function C0(t){let e=le.fromString(t);return re(P0(e)),e}function of(t,e){return pp(t.databaseId,e.path)}function vh(t,e){let n=C0(e);if(n.get(1)!==t.databaseId.projectId)throw new T(m.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(m.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new D(S0(n))}function A0(t,e){return pp(t.databaseId,e)}function sD(t){let e=C0(t);return e.length===4?le.emptyPath():S0(e)}function af(t){return new le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function S0(t){return re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function By(t,e,n){return{name:of(t,e),fields:n.value.mapValue.fields}}function oD(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:M()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(re(u===void 0||typeof u=="string"),Ge.fromBase64String(u||"")):(re(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Ge.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let u=l.code===void 0?m.UNKNOWN:E0(l.code);return new T(u,l.message||"")}(o);n=new bc(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=vh(t,i.document.name),s=Vt(i.document.updateTime),o=i.document.createTime?Vt(i.document.createTime):j.min(),a=new gt({mapValue:{fields:i.document.fields}}),c=_t.newFoundDocument(r,s,o,a),l=i.targetIds||[],u=i.removedTargetIds||[];n=new or(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=vh(t,i.document),s=i.readTime?Vt(i.readTime):j.min(),o=_t.newNoDocument(r,s),a=i.removedTargetIds||[];n=new or([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=vh(t,i.document),s=i.removedTargetIds||[];n=new or([],s,r,null)}else{if(!("filter"in e))return M();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new Zh(r,s),a=i.targetId;n=new Ic(a,o)}}return n}function aD(t,e){let n;if(e instanceof pi)n={update:By(t,e.key,e.value)};else if(e instanceof vc)n={delete:of(t,e.key)};else if(e instanceof en)n={update:By(t,e.key,e.data),updateMask:gD(e.fieldMask)};else{if(!(e instanceof Qh))return M();n={verify:of(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof pr)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof hi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof mr)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw M()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:rD(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:M()}(t,e.precondition)),n}function cD(t,e){return t&&t.length>0?(re(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Vt(r.updateTime):Vt(s);return o.isEqual(j.min())&&(o=Vt(s)),new Kh(o,r.transformResults||[])}(n,e))):[]}function lD(t,e){return{documents:[A0(t,e.path)]}}function uD(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=A0(t,r);let s=function(l){if(l.length!==0)return D0(vt.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:ir(f.field),direction:fD(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=rf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ut:n,parent:r}}function dD(t){let e=sD(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){re(i===1);let u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){let f=R0(d);return f instanceof vt&&s0(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(S){return new di(rr(S.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,$c(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(d){let f=!!d.before,p=d.values||[];return new hr(p,f)}(n.startAt));let l=null;return n.endAt&&(l=function(d){let f=!d.before,p=d.values||[];return new hr(p,f)}(n.endAt)),FR(e,r,o,s,a,"F",c,l)}function hD(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return M()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function R0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=rr(n.unaryFilter.field);return Ee.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=rr(n.unaryFilter.field);return Ee.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=rr(n.unaryFilter.field);return Ee.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=rr(n.unaryFilter.field);return Ee.create(o,"!=",{nullValue:"NULL_VALUE"});default:return M()}}(t):t.fieldFilter!==void 0?function(n){return Ee.create(rr(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return M()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return vt.create(n.compositeFilter.filters.map(i=>R0(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return M()}}(n.compositeFilter.op))}(t):M()}function fD(t){return tD[t]}function pD(t){return nD[t]}function mD(t){return iD[t]}function ir(t){return{fieldPath:t.canonicalString()}}function rr(t){return nt.fromServerFormat(t.fieldPath)}function D0(t){return t instanceof Ee?function(n){if(n.op==="=="){if(Ay(n.value))return{unaryFilter:{field:ir(n.field),op:"IS_NAN"}};if(Cy(n.value))return{unaryFilter:{field:ir(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ay(n.value))return{unaryFilter:{field:ir(n.field),op:"IS_NOT_NAN"}};if(Cy(n.value))return{unaryFilter:{field:ir(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ir(n.field),op:pD(n.op),value:n.value}}}(t):t instanceof vt?function(n){let i=n.getFilters().map(r=>D0(r));return i.length===1?i[0]:{compositeFilter:{op:mD(n.op),filters:i}}}(t):M()}function gD(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function P0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var no=class t{constructor(e,n,i,r,s=j.min(),o=j.min(),a=Ge.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var cf=class{constructor(e){this.ct=e}};function _D(t){let e=dD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_c(e,e.limit,"L"):e}var Tc=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(pe(e.integerValue));else if("doubleValue"in e){let i=pe(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),Js(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"&&(i=Jt(i)),n.At(`${i.seconds||""}`),n.dt(i.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Tn(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?n0(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):M()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),D.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Tc.bt=new Tc;var lf=class{constructor(){this._n=new uf}addToCollectionParentIndex(e,n){return this._n.add(n),g.resolve()}getCollectionParents(e,n){return g.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return g.resolve()}deleteFieldIndex(e,n){return g.resolve()}deleteAllFieldIndexes(e){return g.resolve()}createTargetIndexes(e,n){return g.resolve()}getDocumentsMatchingTarget(e,n){return g.resolve(null)}getIndexType(e,n){return g.resolve(0)}getFieldIndexes(e,n){return g.resolve([])}getNextCollectionGroupToUpdate(e){return g.resolve(null)}getMinOffset(e,n){return g.resolve(li.min())}getMinOffsetFromCollectionGroup(e,n){return g.resolve(li.min())}updateCollectionGroup(e,n,i){return g.resolve()}updateIndexEntries(e,n){return g.resolve()}},uf=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new je(le.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new je(le.comparator)).toArray()}};var iO=new Uint8Array(0);var kt=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};kt.DEFAULT_COLLECTION_PERCENTILE=10,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kt.DEFAULT=new kt(41943040,kt.DEFAULT_COLLECTION_PERCENTILE,kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kt.DISABLED=new kt(-1,0,0);var io=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var df=class{constructor(){this.changes=new An(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?g.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var hf=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var ff=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Ys(i.mutation,r,xt.empty(),Ne.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,H()).next(()=>i))}getLocalViewOfDocuments(e,n,i=H()){let r=ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Gs();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let i=ii();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,H()))}populateOverlays(e,n,i){let r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=Zt(),o=Qs(),a=function(){return Qs()}();return n.forEach((c,l)=>{let u=i.get(l.key);r.has(l.key)&&(u===void 0||u.mutation instanceof en)?s=s.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),Ys(u.mutation,l,u.mutation.getFieldMask(),Ne.now())):o.set(l.key,xt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new hf(u,(d=o.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let i=Qs(),r=new me((o,a)=>o-a),s=H();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let u=i.get(c)||xt.empty();u=a.applyToLocalView(l,u),i.set(c,u);let d=(r.get(a.batchId)||H()).add(c);r=r.insert(a.batchId,d)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,d=p0();u.forEach(f=>{if(!s.has(f)){let p=b0(n.get(f),i.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return g.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return D.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):l0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):g.resolve(ii()),a=-1,c=s;return o.next(l=>g.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?g.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,H())).next(u=>({batchId:a,changes:f0(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new D(n)).next(i=>{let r=Gs();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let s=n.collectionGroup,o=Gs();return this.indexManager.getCollectionParents(e,s).next(a=>g.forEach(a,c=>{let l=function(d,f){return new Cn(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,i,r).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((c,l)=>{let u=l.getKey();o.get(u)===null&&(o=o.insert(u,_t.newInvalidDocument(u)))});let a=Gs();return o.forEach((c,l)=>{let u=s.get(c);u!==void 0&&Ys(u.mutation,l,xt.empty(),Ne.now()),qc(n,l)&&(a=a.insert(c,l))}),a})}};var pf=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return g.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Vt(r.createTime)}}(n)),g.resolve()}getNamedQuery(e,n){return g.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:_D(r.bundledQuery),readTime:Vt(r.readTime)}}(n)),g.resolve()}};var mf=class{constructor(){this.overlays=new me(D.comparator),this.hr=new Map}getOverlay(e,n){return g.resolve(this.overlays.get(n))}getOverlays(e,n){let i=ii();return g.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),g.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),g.resolve()}getOverlaysForCollection(e,n,i){let r=ii(),s=n.length+1,o=new D(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return g.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new me((l,u)=>l-u),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>i){let u=s.get(l.largestBatchId);u===null&&(u=ii(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=ii(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return g.resolve(a)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new Jh(n,i));let s=this.hr.get(n);s===void 0&&(s=H(),this.hr.set(n,s)),this.hr.set(n,s.add(i.key))}};var ro=class{constructor(){this.Pr=new je(we.Ir),this.Tr=new je(we.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new we(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new we(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new D(new le([])),i=new we(n,e),r=new we(n,e+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new D(new le([])),i=new we(n,e),r=new we(n,e+1),s=H();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new we(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},we=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return D.comparator(e.key,n.key)||X(e.pr,n.pr)}static Er(e,n){return X(e.pr,n.pr)||D.comparator(e.key,n.key)}};var gf=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new je(we.Ir)}checkEmpty(e){return g.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Yh(s,n,i,r);this.mutationQueue.push(o);for(let a of r)this.wr=this.wr.add(new we(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return g.resolve(o)}lookupMutationBatch(e,n){return g.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),s=r<0?0:r;return g.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return g.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return g.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new we(n,0),r=new we(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,r],o=>{let a=this.Sr(o.pr);s.push(a)}),g.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new je(X);return n.forEach(r=>{let s=new we(r,0),o=new we(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{i=i.add(a.pr)})}),g.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,s=i;D.isDocumentKey(s)||(s=s.child(""));let o=new we(new D(s),0),a=new je(X);return this.wr.forEachWhile(c=>{let l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.pr)),!0)},o),g.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){re(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return g.forEach(n.mutations,r=>{let s=new we(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new we(n,0),r=this.wr.firstAfterOrEqual(i);return g.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,g.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var _f=class{constructor(e){this.vr=e,this.docs=function(){return new me(D.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return g.resolve(i?i.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let i=Zt();return n.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():_t.newInvalidDocument(r))}),g.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Zt(),o=n.path,a=new D(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||RR(SR(u),i)<=0||(r.has(u.key)||qc(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return g.resolve(s)}getAllFromCollectionGroup(e,n,i,r){M()}Fr(e,n){return g.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new vf(this)}getSize(e){return g.resolve(this.size)}},vf=class extends df{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),g.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var yf=class{constructor(e){this.persistence=e,this.Mr=new An(n=>dp(n),hp),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ro,this.targetCount=0,this.Lr=io.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),g.resolve()}getLastRemoteSnapshotVersion(e){return g.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return g.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),g.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),g.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new io(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,g.resolve()}updateTargetData(e,n){return this.qn(n),g.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,g.resolve()}removeTargets(e,n,i){let r=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),g.waitFor(s).next(()=>r)}getTargetCount(e){return g.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return g.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),g.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),g.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),g.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return g.resolve(i)}containsKey(e,n){return g.resolve(this.Nr.containsKey(n))}};var If=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new e0(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new yf(this),this.indexManager=new lf,this.remoteDocumentCache=function(r){return new _f(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new cf(n),this.$r=new pf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mf,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new gf(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){b("MemoryPersistence","Starting transaction:",e);let r=new bf(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(e,n){return g.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}},bf=class extends Ph{constructor(e){super(),this.currentSequenceNumber=e}},wf=class t{constructor(e){this.persistence=e,this.zr=new ro,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw M()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),g.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),g.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),g.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return g.forEach(this.Jr,i=>{let r=D.fromPath(i);return this.Yr(e,r).next(s=>{s||n.removeEntry(r,j.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return g.or([()=>g.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Ef=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=H(),r=H();for(let s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new t(e,n.fromCache,i,r)}};var Tf=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Cf=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return zg()?8:hc.v(he())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Tf;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(Hs()<=q.DEBUG&&b("QueryEngine","SDK will not create cache indexes for query:",nr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),g.resolve()):(Hs()<=q.DEBUG&&b("QueryEngine","Query:",nr(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Hs()<=q.DEBUG&&b("QueryEngine","The SDK decides to create cache indexes for query:",nr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nt(n))):g.resolve())}ji(e,n){if(Py(n))return g.resolve(null);let i=Nt(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=_c(n,null,"F"),i=Nt(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=H(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let l=this.Zi(n,a);return this.Xi(n,l,o,c.readTime)?this.ji(e,_c(n,null,"F")):this.es(e,l,n,c)}))})))}Hi(e,n,i,r){return Py(n)||r.isEqual(j.min())?g.resolve(null):this.zi.getDocuments(e,i).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,i,r)?g.resolve(null):(Hs()<=q.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),nr(n)),this.es(e,o,n,AR(r,-1)).next(a=>a))})}Zi(e,n){let i=new je(d0(e));return n.forEach((r,s)=>{qc(e,s)&&(i=i.add(s))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(e,n,i){return Hs()<=q.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",nr(n)),this.zi.getDocumentsMatchingQuery(e,n,li.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Af=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new me(X),this.rs=new An(s=>dp(s),hp),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ff(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function vD(t,e,n,i){return new Af(t,e,n,i)}function k0(t,e){return h(this,null,function*(){let n=U(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],c=H();for(let l of r){o.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of s){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(i,c).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})})}function yD(t,e){let n=U(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let d=l.batch,f=d.keys(),p=g.resolve();return f.forEach(S=>{p=p.next(()=>u.getEntry(c,S)).next(A=>{let C=l.docVersions.get(S);re(C!==null),A.version.compareTo(C)<0&&(d.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),u.addEntry(A)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=H();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function x0(t){let e=U(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function ID(t,e){let n=U(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let a=[];e.targetChanges.forEach((u,d)=>{let f=r.get(d);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Ge.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,i)),r=r.insert(d,p),function(A,C,B){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(f,p,u)&&a.push(n.Qr.updateTargetData(s,p))});let c=Zt(),l=H();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(bD(s,o,e.documentUpdates).next(u=>{c=u.cs,l=u.ls})),!i.isEqual(j.min())){let u=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return g.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ns=r,s))}function bD(t,e,n){let i=H(),r=H();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Zt();return n.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(j.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):b("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:o,ls:r}})}function wD(t,e){let n=U(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ED(t,e){let n=U(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(s=>s?(r=s,g.resolve(r)):n.Qr.allocateTargetId(i).next(o=>(r=new no(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function Sf(t,e,n){return h(this,null,function*(){let i=U(t),r=i.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!ho(o))throw o;b("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function jy(t,e,n){let i=U(t),r=j.min(),s=H();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){let d=U(c),f=d.rs.get(u);return f!==void 0?g.resolve(d.ns.get(f)):d.Qr.getTargetData(l,u)}(i,o,Nt(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>i.ts.getDocumentsMatchingQuery(o,e,n?r:j.min(),n?s:H())).next(a=>(TD(i,UR(e),a),{documents:a,hs:s})))}function TD(t,e,n){let i=t.ss.get(e)||j.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.ss.set(e,i)}var Cc=class{constructor(){this.activeTargetIds=HR()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Rf=class{constructor(){this.no=new Cc,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Cc,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Df=class{io(e){}shutdown(){}};var Ac=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var oc=null;function yh(){return oc===null?oc=function(){return 268435456+Math.round(2147483648*Math.random())}():oc++,"0x"+oc.toString(16)}var CD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Pf=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var Be="WebChannelConnection",kf=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${r}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get wo(){return!1}So(n,i,r,s,o){let a=yh(),c=this.bo(n,i.toUriEncodedString());b("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,s,o),this.Co(n,c,l,r).then(u=>(b("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw cr("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",r),u})}vo(n,i,r,s,o,a){return this.So(n,i,r,s,o)}Do(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ir}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}bo(n,i){let r=CD[n];return`${this.fo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,i,r){let s=yh();return new Promise((o,a)=>{let c=new vy;c.setWithCredentials(!0),c.listenOnce(gy.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case rc.NO_ERROR:let u=c.getResponseJson();b(Be,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case rc.TIMEOUT:b(Be,`RPC '${e}' ${s} timed out`),a(new T(m.DEADLINE_EXCEEDED,"Request time out"));break;case rc.HTTP_ERROR:let d=c.getStatus();if(b(Be,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);let p=f?.error;if(p&&p.status&&p.message){let S=function(C){let B=C.toLowerCase().replace(/_/g,"-");return Object.values(m).indexOf(B)>=0?B:m.UNKNOWN}(p.status);a(new T(S,p.message))}else a(new T(m.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new T(m.UNAVAILABLE,"Connection failed."));break;default:M()}}finally{b(Be,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(r);b(Be,`RPC '${e}' ${s} sending request:`,r),c.send(n,"POST",l,i,15)})}Fo(e,n,i){let r=yh(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=py(),a=my(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let u=s.join("");b(Be,`Creating RPC '${e}' stream ${r}: ${u}`,c);let d=o.createWebChannel(u,c),f=!1,p=!1,S=new Pf({lo:C=>{p?b(Be,`Not sending because RPC '${e}' stream ${r} is closed:`,C):(f||(b(Be,`Opening RPC '${e}' stream ${r} transport.`),d.open(),f=!0),b(Be,`RPC '${e}' stream ${r} sending:`,C),d.send(C))},ho:()=>d.close()}),A=(C,B,Z)=>{C.listen(B,ge=>{try{Z(ge)}catch(Ve){setTimeout(()=>{throw Ve},0)}})};return A(d,qs.EventType.OPEN,()=>{p||b(Be,`RPC '${e}' stream ${r} transport opened.`)}),A(d,qs.EventType.CLOSE,()=>{p||(p=!0,b(Be,`RPC '${e}' stream ${r} transport closed`),S.Vo())}),A(d,qs.EventType.ERROR,C=>{p||(p=!0,cr(Be,`RPC '${e}' stream ${r} transport errored:`,C),S.Vo(new T(m.UNAVAILABLE,"The operation could not be completed")))}),A(d,qs.EventType.MESSAGE,C=>{var B;if(!p){let Z=C.data[0];re(!!Z);let ge=Z,Ve=ge.error||((B=ge[0])===null||B===void 0?void 0:B.error);if(Ve){b(Be,`RPC '${e}' stream ${r} received error:`,Ve);let It=Ve.status,Ce=function(Sr){let Io=be[Sr];if(Io!==void 0)return E0(Io)}(It),Ut=Ve.message;Ce===void 0&&(Ce=m.INTERNAL,Ut="Unknown error status: "+It+" with message "+Ve.message),p=!0,S.Vo(new T(Ce,Ut)),d.close()}else b(Be,`RPC '${e}' stream ${r} received:`,Z),S.mo(Z)}}),A(a,_y.STAT_EVENT,C=>{C.stat===_h.PROXY?b(Be,`RPC '${e}' stream ${r} detected buffering proxy`):C.stat===_h.NOPROXY&&b(Be,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{S.Ro()},0),S}};function Ih(){return typeof document<"u"?document:null}function Hc(t){return new nf(t,!0)}var Sc=class{constructor(e,n,i=1e3,r=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=i,this.xo=r,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,n-i);r>0&&b("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var Rc=class{constructor(e,n,i,r,s,o,a,c){this.oi=e,this.$o=i,this.Uo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Sc(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return h(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return h(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return h(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===m.RESOURCE_EXHAUSTED?(Ft(n.toString()),Ft("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===m.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Wo===n&&this.o_(i,r)},i=>{e(()=>{let r=new T(m.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(r)})})}o_(e,n){let i=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{i(()=>this.__(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Yo(){this.state=5,this.jo.qo(()=>h(this,null,function*(){this.state=0,this.start()}))}__(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},xf=class extends Rc{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=oD(this.serializer,e),i=function(s){if(!("targetChange"in s))return j.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?j.min():o.readTime?Vt(o.readTime):j.min()}(e);return this.listener.u_(n,i)}c_(e){let n={};n.database=af(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=Gh(c)?{documents:lD(s,c)}:{query:uD(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=T0(s,o.resumeToken);let l=rf(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(j.min())>0){a.readTime=Ec(s,o.snapshotVersion.toTimestamp());let l=rf(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let i=hD(this.serializer,e);i&&(n.labels=i),this.t_(n)}l_(e){let n={};n.database=af(this.serializer),n.removeTarget=e,this.t_(n)}},Mf=class extends Rc{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=cD(e.writeResults,e.commitTime),i=Vt(e.commitTime);return this.listener.T_(i,n)}return re(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=af(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>aD(this.serializer,i))};this.t_(n)}};var Of=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new T(m.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,sf(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(m.UNKNOWN,s.toString())})}vo(e,n,i,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,sf(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new T(m.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var Nf=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Ft(n),this.g_=!1):b("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var Vf=class{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{i.enqueueAndForget(()=>h(this,null,function*(){mi(this)&&(b("RemoteStore","Restarting streams for network reachability change."),yield function(c){return h(this,null,function*(){let l=U(c);l.v_.add(4),yield fo(l),l.x_.set("Unknown"),l.v_.delete(4),yield Gc(l)})}(this))}))}),this.x_=new Nf(i,r)}};function Gc(t){return h(this,null,function*(){if(mi(t))for(let e of t.F_)yield e(!0)})}function fo(t){return h(this,null,function*(){for(let e of t.F_)yield e(!1)})}function M0(t,e){let n=U(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),vp(n)?_p(n):wr(n).Jo()&&gp(n,e))}function mp(t,e){let n=U(t),i=wr(n);n.C_.delete(e),i.Jo()&&O0(n,e),n.C_.size===0&&(i.Jo()?i.Xo():mi(n)&&n.x_.set("Unknown"))}function gp(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(j.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wr(t).c_(e)}function O0(t,e){t.O_.Oe(e),wr(t).l_(e)}function _p(t){t.O_=new tf({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),wr(t).start(),t.x_.p_()}function vp(t){return mi(t)&&!wr(t).Ho()&&t.C_.size>0}function mi(t){return U(t).v_.size===0}function N0(t){t.O_=void 0}function AD(t){return h(this,null,function*(){t.C_.forEach((e,n)=>{gp(t,e)})})}function SD(t,e){return h(this,null,function*(){N0(t),vp(t)?(t.x_.S_(e),_p(t)):t.x_.set("Unknown")})}function RD(t,e,n){return h(this,null,function*(){if(t.x_.set("Online"),e instanceof bc&&e.state===2&&e.cause)try{yield function(r,s){return h(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.C_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.C_.delete(a),r.O_.removeTarget(a))})}(t,e)}catch(i){b("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Dc(t,i)}else if(e instanceof or?t.O_.$e(e):e instanceof Ic?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(j.min()))try{let i=yield x0(t.localStore);n.compareTo(i)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=s.C_.get(l);u&&s.C_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{let u=s.C_.get(c);if(!u)return;s.C_.set(c,u.withResumeToken(Ge.EMPTY_BYTE_STRING,u.snapshotVersion)),O0(s,c);let d=new no(u.target,c,l,u.sequenceNumber);gp(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){b("RemoteStore","Failed to raise snapshot:",i),yield Dc(t,i)}})}function Dc(t,e,n){return h(this,null,function*(){if(!ho(e))throw e;t.v_.add(1),yield fo(t),t.x_.set("Offline"),n||(n=()=>x0(t.localStore)),t.asyncQueue.enqueueRetryable(()=>h(this,null,function*(){b("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield Gc(t)}))})}function V0(t,e){return e().catch(n=>Dc(t,n,e))}function Wc(t){return h(this,null,function*(){let e=U(t),n=Sn(e),i=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;DD(e);)try{let r=yield wD(e.localStore,i);if(r===null){e.D_.length===0&&n.Xo();break}i=r.batchId,PD(e,r)}catch(r){yield Dc(e,r)}F0(e)&&L0(e)})}function DD(t){return mi(t)&&t.D_.length<10}function PD(t,e){t.D_.push(e);let n=Sn(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function F0(t){return mi(t)&&!Sn(t).Ho()&&t.D_.length>0}function L0(t){Sn(t).start()}function kD(t){return h(this,null,function*(){Sn(t).d_()})}function xD(t){return h(this,null,function*(){let e=Sn(t);for(let n of t.D_)e.I_(n.mutations)})}function MD(t,e,n){return h(this,null,function*(){let i=t.D_.shift(),r=Xh.from(i,e,n);yield V0(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield Wc(t)})}function OD(t,e){return h(this,null,function*(){e&&Sn(t).P_&&(yield function(i,r){return h(this,null,function*(){if(function(o){return JR(o)&&o!==m.ABORTED}(r.code)){let s=i.D_.shift();Sn(i).Zo(),yield V0(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Wc(i)}})}(t,e)),F0(t)&&L0(t)})}function $y(t,e){return h(this,null,function*(){let n=U(t);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");let i=mi(n);n.v_.add(3),yield fo(n),i&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Gc(n)})}function ND(t,e){return h(this,null,function*(){let n=U(t);e?(n.v_.delete(2),yield Gc(n)):e||(n.v_.add(2),yield fo(n),n.x_.set("Unknown"))})}function wr(t){return t.N_||(t.N_=function(n,i,r){let s=U(n);return s.R_(),new xf(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:AD.bind(null,t),To:SD.bind(null,t),u_:RD.bind(null,t)}),t.F_.push(e=>h(this,null,function*(){e?(t.N_.Zo(),vp(t)?_p(t):t.x_.set("Unknown")):(yield t.N_.stop(),N0(t))}))),t.N_}function Sn(t){return t.L_||(t.L_=function(n,i,r){let s=U(n);return s.R_(),new Mf(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:kD.bind(null,t),To:OD.bind(null,t),E_:xD.bind(null,t),T_:MD.bind(null,t)}),t.F_.push(e=>h(this,null,function*(){e?(t.L_.Zo(),yield Wc(t)):(yield t.L_.stop(),t.D_.length>0&&(b("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.L_}var Ff=class t{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Mt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){let o=Date.now()+i,a=new t(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new T(m.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function yp(t,e){if(Ft("AsyncQueue",`${e}: ${t}`),ho(t))return new T(m.UNAVAILABLE,`${e}: ${t}`);throw t}var Pc=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||D.comparator(n.key,i.key):(n,i)=>D.comparator(n.key,i.key),this.keyedMap=Gs(),this.sortedSet=new me(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var kc=class{constructor(){this.B_=new me(D.comparator)}track(e){let n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):M():this.B_=this.B_.insert(n,e)}k_(){let e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}},_r=class t{constructor(e,n,i,r,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,i,r,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Pc.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var Lf=class{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}},Uf=class{constructor(){this.queries=new An(e=>u0(e),zc),this.onlineState="Unknown",this.W_=new Set}};function VD(t,e){return h(this,null,function*(){let n=U(t),i=3,r=e.query,s=n.queries.get(r);s?!s.K_()&&e.U_()&&(i=2):(s=new Lf,i=e.U_()?0:1);try{switch(i){case 0:s.q_=yield n.onListen(r,!0);break;case 1:s.q_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(o){let a=yp(o,`Initialization of query '${nr(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&Ip(n)})}function FD(t,e){return h(this,null,function*(){let n=U(t),i=e.query,r=3,s=n.queries.get(i);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),s.Q_.length===0?r=e.U_()?0:1:!s.K_()&&e.U_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function LD(t,e){let n=U(t),i=!1;for(let r of e){let s=r.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.z_(r)&&(i=!0);o.q_=r}}i&&Ip(n)}function UD(t,e,n){let i=U(t),r=i.queries.get(e);if(r)for(let s of r.Q_)s.onError(n);i.queries.delete(e)}function Ip(t){t.W_.forEach(e=>{e.next()})}var Bf,zy;(zy=Bf||(Bf={})).j_="default",zy.Cache="cache";var jf=class{constructor(e,n,i){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=i||{}}z_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new _r(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;let i=n!=="Offline";return(!this.options.ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;let n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=_r.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Bf.Cache}};var xc=class{constructor(e){this.key=e}},Mc=class{constructor(e){this.key=e}},$f=class{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=H(),this.mutatedKeys=H(),this.ha=d0(e),this.Pa=new Pc(this.ha)}get Ia(){return this.ua}Ta(e,n){let i=n?n.Ea:new kc,r=n?n.Pa:this.Pa,s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{let f=r.get(u),p=qc(this.query,d)?d:null,S=!!f&&this.mutatedKeys.has(f.key),A=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),C=!1;f&&p?f.data.isEqual(p.data)?S!==A&&(i.track({type:3,doc:p}),C=!0):this.da(f,p)||(i.track({type:2,doc:p}),C=!0,(c&&this.ha(p,c)>0||l&&this.ha(p,l)<0)&&(a=!0)):!f&&p?(i.track({type:0,doc:p}),C=!0):f&&!p&&(i.track({type:1,doc:f}),C=!0,(c||l)&&(a=!0)),C&&(p?(o=o.add(p),s=A?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{Pa:o,Ea:i,Xi:a,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;let o=e.Ea.k_();o.sort((u,d)=>function(p,S){let A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return M()}};return A(p)-A(S)}(u.type,d.type)||this.ha(u.doc,d.doc)),this.Aa(i),r=r!=null&&r;let a=n&&!r?this.Ra():[],c=this.la.size===0&&this.current&&!r?1:0,l=c!==this.ca;return this.ca=c,o.length!==0||l?{snapshot:new _r(this.query,e.Pa,s,o,e.mutatedKeys,c===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new kc,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];let e=this.la;this.la=H(),this.Pa.forEach(i=>{this.ma(i.key)&&(this.la=this.la.add(i.key))});let n=[];return e.forEach(i=>{this.la.has(i)||n.push(new Mc(i))}),this.la.forEach(i=>{e.has(i)||n.push(new xc(i))}),n}fa(e){this.ua=e.hs,this.la=H();let n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return _r.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}},zf=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},qf=class{constructor(e){this.key=e,this.pa=!1}},Hf=class{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new An(a=>u0(a),zc),this.Sa=new Map,this.ba=new Set,this.Da=new me(D.comparator),this.Ca=new Map,this.va=new ro,this.Fa={},this.Ma=new Map,this.xa=io.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}};function BD(t,e,n=!0){return h(this,null,function*(){let i=q0(t),r,s=i.wa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ga()):r=yield U0(i,e,n,!0),r})}function jD(t,e){return h(this,null,function*(){let n=q0(t);yield U0(n,e,!0,!1)})}function U0(t,e,n,i){return h(this,null,function*(){let r=yield ED(t.localStore,Nt(e)),s=r.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return i&&(a=yield $D(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&M0(t.remoteStore,r),a})}function $D(t,e,n,i,r){return h(this,null,function*(){t.Na=(d,f,p)=>function(A,C,B,Z){return h(this,null,function*(){let ge=C.view.Ta(B);ge.Xi&&(ge=yield jy(A.localStore,C.query,!1).then(({documents:Ut})=>C.view.Ta(Ut,ge)));let Ve=Z&&Z.targetChanges.get(C.targetId),It=Z&&Z.targetMismatches.get(C.targetId)!=null,Ce=C.view.applyChanges(ge,A.isPrimaryClient,Ve,It);return Hy(A,C.targetId,Ce.Va),Ce.snapshot})}(t,d,f,p);let s=yield jy(t.localStore,e,!0),o=new $f(e,s.hs),a=o.Ta(s.documents),c=to.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),l=o.applyChanges(a,t.isPrimaryClient,c);Hy(t,n,l.Va);let u=new zf(e,n,o);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),l.snapshot})}function zD(t,e,n){return h(this,null,function*(){let i=U(t),r=i.wa.get(e),s=i.Sa.get(r.targetId);if(s.length>1)return i.Sa.set(r.targetId,s.filter(o=>!zc(o,e))),void i.wa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Sf(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&mp(i.remoteStore,r.targetId),Gf(i,r.targetId)}).catch(uo))):(Gf(i,r.targetId),yield Sf(i.localStore,r.targetId,!0))})}function qD(t,e){return h(this,null,function*(){let n=U(t),i=n.wa.get(e),r=n.Sa.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),mp(n.remoteStore,i.targetId))})}function HD(t,e,n){return h(this,null,function*(){let i=JD(t);try{let r=yield function(o,a){let c=U(o),l=Ne.now(),u=a.reduce((p,S)=>p.add(S.key),H()),d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let S=Zt(),A=H();return c.os.getEntries(p,u).next(C=>{S=C,S.forEach((B,Z)=>{Z.isValidDocument()||(A=A.add(B))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,S)).next(C=>{d=C;let B=[];for(let Z of a){let ge=XR(Z,d.get(Z.key).overlayedDocument);ge!=null&&B.push(new en(Z.key,ge,i0(ge.value.mapValue),ai.exists(!0)))}return c.mutationQueue.addMutationBatch(p,l,B,a)}).next(C=>{f=C;let B=C.applyToLocalDocumentSet(d,A);return c.documentOverlayCache.saveOverlays(p,C.batchId,B)})}).then(()=>({batchId:f.batchId,changes:f0(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,c){let l=o.Fa[o.currentUser.toKey()];l||(l=new me(X)),l=l.insert(a,c),o.Fa[o.currentUser.toKey()]=l}(i,r.batchId,n),yield po(i,r.changes),yield Wc(i.remoteStore)}catch(r){let s=yp(r,"Failed to persist write");n.reject(s)}})}function B0(t,e){return h(this,null,function*(){let n=U(t);try{let i=yield ID(n.localStore,e);e.targetChanges.forEach((r,s)=>{let o=n.Ca.get(s);o&&(re(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.pa=!0:r.modifiedDocuments.size>0?re(o.pa):r.removedDocuments.size>0&&(re(o.pa),o.pa=!1))}),yield po(n,i,e)}catch(i){yield uo(i)}})}function qy(t,e,n){let i=U(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.wa.forEach((s,o)=>{let a=o.view.G_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let c=U(o);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(let f of d.Q_)f.G_(a)&&(l=!0)}),l&&Ip(c)}(i.eventManager,e),r.length&&i.ya.u_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function GD(t,e,n){return h(this,null,function*(){let i=U(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Ca.get(e),s=r&&r.key;if(s){let o=new me(D.comparator);o=o.insert(s,_t.newNoDocument(s,j.min()));let a=H().add(s),c=new yc(j.min(),new Map,new me(X),o,a);yield B0(i,c),i.Da=i.Da.remove(s),i.Ca.delete(e),bp(i)}else yield Sf(i.localStore,e,!1).then(()=>Gf(i,e,n)).catch(uo)})}function WD(t,e){return h(this,null,function*(){let n=U(t),i=e.batch.batchId;try{let r=yield yD(n.localStore,e);$0(n,i,null),j0(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield po(n,r)}catch(r){yield uo(r)}})}function KD(t,e,n){return h(this,null,function*(){let i=U(t);try{let r=yield function(o,a){let c=U(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(re(d!==null),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(i.localStore,e);$0(i,e,n),j0(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield po(i,r)}catch(r){yield uo(r)}})}function j0(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function $0(t,e,n){let i=U(t),r=i.Fa[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Fa[i.currentUser.toKey()]=r}}function Gf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Sa.get(e))t.wa.delete(i),n&&t.ya.La(i,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(i=>{t.va.containsKey(i)||z0(t,i)})}function z0(t,e){t.ba.delete(e.path.canonicalString());let n=t.Da.get(e);n!==null&&(mp(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),bp(t))}function Hy(t,e,n){for(let i of n)i instanceof xc?(t.va.addReference(i.key,e),QD(t,i)):i instanceof Mc?(b("SyncEngine","Document no longer in limbo: "+i.key),t.va.removeReference(i.key,e),t.va.containsKey(i.key)||z0(t,i.key)):M()}function QD(t,e){let n=e.key,i=n.path.canonicalString();t.Da.get(n)||t.ba.has(i)||(b("SyncEngine","New document in limbo: "+n),t.ba.add(i),bp(t))}function bp(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){let e=t.ba.values().next().value;t.ba.delete(e);let n=new D(le.fromString(e)),i=t.xa.next();t.Ca.set(i,new qf(n)),t.Da=t.Da.insert(n,i),M0(t.remoteStore,new no(Nt(fp(n.path)),i,"TargetPurposeLimboResolution",e0._e))}}function po(t,e,n){return h(this,null,function*(){let i=U(t),r=[],s=[],o=[];i.wa.isEmpty()||(i.wa.forEach((a,c)=>{o.push(i.Na(c,e,n).then(l=>{if((l||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);let u=Ef.Ki(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),i.ya.u_(r),yield function(c,l){return h(this,null,function*(){let u=U(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>g.forEach(l,f=>g.forEach(f.qi,p=>u.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>g.forEach(f.Qi,p=>u.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!ho(d))throw d;b("LocalStore","Failed to update sequence numbers: "+d)}for(let d of l){let f=d.targetId;if(!d.fromCache){let p=u.ns.get(f),S=p.snapshotVersion,A=p.withLastLimboFreeSnapshotVersion(S);u.ns=u.ns.insert(f,A)}}})}(i.localStore,s))})}function YD(t,e){return h(this,null,function*(){let n=U(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());let i=yield k0(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(a=>{a.forEach(c=>{c.reject(new T(m.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield po(n,i.us)}})}function XD(t,e){let n=U(t),i=n.Ca.get(e);if(i&&i.pa)return H().add(i.key);{let r=H(),s=n.Sa.get(e);if(!s)return r;for(let o of s){let a=n.wa.get(o);r=r.unionWith(a.view.Ia)}return r}}function q0(t){let e=U(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=B0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GD.bind(null,e),e.ya.u_=LD.bind(null,e.eventManager),e.ya.La=UD.bind(null,e.eventManager),e}function JD(t){let e=U(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KD.bind(null,e),e}var Oc=class{constructor(){this.synchronizeTabs=!1}initialize(e){return h(this,null,function*(){this.serializer=Hc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return vD(this.persistence,new Cf,e.initialUser,this.serializer)}createPersistence(e){return new If(wf.Hr,this.serializer)}createSharedClientState(e){return new Rf}terminate(){return h(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Wf=class{initialize(e,n){return h(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>qy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=YD.bind(null,this.syncEngine),yield ND(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Uf}()}createDatastore(e){let n=Hc(e.databaseInfo.databaseId),i=function(s){return new kf(s)}(e.databaseInfo);return function(s,o,a,c){return new Of(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new Vf(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>qy(this.syncEngine,n,0),function(){return Ac.D()?new Ac:new Df}())}createSyncEngine(e,n){return function(r,s,o,a,c,l,u){let d=new Hf(r,s,o,a,c,l);return u&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return h(this,null,function*(){var e;yield function(i){return h(this,null,function*(){let r=U(i);b("RemoteStore","RemoteStore shutting down."),r.v_.add(5),yield fo(r),r.M_.shutdown(),r.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Kf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Ft("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Qf=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Pe.UNAUTHENTICATED,this.clientId=uc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>h(this,null,function*(){b("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(b("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(m.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Mt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>h(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=yp(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function bh(t,e){return h(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>h(this,null,function*(){i.isEqual(r)||(yield k0(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Gy(t,e){return h(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield eP(t);b("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>$y(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>$y(e.remoteStore,r)),t._onlineComponents=e})}function ZD(t){return t.name==="FirebaseError"?t.code===m.FAILED_PRECONDITION||t.code===m.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function eP(t){return h(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){b("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bh(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!ZD(n))throw n;cr("Error using user provided cache. Falling back to memory cache: "+n),yield bh(t,new Oc)}}else b("FirestoreClient","Using default OfflineComponentProvider"),yield bh(t,new Oc);return t._offlineComponents})}function H0(t){return h(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(b("FirestoreClient","Using user provided OnlineComponentProvider"),yield Gy(t,t._uninitializedComponentsProvider._online)):(b("FirestoreClient","Using default OnlineComponentProvider"),yield Gy(t,new Wf))),t._onlineComponents})}function tP(t){return H0(t).then(e=>e.syncEngine)}function Wy(t){return h(this,null,function*(){let e=yield H0(t),n=e.eventManager;return n.onListen=BD.bind(null,e.syncEngine),n.onUnlisten=zD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qD.bind(null,e.syncEngine),n})}function G0(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Ky=new Map;function W0(t,e,n){if(!n)throw new T(m.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nP(t,e,n,i){if(e===!0&&i===!0)throw new T(m.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Qy(t){if(!D.isDocumentKey(t))throw new T(m.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Yy(t){if(D.isDocumentKey(t))throw new T(m.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Kc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":M()}function Xs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(m.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Kc(t);throw new T(m.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function iP(t,e){if(e<=0)throw new T(m.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Nc=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new T(m.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new T(m.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=G0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new T(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new T(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new T(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},vr=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nc({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(m.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new T(m.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nc(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new wh;switch(i.type){case"firstParty":return new Ah(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new T(m.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=Ky.get(n);i&&(b("ComponentProvider","Removing Datastore"),Ky.delete(n),i.terminate())}(this),Promise.resolve()}};function K0(t,e,n,i={}){var r;let s=(t=Xs(t,vr))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&cr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=Pe.MOCK_USER;else{a=Lg(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new T(m.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Pe(l)}t._authCredentials=new Eh(new lc(a,c))}}var Rn=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},it=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new En(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},En=class t extends Rn{constructor(e,n,i){super(e,n,fp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new it(this.firestore,null,new D(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Q0(t,e,...n){if(t=qe(t),W0("collection","path",e),t instanceof vr){let i=le.fromString(e,...n);return Yy(i),new En(t,null,i)}{if(!(t instanceof it||t instanceof En))throw new T(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(le.fromString(e,...n));return Yy(i),new En(t.firestore,null,i)}}function Y0(t,e,...n){if(t=qe(t),arguments.length===1&&(e=uc.newId()),W0("doc","path",e),t instanceof vr){let i=le.fromString(e,...n);return Qy(i),new it(t,null,new D(i))}{if(!(t instanceof it||t instanceof En))throw new T(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(le.fromString(e,...n));return Qy(i),new it(t.firestore,t instanceof En?t.converter:null,new D(i))}}var Yf=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Sc(this,"async_queue_retry"),this.cu=()=>{let n=Ih();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Ih();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=Ih();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new Mt;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return h(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!ho(e))throw e;b("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(i=>{this.ou=i,this._u=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Ft("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this._u=!1,i))));return this.nu=n,n}enqueueAfterDelay(e,n,i){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let r=Ff.createAndSchedule(this,e,n,i,s=>this.Iu(s));return this.su.push(r),r}lu(){this.ou&&M()}verifyOperationInProgress(){}Tu(){return h(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};function Xy(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}var yr=class extends vr{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new Yf}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Z0(this),this._firestoreClient.terminate()}};function X0(t,e){let n=typeof t=="object"?t:qi(),i=typeof t=="string"?t:e||"(default)",r=ds(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=Fg("firestore");s&&K0(r,...s)}return r}function J0(t){return t._firestoreClient||Z0(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Z0(t){var e,n,i;let r=t._freezeSettings(),s=function(a,c,l,u){return new Oh(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,G0(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new Qf(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var so=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ge.fromBase64String(e))}catch(n){throw new T(m.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var oo=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new T(m.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Vc=class{constructor(e){this._methodName=e}};var ao=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(m.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(m.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}};var rP=/^__.*__$/,Xf=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new en(e,this.data,this.fieldMask,n,this.fieldTransforms):new pi(e,this.data,n,this.fieldTransforms)}};function eI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw M()}}var Jf=class t{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.mu({path:i,gu:!1});return r.pu(e),r}yu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.mu({path:i,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Fc(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(eI(this.Vu)&&rP.test(e))throw this.Su('Document fields cannot begin and end with "__"')}},Zf=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Hc(e)}Cu(e,n,i,r=!1){return new Jf({Vu:e,methodName:n,Du:i,path:nt.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function tI(t){let e=t._freezeSettings(),n=Hc(t._databaseId);return new Zf(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sP(t,e,n,i,r,s={}){let o=t.Cu(s.merge||s.mergeFields?2:0,e,n,r);rI("Data must be an object, but it was:",o,i);let a=nI(i,o),c,l;if(s.merge)c=new xt(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let u=[];for(let d of s.mergeFields){let f=aP(e,d,n);if(!o.contains(f))throw new T(m.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);lP(u,f)||u.push(f)}c=new xt(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new Xf(new gt(a),c,l)}function oP(t,e,n,i=!1){return wp(n,t.Cu(i?4:3,e))}function wp(t,e){if(iI(t=qe(t)))return rI("Unsupported field value:",e,t),nI(t,e);if(t instanceof Vc)return function(i,r){if(!eI(r.Vu))throw r.Su(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Su(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let c=wp(a,r.wu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=qe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return GR(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=Ne.fromDate(i);return{timestampValue:Ec(r.serializer,s)}}if(i instanceof Ne){let s=new Ne(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ec(r.serializer,s)}}if(i instanceof ao)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof so)return{bytesValue:T0(r.serializer,i._byteString)};if(i instanceof it){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:pp(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Su(`Unsupported field value: ${Kc(i)}`)}(t,e)}function nI(t,e){let n={};return t0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):br(t,(i,r)=>{let s=wp(r,e.fu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function iI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ne||t instanceof ao||t instanceof so||t instanceof it||t instanceof Vc)}function rI(t,e,n){if(!iI(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=Kc(n);throw i==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+i)}}function aP(t,e,n){if((e=qe(e))instanceof oo)return e._internalPath;if(typeof e=="string")return sI(t,e);throw Fc("Field path arguments must be of type string or ",t,!1,void 0,n)}var cP=new RegExp("[~\\*/\\[\\]]");function sI(t,e,n){if(e.search(cP)>=0)throw Fc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new oo(...e.split("."))._internalPath}catch{throw Fc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fc(t,e,n,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${i}`),o&&(c+=` in document ${r}`),c+=")"),new T(m.INVALID_ARGUMENT,a+t+c)}function lP(t,e){return t.some(n=>n.isEqual(e))}var Lc=class{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new it(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new ep(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Qc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},ep=class extends Lc{data(){return super.data()}};function Qc(t,e){return typeof e=="string"?sI(t,e):e instanceof oo?e._internalPath:e._delegate._internalPath}function uP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new T(m.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var co=class{},lo=class extends co{};function oI(t,e,...n){let i=[];e instanceof co&&i.push(e),i=i.concat(n),function(s){let o=s.filter(c=>c instanceof tp).length,a=s.filter(c=>c instanceof Uc).length;if(o>1||o>0&&a>0)throw new T(m.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var Uc=class t extends lo{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return uI(e._query,n),new Rn(e.firestore,e.converter,Wh(e._query,n))}_parse(e){let n=tI(e.firestore);return function(s,o,a,c,l,u,d){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new T(m.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Zy(d,u);let p=[];for(let S of d)p.push(Jy(c,s,S));f={arrayValue:{values:p}}}else f=Jy(c,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Zy(d,u),f=oP(a,o,d,u==="in"||u==="not-in");return Ee.create(l,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function aI(t,e,n){let i=e,r=Qc("where",t);return Uc._create(r,i,n)}var tp=class t extends co{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:vt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let c of a)uI(o,c),o=Wh(o,c)}(e._query,n),new Rn(e.firestore,e.converter,Wh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var np=class t extends lo{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(r,s,o){if(r.startAt!==null)throw new T(m.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new T(m.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new di(s,o)}(e._query,this._field,this._direction);return new Rn(e.firestore,e.converter,function(r,s){let o=r.explicitOrderBy.concat([s]);return new Cn(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function cI(t,e="asc"){let n=e,i=Qc("orderBy",t);return np._create(i,n)}var ip=class t extends lo{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){return new Rn(e.firestore,e.converter,_c(e._query,this._limit,this._limitType))}};function lI(t){return iP("limit",t),ip._create("limit",t,"F")}function Jy(t,e,n){if(typeof(n=qe(n))=="string"){if(n==="")throw new T(m.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l0(e)&&n.indexOf("/")!==-1)throw new T(m.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(le.fromString(n));if(!D.isDocumentKey(i))throw new T(m.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ty(t,new D(i))}if(n instanceof it)return Ty(t,n._key);throw new T(m.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kc(n)}.`)}function Zy(t,e){if(!Array.isArray(t)||t.length===0)throw new T(m.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uI(t,e){let n=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new T(m.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new T(m.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var rp=class{convertValue(e,n="none"){switch(ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Tn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw M()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return br(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new ao(pe(e.latitude),pe(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=lp(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Zs(e));default:return null}}convertTimestamp(e){let n=Jt(e);return new Ne(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=le.fromString(e);re(P0(i));let r=new mc(i.get(1),i.get(3)),s=new D(i.popFirst(5));return r.isEqual(n)||Ft(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function dP(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var si=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Bc=class extends Lc{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ar(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(Qc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},ar=class extends Bc{data(e={}){return super.data(e)}},sp=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new si(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new ar(this._firestore,this._userDataWriter,i.key,i,new si(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(m.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let c=new ar(r._firestore,r._userDataWriter,a.doc.key,a.doc,new si(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new ar(r._firestore,r._userDataWriter,a.doc.key,a.doc,new si(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:hP(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function hP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return M()}}var jc=class extends rp{constructor(e){super(),this.firestore=e}convertBytes(e){return new so(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new it(this.firestore,null,n)}};function dI(t,e){let n=Xs(t.firestore,yr),i=Y0(t),r=dP(t.converter,e);return fP(n,[sP(tI(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,ai.exists(!1))]).then(()=>i)}function hI(t,...e){var n,i,r;t=qe(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Xy(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Xy(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),e[o+2]=(r=d.complete)===null||r===void 0?void 0:r.bind(d)}let c,l,u;if(t instanceof it)l=Xs(t.firestore,yr),u=fp(t._key.path),c={next:d=>{e[o]&&e[o](pP(l,t,d))},error:e[o+1],complete:e[o+2]};else{let d=Xs(t,Rn);l=Xs(d.firestore,yr),u=d._query;let f=new jc(l);c={next:p=>{e[o]&&e[o](new sp(l,f,d,p))},error:e[o+1],complete:e[o+2]},uP(t._query)}return function(f,p,S,A){let C=new Kf(A),B=new jf(p,C,S);return f.asyncQueue.enqueueAndForget(()=>h(this,null,function*(){return VD(yield Wy(f),B)})),()=>{C.Qa(),f.asyncQueue.enqueueAndForget(()=>h(this,null,function*(){return FD(yield Wy(f),B)}))}}(J0(l),u,a,c)}function fP(t,e){return function(i,r){let s=new Mt;return i.asyncQueue.enqueueAndForget(()=>h(this,null,function*(){return HD(yield tP(i),r,s)})),s.promise}(J0(t),e)}function pP(t,e,n){let i=n.docs.get(e._key),r=new jc(t);return new Bc(t,r,e._key,i,new si(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){Ir=r})(_n),gn(new at("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new yr(new Th(i.getProvider("auth-internal")),new Rh(i.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new T(m.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mc(l.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Te(Iy,"4.6.0",e),Te(Iy,"4.6.0","esm2017")})();var gi=class{constructor(e){return e}},fI="firestore",Ep=class{constructor(){return fs(fI)}};var Tp=new z("angularfire2.firestore-instances");function mP(t,e){let n=ua(fI,t,e);return n&&new gi(n)}function gP(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new gi(i)}}var _P={provide:Ep,deps:[[new Ke,Tp]]},vP={provide:gi,useFactory:mP,deps:[[new Ke,Tp],Wt]},yP=(()=>{class t{constructor(){Te("angularfire",Hn.full,"fst")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=de({type:t});static \u0275inj=ue({providers:[vP,_P]})}return t})();function pI(t,...e){return{ngModule:yP,providers:[{provide:Tp,useFactory:gP(t),multi:!0,deps:[Q,Bt,Wi,Gn,[new Ke,bs],[new Ke,Gi],...e]}]}}var Cp=et(dI,!0);var Dn=et(Q0,!0);var mI=et(X0,!0);var Yc=et(lI,!0);var Er=et(hI,!0);var Xc=et(cI,!0);var Tr=et(oI,!0);var _i=et(aI,!0);var Jc=(()=>{let e=class e{constructor(){this.firestore=E(gi)}getTitlesById(i,r=4){return this.getTitlesQueryOb("titleId","==",i,r)}getTitlesByName(i,r=4){return this.getTitlesQueryName("name",i,r)}getTitlesQueryOb(i,r,s,o){let a=Dn(this.firestore,"titles"),c=Tr(a,_i(i,r,s),Yc(o));return new lt(l=>Er(c,d=>{let f=[];d.forEach(p=>{let S=p.id,A=p.data();f.push(v({},A))}),l.next(f)}))}getTitlesLimit(i){let r=Dn(this.firestore,"titles"),s=Tr(r,Yc(i),Xc("updated_date","desc"));return new lt(o=>Er(s,c=>{let l=[];c.forEach(u=>{let d=u.id,f=u.data();l.push(v({},f))}),o.next(l)}))}getTitlesQueryName(i,r,s){let o=Dn(this.firestore,"titles"),a=Tr(o,_i(i,">=",r),_i(i,"<=",r+"\uF8FF"),Yc(s));return new lt(c=>Er(a,u=>{let d=[];u.forEach(f=>{let p=f.id,S=f.data();d.push(v({},S))}),c.next(d)}))}getTitleChapters(i){let r=Dn(this.firestore,"chapters"),s=Tr(r,_i("titleId","==",i),Xc("numb","desc"));return new lt(o=>Er(s,c=>{let l=[];c.forEach(u=>{let d=u.id,f=u.data();l.push(v({},f))}),o.next(l)}))}getTitleChapter(i,r){let s=Dn(this.firestore,"chapters"),o=Tr(s,_i("titleId","==",i),_i("numb","==",r),Xc("numb","desc"));return new lt(a=>Er(o,l=>{let u=[];l.forEach(d=>{let f=d.id,p=d.data();u.push(v({},p))}),a.next(u)}))}setTitle(i){return h(this,null,function*(){let r=Dn(this.firestore,"titles");yield Cp(r,{titleId:i.titleId,description:i.description,image:i.image,last_chapter:i.last_chapter,last_update:i.last_update,name:i.name,status:i.status,total_chapter:i.total_chapter,type:i.type,update_chapter:i.update_chapter,original_name:i.update_chapter})})}setChapter(i){return h(this,null,function*(){let r=Dn(this.firestore,"chapters");yield Cp(r,{titleId:i.titleId,chaptersInfo:i.chaptersInfo,numb:i.numb})})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Pn=(()=>{let e=class e{constructor(){this.firebaseService=E(Jc),this.titles=[],this.titlesLoaded=!1,this.chapters=[],this.chaptersLoaded=[!1,"0"]}makeKaka(){var i=new Date(2024,4,7);this.firebaseService.setChapter({titleId:"5",numb:1,chaptersInfo:["1",i,10]})}getTitles(){return this.titlesLoaded?(console.log("\u0414\u0430\u043D\u0456 \u0432\u0436\u0435 \u0454"),O(this.titles)):(console.log("\u041F\u0435\u0440\u0448\u0438\u0439 \u0437\u0430\u043F\u0443\u0441\u043A"),this.refreshTitles())}refreshTitles(){return this.firebaseService.getTitlesLimit(6).pipe(_e(i=>{this.titles=i,this.titlesLoaded=!0}))}getChapters(i){return this.chaptersLoaded[0]&&this.chaptersLoaded[1]==i?(console.log("\u0414\u0430\u043D\u0456 \u0440\u043E\u0437\u0434\u0456\u043B\u0456\u0432 \u0443\u0436\u0435 \u0454"),O(this.chapters)):(console.log("\u041F\u0435\u0440\u0448\u0435 \u0447\u0438\u0442\u0430\u043D\u043D\u044F \u0440\u043E\u0437\u0434\u0456\u043B\u0456\u0432"),this.refreshChapters(i))}refreshChapters(i){return this.firebaseService.getTitleChapters(i).pipe(_e(r=>{this.chapters=r,this.chaptersLoaded=[!0,i]}))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ap=(()=>{let e=class e{constructor(){this.loadingSubject=new Fe(!1),this.loading$=this.loadingSubject.asObservable(),this.scrollPos=0}saveScrollPos(i){this.scrollPos=i}getScrollPos(){return this.scrollPos}loadingOn(){this.loadingSubject.next(!0)}loadingOff(){this.loadingSubject.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var bP=t=>({background:t,"background-size":"cover","background-position":"50% center"}),wP=(t,e)=>["/title",t,"chapter",e],EP=t=>["/title/",t],TP=t=>["/title",t];function CP(t,e){if(t&1&&(_(0,"div",18)(1,"span",19),k(2),y(),_(3,"span",20),k(4),y()()),t&2){let n=Y();w(2),se(n.titles[0].type),w(2),El("\u041D\u043E\u0432\u0438\u0439: ",n.titles[0].last_chapter,"")}}function AP(t,e){if(t&1&&(_(0,"div",21)(1,"h3",22),k(2),y(),_(3,"div",23),k(4),y()()),t&2){let n=Y();w(2),se(n.titles[0].name),w(2),se(n.titles[0].description)}}function SP(t,e){if(t&1&&(_(0,"div",26)(1,"div",27),K(2,"img",28),y(),_(3,"div",29)(4,"h3",22),k(5),y(),_(6,"h6",30),k(7),y(),_(8,"div",18)(9,"span",19),k(10),y(),_(11,"span",20),k(12),y()(),_(13,"div",31)(14,"span",32),k(15),y(),K(16,"div",33),_(17,"div",34),k(18),y()()()()),t&2){let n=e.$implicit;P("routerLink",oe(9,TP,n.titleId)),w(2),Fr("src","/assets/test-list/",n==null?null:n.image,"",Mn),w(3),se(n.name),w(2),se(n.original_name),w(3),se(n.type),w(2),se(n.last_chapter),w(3),se(n.status),w(3),se(n.last_update)}}function RP(t,e){if(t&1&&(_(0,"div",24),Ie(1,SP,19,11,"div",25),y()),t&2){let n=Y();w(),P("ngForOf",n.titles.slice(1))}}var Sp=(()=>{let e=class e{constructor(){this.titles=[{image:"alt.webp",titleId:"",description:"\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F...",last_chapter:"",last_update:"",name:"\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F...",status:"\u041E\u043D\u043E\u0432\u043B\u0435\u043D\u043D\u044F",total_chapter:"\u0420\u043E\u0437\u0434\u0456\u043B\u0438",type:"\u0422\u0438\u043F",update_chapter:"",original_name:""}],this.titleService=E(Pn),this.loadingService=E(Ap)}ngOnInit(){this.loadingService.loadingOn(),this.titleService.getTitles().subscribe(i=>{this.titles=i,this.loadingService.loadingOff()})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ae({type:e,selectors:[["bido-titleslist"]],standalone:!0,features:[Se],decls:22,vars:15,consts:[[1,"background_preview"],[1,"blured"],[1,"blured_b",3,"ngStyle"],[1,"container"],[1,"intro_content"],[1,"intro_inside"],[1,"intro"],[1,"cover",2,"background-image","url('/assets/alt.webp')","background-size","cover","background-position","50% center"],["alt"," ",3,"src"],["class","tags",4,"ngIf"],[1,"intro_panel"],["class","info",4,"ngIf"],[1,"intro_buttons"],[1,"all",3,"routerLink"],[3,"routerLink"],[1,"previous"],[1,"info_name","head"],["class","items",4,"ngIf"],[1,"tags"],[1,"tag","type"],[1,"tag","last"],[1,"info"],[1,"info_name"],[1,"info_descr"],[1,"items"],["class","item",3,"routerLink",4,"ngFor","ngForOf"],[1,"item",3,"routerLink"],[1,"cover",2,"width","100%","height","100%","background-image","url('/assets/alt.webp')","background-size","cover","background-position","100% center"],["alt","",3,"src"],[1,"content"],[1,"or_info_name"],[1,"detail"],[1,"status"],[1,"line"],[1,"time"]],template:function(r,s){r&1&&(_(0,"div",0)(1,"div",1),K(2,"div",2),y(),_(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),K(8,"img",8),y(),Ie(9,CP,5,2,"div",9),y(),_(10,"div",10),Ie(11,AP,5,2,"div",11),_(12,"div",12)(13,"a",13),k(14,"\u0427\u0438\u0442\u0430\u0442\u0438 \u043D\u043E\u0432\u0438\u0439 \u0440\u043E\u0437\u0434\u0456\u043B"),y(),_(15,"a",14),k(16,"\u0423\u0441\u0456 \u0440\u043E\u0437\u0434\u0456\u043B\u0438"),y()()()()()()(),_(17,"div",15)(18,"div",3)(19,"h2",16),k(20,"\u041E\u0441\u0442\u0430\u043D\u043D\u0456 \u043E\u043D\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),y(),Ie(21,RP,2,1,"div",17),y()()),r&2&&(w(2),P("ngStyle",oe(8,bP,"linear-gradient(180deg, rgba(0, 0, 0, 0.00) 0%, var(--background) 80.27%), url(/assets/test-list/"+s.titles[0].image+"), lightgray no-repeat")),w(6),Fr("src","/assets/test-list/",s.titles[0].image,"",Mn),w(),P("ngIf",s.titles.length>0),w(2),P("ngIf",s.titles.length>0),w(2),P("routerLink",an(10,wP,s.titles[0].titleId,s.titles[0].update_chapter)),w(2),P("routerLink",oe(13,EP,s.titles[0].titleId)),w(6),P("ngIf",s.titles))},dependencies:[cn,fn,Oo,No],styles:[".background_preview[_ngcontent-%COMP%]{width:100%;position:relative}.blured[_ngcontent-%COMP%]{width:100%;height:80vh;position:absolute;z-index:-1}.blured_b[_ngcontent-%COMP%]{height:100%;opacity:60%;-webkit-transition:opacity .3s ease-in-out;-moz-transition:opacity .3s ease-in-out;transition:opacity .3s ease-in-out;filter:blur(10px)}.container[_ngcontent-%COMP%]{padding:100px 20px 20px;display:flex;flex-direction:column;align-items:flex-start;transition:all .5s ease}.intro_inside[_ngcontent-%COMP%], .intro_buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.intro_inside[_ngcontent-%COMP%]{width:100%;min-height:50vh;align-items:flex-start}.intro[_ngcontent-%COMP%]{display:flex}.tags[_ngcontent-%COMP%]{padding:0 20px;display:flex;flex-flow:column wrap;gap:10px;align-items:flex-start;color:#e6f5fd;font-family:UZSansB;font-weight:400}.tag[_ngcontent-%COMP%]{display:inline-block;padding:8px 6px 6px;margin:2px;font-size:14px;line-height:6px;background:var(--accent);border-radius:5px;transition:all .2s ease}.intro[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{height:200px;width:135px;border:0;border-radius:5px;background:var(--background)}.intro[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:5px;object-fit:cover;display:block;border:0}.background_preview[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{outline:none;text-decoration:none;color:var(--background);background:var(--primary);margin:15px 0;padding:7px 19px;border-radius:5px;box-shadow:0 0 80px -5px var(--primary);font-family:UZSansB;font-weight:400}.background_preview[_ngcontent-%COMP%]   .all[_ngcontent-%COMP%]{margin-bottom:0;color:#f4f9fb;background:var(--secondary);box-shadow:0 0 80px -5px var(--secondary)}.previous[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 20px}.items[_ngcontent-%COMP%]{display:grid;gap:36px 15px;grid-template-columns:repeat(auto-fill,minmax(210px,1fr))}.item[_ngcontent-%COMP%]{background:var(--background);-webkit-box-shadow:0px 9px 19px -10px var(--text-3);box-shadow:0 9px 19px -10px var(--text-3);position:relative;padding-bottom:40px;min-width:230px;min-height:340px}.item[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{width:100%;height:100%}.item[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:auto;width:100%}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;margin-top:10px;z-index:2;bottom:2%;background:linear-gradient(180deg,rgba(0,0,0,0) 65%,var(--background) 90%);width:100%;height:100%;align-content:flex-end;justify-content:flex-end}.content[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{flex-flow:row wrap}.info[_ngcontent-%COMP%]{min-height:200px}.item[_ngcontent-%COMP%]   .info_name[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]   .or_info_name[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%], .detail[_ngcontent-%COMP%]{padding:0 8px;margin:2px 0}.detail[_ngcontent-%COMP%]{align-self:center;display:grid;grid-template-columns:.5fr 3fr 1fr;align-items:center;width:90%;font-size:14px;color:var(--gray-400);font-family:UZSansB;font-weight:400}.dot[_ngcontent-%COMP%]{display:inline-block;background:var(--gray-400);margin:0 7px;width:5px;height:5px;border-radius:10px}.line[_ngcontent-%COMP%]{border-bottom:dashed var(--gray-400) 1px;height:1px;margin:6px 10px 0;opacity:30%}.time[_ngcontent-%COMP%]{white-space:nowrap}@media (width >= 680px){.blured_b[_ngcontent-%COMP%]{height:100%;filter:blur(10px)}.background_preview[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{margin:0 12%}.intro_inside[_ngcontent-%COMP%]{flex-direction:row;justify-content:flex-start;align-items:flex-end;gap:52px}.intro_panel[_ngcontent-%COMP%]{width:34%;align-self:center}.info[_ngcontent-%COMP%]{min-height:0}.intro[_ngcontent-%COMP%]{flex-direction:column}.tags[_ngcontent-%COMP%]{padding:10px 0;flex-direction:row}.intro[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{width:100%;height:483px;min-width:230px}.items[_ngcontent-%COMP%]{gap:35px 26px}.previous[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{margin:0 12%}.previous[_ngcontent-%COMP%]{width:100%}}"]});let t=e;return t})();var Zc=(()=>{let e=class e{constructor(){this.allPagesCount=0,this.chapter=null,this.currentPageIndexSubject=new Fe(0),this.currentPageIndex$=this.currentPageIndexSubject.asObservable()}setCurrentPageIndex(i){this.currentPageIndexSubject.next(i)}getAllPagesCount(){return this.allPagesCount}setChapterInfo(i,r){this.allPagesCount=i,this.chapter=r}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var el=(()=>{let e=class e{constructor(){this.isBottomAutoHide=!1}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var DP=t=>({hidden_nav_bar:t}),PP=t=>({rotated:t}),kP=t=>({open:t}),xP=(t,e)=>["/title",t,"chapter",e];function MP(t,e){if(t&1&&(_(0,"li",13)(1,"div",14),k(2),y(),_(3,"div",15),k(4),y()()),t&2){let n=e.$implicit,i=Y();P("routerLink",an(4,xP,n.titleId,n.numb)),w(2),Lr("\u0420\u043E\u0437\u0434\u0456\u043B ",n.numb,": ",n.chaptersInfo[0],""),w(2),se(i.toDate(n.chaptersInfo[1].seconds))}}var vI=(()=>{let e=class e{refreshPages(){this.rotatin=!0}openChapterList(){this.openList=!this.openList}constructor(i,r){this.chapterService=i,this.navHideService=r,this.activatedRoute=E(ft),this.titleService=E(Pn),this.chapters=[],this.rotatin=!1,this.openList=!1,this.scrollPosition=0,this.isVisible=!0,this.isBottomAutoHide=!1,this.id="",this.number="",this.currentPageIndex=1,this.allPages=1}ngOnInit(){this.activatedRoute.params.pipe(G(i=>({id:i.id,number:i.number}))).subscribe(i=>{this.id=i.id,this.number=i.number}),this.titleService.getChapters(this.id).subscribe(i=>{console.log("\u0422\u0443\u0442?"),this.chapters=i})}toDate(i){return new Date(i*1e3).toLocaleDateString()}onWindowScroll(){if(this.navHideService.isBottomAutoHide){let i=window.scrollY;this.scrollPosition<i?(this.scrollPosition=i,this.isVisible=!1):this.isVisible=!0}else this.isVisible||(this.isVisible=!this.isVisible)}onClick(i){i.target.closest(".chapter_images")&&this.navHideService.isBottomAutoHide&&(this.isVisible=!this.isVisible)}};e.\u0275fac=function(r){return new(r||e)(x(Zc),x(el))},e.\u0275cmp=Ae({type:e,selectors:[["app-navbar"]],hostBindings:function(r,s){r&1&&te("scroll",function(a){return s.onWindowScroll(a)},!1,Ai)("click",function(a){return s.onClick(a)},!1,So)},inputs:{currentPageIndex:"currentPageIndex",allPages:"allPages"},standalone:!0,features:[Se],decls:15,vars:12,consts:[[1,"nav",3,"ngClass"],[1,"nav-content"],[1,"chapters_button",3,"click"],["viewBox","3 3 18 18"],["d","M4 7a1 1 0 0 1 1-1h1a1 1 0 0 1 0 2H5a1 1 0 0 1-1-1zm5 0a1 1 0 0 1 1-1h9a1 1 0 1 1 0 2h-9a1 1 0 0 1-1-1zm-5 5a1 1 0 0 1 1-1h1a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1zm5 0a1 1 0 0 1 1-1h9a1 1 0 1 1 0 2h-9a1 1 0 0 1-1-1zm-5 5a1 1 0 0 1 1-1h1a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1zm5 0a1 1 0 0 1 1-1h9a1 1 0 1 1 0 2h-9a1 1 0 0 1-1-1z"],[1,"pages"],[1,"reload_button",3,"click"],["viewBox","0 0 24 24",1,"reload_arrow",3,"ngClass"],["d","M14.55 22.42C14.22 22.42 13.91 22.2 13.82 21.86C13.72 21.46 13.95 21.05 14.35 20.94C18.41 19.87 21.24 16.19 21.24 11.99C21.24 6.89 17.09 2.74 11.99 2.74C7.66 2.74 4.82 5.27 3.49 6.8H6.43C6.84 6.8 7.18 7.14 7.18 7.55C7.18 7.96 6.86 8.31 6.44 8.31H2.01C1.94 8.31 1.87 8.3 1.8 8.28C1.71 8.25 1.63 8.21 1.56 8.16C1.47 8.1 1.4 8.02 1.35 7.93C1.3 7.83 1.26 7.73 1.25 7.62C1.25 7.59 1.25 7.57 1.25 7.54V3C1.25 2.59 1.59 2.25 2 2.25C2.41 2.25 2.75 2.59 2.75 3V5.39C4.38 3.64 7.45 1.25 12 1.25C17.93 1.25 22.75 6.07 22.75 12C22.75 16.88 19.46 21.16 14.74 22.4C14.68 22.41 14.61 22.42 14.55 22.42Z"],["d","M11.29 22.73C11.27 22.73 11.24 22.73 11.22 22.72C10.15 22.65 9.1 22.41 8.1 22.02C7.81 21.91 7.62 21.62 7.62 21.31C7.62 21.22 7.64 21.13 7.67 21.05C7.82 20.67 8.26 20.47 8.64 20.62C9.5 20.96 10.41 21.16 11.33 21.23H11.34C11.74 21.25 12.04 21.59 12.04 21.99C12.04 22 12.04 22.02 12.04 22.03C12.01 22.42 11.68 22.73 11.29 22.73ZM5.78 20.58C5.61 20.58 5.45 20.53 5.31 20.42C4.47 19.75 3.74 18.96 3.13 18.07C3.04 17.94 2.99 17.8 2.99 17.65C2.99 17.4 3.11 17.17 3.32 17.03C3.65 16.8 4.14 16.89 4.36 17.22C4.89 17.99 5.52 18.67 6.25 19.24C6.42 19.38 6.53 19.59 6.53 19.82C6.53 19.99 6.48 20.16 6.37 20.3C6.23 20.48 6.01 20.58 5.78 20.58ZM2.44 15.7C2.11 15.7 1.82 15.49 1.73 15.18C1.41 14.15 1.25 13.08 1.25 12C1.25 11.59 1.59 11.25 2 11.25C2.41 11.25 2.75 11.59 2.75 12C2.75 12.93 2.89 13.85 3.16 14.73C3.18 14.8 3.19 14.88 3.19 14.96C3.19 15.29 2.98 15.57 2.67 15.67C2.59 15.69 2.52 15.7 2.44 15.7Z"],["d","M12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16Z"],[1,"chapters_list",3,"ngClass"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],[1,"detail_chap"],[1,"date_chap"]],template:function(r,s){r&1&&(_(0,"div",0)(1,"div",1)(2,"div",2),te("click",function(){return s.openChapterList()}),kn(),_(3,"svg",3),K(4,"path",4),y()(),xn(),_(5,"div",5),k(6),y(),_(7,"div",6),te("click",function(){return s.refreshPages()}),kn(),_(8,"svg",7),K(9,"path",8)(10,"path",9)(11,"path",10),y()()(),xn(),_(12,"div",11)(13,"ul"),Ie(14,MP,5,7,"li",12),y()()()),r&2&&(P("ngClass",oe(6,DP,!s.isVisible)),w(6),Lr("",s.currentPageIndex,"/",s.allPages,""),w(2),P("ngClass",oe(8,PP,s.rotatin)),w(4),P("ngClass",oe(10,kP,s.openList)),w(2),P("ngForOf",s.chapters))},dependencies:[cn,Mo,fn],styles:[".nav[_ngcontent-%COMP%]{position:fixed;bottom:0;background:var(--background);color:var(--text);width:100%;transition:bottom .3s linear}.hidden_nav_bar[_ngcontent-%COMP%]{bottom:-50px}.nav-content[_ngcontent-%COMP%]{width:100%;z-index:2;display:flex;justify-content:space-around;align-items:center}.nav-content[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--text);padding:7px;height:30px}.rotated[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_reloadSpin 1s}@keyframes _ngcontent-%COMP%_reloadSpin{to{transform:rotate(-360deg)}}.chapters_list[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100vw;z-index:1;overflow-y:auto;background:var(--background-8);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);transition:transform .3s ease;transform:translateY(100%);font-size:13px;max-height:60vh;padding:15px 0}.chapters_list.open[_ngcontent-%COMP%]{transform:translateY(-46px)}ul[_ngcontent-%COMP%]{margin:0;padding:10px}li[_ngcontent-%COMP%]{list-style:none;background:var(--text-3);margin:5px;padding:20px;display:flex;flex-direction:row;justify-content:space-between}.detail_chap[_ngcontent-%COMP%]{overflow:hidden;margin-right:10px}.date_chap[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]});let t=e;return t})();function OP(t,e){if(t&1){let n=ki();_(0,"div",4)(1,"img",5,0),te("load",function(){dt(n);let r=Fn(2),s=Y();return ht(s.adjustImageSize(r))}),y()()}if(t&2){let n=e.index,i=Y();w(),Cm("src","https://scans.bidosi.com:37080/files/",i.chapter==null?null:i.chapter.titleId,"/",i.chapter==null?null:i.chapter.numb,"/",n+1,".webp",Mn),Tm("alt",n+1)}}var yI=(()=>{let e=class e{constructor(i){this.chapterService=i,this.activatedRoute=E(ft),this.pages=[],this.chapter=null,this.currentPageIndex=1,this.allPagesCount=1,this.titleService=E(Pn),this.id="",this.number=""}ngOnInit(){return h(this,null,function*(){this.activatedRoute.params.pipe(G(i=>({id:i.id,number:i.number}))).subscribe(i=>{this.id=i.id,this.number=i.number,this.titleService.getChapters(this.id).subscribe(r=>{let s=r.find(o=>o.numb===Number(this.number));this.chapter=s!==void 0?s:null,console.log(this.chapter),this.allPagesCount=s?.chaptersInfo[2]})})})}numSequence(i){return Array(i)}onScroll(i){let r=window.scrollY,s=window.innerHeight,o=document.body.scrollHeight,a=s+r,c=0,l=0,u=document.querySelectorAll("img");for(let d=0;d<u.length;d++)if(l+=u[d].clientHeight,l>=a){c=d+1;break}else c=u.length;this.currentPageIndex!==c&&(console.log(this.currentPageIndex),this.currentPageIndex=c,this.chapterService.setCurrentPageIndex(c))}adjustImageSize(i){i.width>i.height&&i.parentElement&&i.parentElement.classList.add("landscape")}};e.\u0275fac=function(r){return new(r||e)(x(Zc))},e.\u0275cmp=Ae({type:e,selectors:[["bido-chapter"]],hostBindings:function(r,s){r&1&&te("scroll",function(a){return s.onScroll(a)},!1,Ai)},standalone:!0,features:[Se],decls:3,vars:3,consts:[["image",""],[1,"chapter"],["class","chapter_images",4,"ngFor","ngForOf"],[3,"allPages","currentPageIndex"],[1,"chapter_images"],["loading","lazy",3,"load","src","alt"]],template:function(r,s){r&1&&(_(0,"div",1),Ie(1,OP,3,5,"div",2),y(),K(2,"app-navbar",3)),r&2&&(w(),P("ngForOf",s.numSequence(s.allPagesCount)),w(),P("allPages",s.allPagesCount)("currentPageIndex",s.currentPageIndex))},dependencies:[cn,vI],styles:["img[_ngcontent-%COMP%]{max-width:100%;display:block}.chapter[_ngcontent-%COMP%]{margin-top:48px;margin-bottom:50px;display:flex;justify-content:center;flex-direction:column}.chapter_images[_ngcontent-%COMP%]{display:flex;align-self:center}.chapter_images[_ngcontent-%COMP%]{max-width:var(--max-width-for-user);height:auto}.chapter_images.landscape[_ngcontent-%COMP%]{max-width:var(--max-big-width-for-user);height:auto}"]});let t=e;return t})();var NP=t=>({background:t,"background-size":"cover","background-position":"50% center"}),VP=(t,e)=>["/title",t,"chapter",e];function FP(t,e){if(t&1&&(_(0,"div",4),K(1,"div",5),_(2,"div",6)(3,"div",7)(4,"div",8),K(5,"img",9),y(),_(6,"div",10)(7,"span",11),k(8),y(),_(9,"span",12),k(10),y(),_(11,"span",13),k(12),y()()(),_(13,"div",14)(14,"h3",15),k(15),y(),_(16,"h4",15),k(17),y(),_(18,"div",16),k(19),y()()()()),t&2){let n=e.$implicit;w(),P("ngStyle",oe(9,NP,"linear-gradient(180deg, rgba(0, 0, 0, 0.00) 0%, var(--background) 80.27%), url(/assets/test-list/"+n.image+"), lightgray no-repeat")),w(4),Fr("src","/assets/test-list/",n.image,"",Mn),w(3),se(n.type),w(2),se(n.last_chapter),w(2),se(n.status),w(3),se(n.name),w(2),se(n.original_name),w(2),se(n.description)}}function LP(t,e){if(t&1&&(_(0,"li",17)(1,"div",18),k(2),y(),_(3,"div",19),k(4),y()()),t&2){let n=e.$implicit,i=Y();P("routerLink",an(4,VP,n.titleId,n.numb)),w(2),Lr("\u0420\u043E\u0437\u0434\u0456\u043B ",n.numb,": ",n.chaptersInfo[0],""),w(2),se(i.toDate(n.chaptersInfo[1].seconds))}}var II=(()=>{let e=class e{constructor(){this.titles=[],this.chapters=[],this.titlesFirebaseService=E(Jc),this.titleService=E(Pn)}toDate(i){return new Date(i*1e3).toLocaleDateString()}ngOnInit(){return h(this,null,function*(){if(!this.id)return;this.titlesFirebaseService.getTitlesById(this.id).subscribe(r=>{this.titles=r}),this.titleService.getChapters(this.id).subscribe(r=>{this.chapters=r})})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ae({type:e,selectors:[["bido-title"]],inputs:{id:"id"},standalone:!0,features:[Se],decls:5,vars:2,consts:[[1,"title_container"],["class","background_preview",4,"ngFor","ngForOf"],[1,"chapters_list"],[3,"routerLink",4,"ngFor","ngForOf"],[1,"background_preview"],[1,"blured",3,"ngStyle"],[1,"container"],[1,"intro"],[1,"cover"],["alt","2",3,"src"],[1,"tags"],[1,"tag","type"],[1,"tag","last"],[1,"tag"],[1,"info"],[1,"info_name"],[1,"info_descr"],[3,"routerLink"],[1,"detail_chap"],[1,"date_chap"]],template:function(r,s){r&1&&(_(0,"div",0),Ie(1,FP,20,11,"div",1),_(2,"div",2)(3,"ul"),Ie(4,LP,5,7,"li",3),y()()()),r&2&&(w(),P("ngForOf",s.titles),w(3),P("ngForOf",s.chapters))},dependencies:[No,cn,fn],styles:[".blured[_ngcontent-%COMP%]{width:100%;height:80vh;opacity:40%;z-index:-1;-webkit-transition:opacity .3s ease-in-out;-moz-transition:opacity .3s ease-in-out;transition:opacity .3s ease-in-out;background:linear-gradient(180deg,rgba(0,0,0,0) 50%,var(--background) 80.27%),url(/assets/test-list/MHA_Volume_Cover.webp),#d3d3d3 no-repeat;background-size:cover;background-position:50% center;filter:blur(10px);position:absolute;left:0}.container[_ngcontent-%COMP%]{padding:100px 20px;display:flex;flex-direction:column;align-items:flex-start}.intro[_ngcontent-%COMP%]{display:flex}.tags[_ngcontent-%COMP%]{padding:0 20px;display:flex;flex-flow:column wrap;gap:10px;align-items:flex-start;color:#e6f5fd;font-family:UZSansB;font-weight:400}.tag[_ngcontent-%COMP%]{display:inline-block;padding:8px 6px 6px;margin:2px;font-size:14px;line-height:6px;background:var(--accent);border-radius:5px}.cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:2px;object-fit:cover;display:block;border:0}.previous[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 20px}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;margin-top:10px;z-index:2;bottom:0;background:linear-gradient(180deg,rgba(0,0,0,0) 0%,var(--background) 90%);width:100%;height:100%;align-content:flex-end;justify-content:flex-end}.content[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{flex-flow:row wrap}.item[_ngcontent-%COMP%]   .info_name[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%], .detail[_ngcontent-%COMP%]{padding:0 8px;margin:2px 0}.detail[_ngcontent-%COMP%]{display:grid;grid-template-columns:.5fr 3fr 1fr;align-items:center;width:100%;font-size:14px;color:gray;font-family:UZSansB;font-weight:400}.dot[_ngcontent-%COMP%]{display:inline-block;background:gray;margin:0 7px;width:5px;height:5px;border-radius:10px}.line[_ngcontent-%COMP%]{border-bottom:dashed gray 1px;height:1px;margin:6px 10px 0;opacity:30%}.time[_ngcontent-%COMP%]{text-wrap:nowrap;white-space:nowrap}ul[_ngcontent-%COMP%]{margin:0;padding:20px}li[_ngcontent-%COMP%]{list-style:none;background:var(--text-3);margin:5px;padding:20px;display:flex;flex-direction:row;justify-content:space-between}.detail_chap[_ngcontent-%COMP%]{white-space:break-spaces;overflow:hidden;margin-right:10px}.date_chap[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (width >= 500px){.cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20rem}}@media (width >= 920px){.title_container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;justify-content:center}.info[_ngcontent-%COMP%]{width:40%}.background_preview[_ngcontent-%COMP%]{width:60%}.background_preview[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{background:var(--text-3);margin:75px 20px;padding:0}.background_preview[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px}.chapters_list[_ngcontent-%COMP%]{padding-top:50px;width:30%}.chapters_list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{max-height:90vh;width:100%;padding-left:0}.intro[_ngcontent-%COMP%]{flex-direction:column}.tags[_ngcontent-%COMP%]{flex-direction:row}.cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25rem}}@media (width >= 1340px){.background_preview[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{flex-direction:row}}"]});let t=e;return t})();var bI=[{path:"",component:Sp},{path:"title/:id",component:II},{path:"title/:id/chapter/:number",component:yI},{path:"**",component:Sp}];var UP=(()=>{let e=class e extends Fo{constructor(i,r,s){super(i,r,s,E(Ro,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(L(ye),L(Ur),L(Vo))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function BP(){return new Fm}function jP(t,e,n){return new Um(t,e,n)}var wI=[{provide:Vo,useFactory:BP},{provide:Fo,useClass:UP},{provide:Si,useFactory:jP,deps:[Ni,Fo,Q]}],$P=[{provide:Ur,useFactory:()=>new Lm},{provide:$t,useValue:"BrowserAnimations"},...wI],VV=[{provide:Ur,useClass:Vm},{provide:$t,useValue:"NoopAnimations"},...wI];function EI(){return Do("NgEagerAnimations"),[...$P]}var zP="@",qP=(()=>{let e=class e{constructor(i,r,s,o,a){this.doc=i,this.delegate=r,this.zone=s,this.animationType=o,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=E(Ro,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-UTHI4ZEU.js")).catch(r=>{throw new ve(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:s})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let o=new s(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(i,r){let s=this.delegate.createRenderer(i,r);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let o=new Rp(s);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let c=a.createRenderer(i,r);o.use(c)}).catch(a=>{o.use(s)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){yl()},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),Rp=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let n of this.replay)n(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,n){this.delegate.appendChild(e,n)}insertBefore(e,n,i,r){this.delegate.insertBefore(e,n,i,r)}removeChild(e,n,i){this.delegate.removeChild(e,n,i)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){this.shouldReplay(n)&&this.replay.push(r=>r.setProperty(e,n,i)),this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.shouldReplay(n)&&this.replay.push(r=>r.listen(e,n,i)),this.delegate.listen(e,n,i)}shouldReplay(e){return this.replay!==null&&e.startsWith(zP)}};function TI(t="animations"){return Do("NgAsyncAnimations"),xr([{provide:Si,useFactory:(e,n,i)=>new qP(e,n,i,t),deps:[ye,Ni,Q]},{provide:$t,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Dp={apiKey:"AIzaSyCK_XbyASoW2HE3dFyFtEXnQXASTVzilqQ",authDomain:"bidosi-manga.firebaseapp.com",databaseURL:"https://bidosi-manga-default-rtdb.europe-west1.firebasedatabase.app",projectId:"bidosi-manga",storageBucket:"bidosi-manga.appspot.com",messagingSenderId:"24335793429",appId:"1:24335793429:web:c9616afea73ecf763dfd1c"},CI={providers:[Pg(bI,xg(),Mg()),EI(),lm([a_(()=>c_(Dp)),X_(()=>J_()),pI(()=>mI())]),TI()]};var AI=(()=>{let e=class e{constructor(){this.isLightTheme=!1,this.themeKey="activeTheme"}getActiveTheme(){let i=localStorage.getItem(this.themeKey);return i?parseInt(i,10):0}setActiveTheme(i){this.toggleTheme(i),localStorage.setItem(this.themeKey,i.toString())}toggleTheme(i){this.isLightTheme=i!=0,this.updateTheme(i)}updateTheme(i){let r=document.documentElement;i==1?(r.style.setProperty("--text","#021018"),r.style.setProperty("--text-3","rgba(2, 16, 24, 0.3)"),r.style.setProperty("--background","#f4f9fb"),r.style.setProperty("--background-8","rgba(244, 249, 251, 0.8)"),r.style.setProperty("--primary","#0b6484"),r.style.setProperty("--secondary","#f15fd2"),r.style.setProperty("--accent","#c5112c")):i==0&&(r.style.setProperty("--text","#f4f9fb"),r.style.setProperty("--text-3","rgba(244, 249, 251, 0.1)"),r.style.setProperty("--background","#04090b"),r.style.setProperty("--background-8","rgba(4, 9, 11, 0.8)"),r.style.setProperty("--primary","#7ad3f4"),r.style.setProperty("--secondary","#a00e80"),r.style.setProperty("--accent","#ee3854"))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var HP=new z("cdk-dir-doc",{providedIn:"root",factory:GP});function GP(){return E(ye)}var WP=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function KP(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?WP.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var SI=(()=>{let e=class e{constructor(i){if(this.value="ltr",this.change=new ke,i){let r=i.body?i.body.dir:null,s=i.documentElement?i.documentElement.dir:null;this.value=KP(r||s||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(L(HP,8))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Pp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=de({type:e}),e.\u0275inj=ue({});let t=e;return t})();var kp;try{kp=typeof Intl<"u"&&Intl.v8BreakIterator}catch{kp=!1}var yt=(()=>{let e=class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?Om(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||kp)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(L(jt))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mo;function YP(){if(mo==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>mo=!0}))}finally{mo=mo||!1}return mo}function xp(t){return YP()?t:!!t.capture}function RI(t){return t.composedPath?t.composedPath()[0]:t.target}function DI(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Op(t){return Array.isArray(t)?t:[t]}function Np(t){return t instanceof ze?t.nativeElement:t}var PI=new Set,vi,XP=(()=>{let e=class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ZP}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&JP(i,this._nonce),this._matchMedia(i)}};e.\u0275fac=function(r){return new(r||e)(L(yt),L(Or,8))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function JP(t,e){if(!PI.has(t))try{vi||(vi=document.createElement("style"),e&&vi.setAttribute("nonce",e),vi.setAttribute("type","text/css"),document.head.appendChild(vi)),vi.sheet&&(vi.sheet.insertRule(`@media ${t} {body{ }}`,0),PI.add(t))}catch(n){console.error(n)}}function ZP(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var xI=(()=>{let e=class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new rt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return kI(Op(i)).some(s=>this._registerQuery(s).mql.matches)}observe(i){let s=kI(Op(i)).map(a=>this._registerQuery(a).observable),o=wi(s);return o=bo(o.pipe(rn(1)),o.pipe(am(1),im(0))),o.pipe(G(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:u})=>{c.matches=c.matches||l,c.breakpoints[u]=l}),c}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),o={observable:new lt(a=>{let c=l=>this._zone.run(()=>a.next(l));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(Eo(r),G(({matches:a})=>({query:i,matches:a})),To(this._destroySubject)),mql:r};return this._queries.set(i,o),o}};e.\u0275fac=function(r){return new(r||e)(L(XP),L(Q))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kI(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}function NI(t){return t.buttons===0||t.detail===0}function VI(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var yi=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(yi||{}),MI="cdk-high-contrast-black-on-white",OI="cdk-high-contrast-white-on-black",Vp="cdk-high-contrast-active",FI=(()=>{let e=class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=E(xI).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return yi.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(i):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(i.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return yi.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return yi.BLACK_ON_WHITE}return yi.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(Vp,MI,OI),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===yi.BLACK_ON_WHITE?i.add(Vp,MI):r===yi.WHITE_ON_BLACK&&i.add(Vp,OI)}}};e.\u0275fac=function(r){return new(r||e)(L(yt),L(ye))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tk(){return!0}var nk=new z("mat-sanity-checks",{providedIn:"root",factory:tk}),tl=(()=>{let e=class e{constructor(i,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return DI()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};e.\u0275fac=function(r){return new(r||e)(L(FI),L(nk,8),L(ye))},e.\u0275mod=de({type:e}),e.\u0275inj=ue({imports:[Pp,Pp]});let t=e;return t})();var We=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(We||{}),Fp=class{constructor(e,n,i,r=!1){this._renderer=e,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=We.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},LI=xp({passive:!0,capture:!0}),Lp=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=RI(e);n&&this._events.get(e.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,n,i,r){let s=this._events.get(n);if(s){let o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,LI)})}removeHandler(e,n,i){let r=this._events.get(e);if(!r)return;let s=r.get(n);s&&(s.delete(i),s.size===0&&r.delete(n),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,LI)))}},UI={enterDuration:225,exitDuration:150},ik=800,BI=xp({passive:!0,capture:!0}),jI=["mousedown","touchstart"],$I=["mouseup","mouseleave","touchend","touchcancel"],go=class go{constructor(e,n,i,r){this._target=e,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Np(i))}fadeInRipple(e,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=v(v({},UI),i.animation);i.centered&&(e=r.left+r.width/2,n=r.top+r.height/2);let o=i.radius||rk(e,n,r),a=e-r.left,c=n-r.top,l=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-o}px`,u.style.top=`${c-o}px`,u.style.height=`${o*2}px`,u.style.width=`${o*2}px`,i.color!=null&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);let d=window.getComputedStyle(u),f=d.transitionProperty,p=d.transitionDuration,S=f==="none"||p==="0s"||p==="0s, 0s"||r.width===0&&r.height===0,A=new Fp(this,u,i,S);u.style.transform="scale3d(1, 1, 1)",A.state=We.FADING_IN,i.persistent||(this._mostRecentTransientRipple=A);let C=null;return!S&&(l||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let B=()=>this._finishRippleTransition(A),Z=()=>this._destroyRipple(A);u.addEventListener("transitionend",B),u.addEventListener("transitioncancel",Z),C={onTransitionEnd:B,onTransitionCancel:Z}}),this._activeRipples.set(A,C),(S||!l)&&this._finishRippleTransition(A),A}fadeOutRipple(e){if(e.state===We.FADING_OUT||e.state===We.HIDDEN)return;let n=e.element,i=v(v({},UI),e.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=We.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=Np(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,jI.forEach(i=>{go._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{$I.forEach(n=>{this._triggerElement.addEventListener(n,this,BI)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===We.FADING_IN?this._startFadeOutTransition(e):e.state===We.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=We.VISIBLE,!i&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=We.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){let n=NI(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+ik;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!VI(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===We.VISIBLE||e.config.terminateOnPointerUp&&e.state===We.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(jI.forEach(n=>go._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&$I.forEach(n=>e.removeEventListener(n,this,BI)))}};go._eventManager=new Lp;var Up=go;function rk(t,e,n){let i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}var Bp=new z("mat-ripple-global-options"),jp=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,r,s,o,a){this._elementRef=i,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Up(this,r,i,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:v(v(v({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,r=0,s){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,r,v(v({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,v(v({},this.rippleConfig),i))}};e.\u0275fac=function(r){return new(r||e)(x(ze),x(Q),x(yt),x(Bp,8),x($t,8))},e.\u0275dir=$e({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,s){r&2&&Di("mat-ripple-unbounded",s.unbounded)},inputs:{color:[ne.None,"matRippleColor","color"],unbounded:[ne.None,"matRippleUnbounded","unbounded"],centered:[ne.None,"matRippleCentered","centered"],radius:[ne.None,"matRippleRadius","radius"],animation:[ne.None,"matRippleAnimation","animation"],disabled:[ne.None,"matRippleDisabled","disabled"],trigger:[ne.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})(),zI=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=de({type:e}),e.\u0275inj=ue({imports:[tl,tl]});let t=e;return t})();var XI=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(x(Vr),x(ze))},e.\u0275dir=$e({type:e});let t=e;return t})(),sk=(()=>{let e=class e extends XI{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Mr(e)))(s||e)}})(),e.\u0275dir=$e({type:e,features:[Ri]});let t=e;return t})(),sl=new z("");var ok={provide:sl,useExisting:Pr(()=>ol),multi:!0};function ak(){let t=Mi()?Mi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var ck=new z(""),ol=(()=>{let e=class e extends XI{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ak())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(x(Vr),x(ze),x(ck,8))},e.\u0275dir=$e({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&te("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[zt([ok]),Ri]});let t=e;return t})();var lk=new z(""),uk=new z("");function JI(t){return t!=null}function ZI(t){return xo(t)?Ye(t):t}function eb(t){let e={};return t.forEach(n=>{e=n!=null?v(v({},e),n):e}),Object.keys(e).length===0?null:e}function tb(t,e){return e.map(n=>n(t))}function dk(t){return!t.validate}function nb(t){return t.map(e=>dk(e)?e:n=>e.validate(n))}function hk(t){if(!t)return null;let e=t.filter(JI);return e.length==0?null:function(n){return eb(tb(n,e))}}function ib(t){return t!=null?hk(nb(t)):null}function fk(t){if(!t)return null;let e=t.filter(JI);return e.length==0?null:function(n){let i=tb(n,e).map(ZI);return nm(i).pipe(G(eb))}}function rb(t){return t!=null?fk(nb(t)):null}function qI(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function pk(t){return t._rawValidators}function mk(t){return t._rawAsyncValidators}function $p(t){return t?Array.isArray(t)?t:[t]:[]}function il(t,e){return Array.isArray(t)?t.includes(e):t===e}function HI(t,e){let n=$p(e);return $p(t).forEach(r=>{il(n,r)||n.push(r)}),n}function GI(t,e){return $p(e).filter(n=>!il(t,n))}var rl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ib(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},zp=class extends rl{get formDirective(){return null}get path(){return null}},yo=class extends rl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},qp=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},gk={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},wL=ce(v({},gk),{"[class.ng-submitted]":"isSubmitted"}),sb=(()=>{let e=class e extends qp{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(x(yo,2))},e.\u0275dir=$e({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Di("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Ri]});let t=e;return t})();var _o="VALID",nl="INVALID",Cr="PENDING",vo="DISABLED";function _k(t){return(al(t)?t.validators:t)||null}function vk(t){return Array.isArray(t)?ib(t):t||null}function yk(t,e){return(al(e)?e.asyncValidators:t)||null}function Ik(t){return Array.isArray(t)?rb(t):t||null}function al(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Hp=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===_o}get invalid(){return this.status===nl}get pending(){return this.status==Cr}get disabled(){return this.status===vo}get enabled(){return this.status!==vo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(HI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(HI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(GI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(GI(e,this._rawAsyncValidators))}hasValidator(e){return il(this._rawValidators,e)}hasAsyncValidator(e){return il(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Cr,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=vo,this.errors=null,this._forEachChild(i=>{i.disable(ce(v({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(v({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=_o,this._forEachChild(i=>{i.enable(ce(v({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(v({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_o||this.status===Cr)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vo:_o}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Cr,this._hasOwnPendingAsyncValidator=!0;let n=ZI(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ke,this.statusChanges=new ke}_calculateStatus(){return this._allControlsDisabled()?vo:this.errors?nl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cr)?Cr:this._anyControlsHaveStatus(nl)?nl:_o}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){al(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=vk(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Ik(this._rawAsyncValidators)}};var ob=new z("CallSetDisabledState",{providedIn:"root",factory:()=>Gp}),Gp="always";function bk(t,e){return[...e.path,t]}function wk(t,e,n=Gp){Tk(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Ck(t,e),Sk(t,e),Ak(t,e),Ek(t,e)}function WI(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Ek(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Tk(t,e){let n=pk(t);e.validator!==null?t.setValidators(qI(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=mk(t);e.asyncValidator!==null?t.setAsyncValidators(qI(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();WI(e._rawValidators,r),WI(e._rawAsyncValidators,r)}function Ck(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&ab(t,e)})}function Ak(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&ab(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function ab(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Sk(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Rk(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Dk(t){return Object.getPrototypeOf(t.constructor)===sk}function Pk(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(s=>{s.constructor===ol?n=s:Dk(s)?i=s:r=s}),r||i||n||null}function KI(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function QI(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var kk=class extends Hp{constructor(e=null,n,i){super(_k(n),yk(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),al(n)&&(n.nonNullable||n.initialValueIsDefault)&&(QI(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){KI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){KI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){QI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var xk={provide:yo,useExisting:Pr(()=>Wp)},YI=Promise.resolve(),Wp=(()=>{let e=class e extends yo{constructor(i,r,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new kk,this._registered=!1,this.name="",this.update=new ke,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=Pk(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),Rk(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){wk(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){YI.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&Qe(r);YI.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?bk(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(x(zp,9),x(lk,10),x(uk,10),x(sl,10),x(Et,8),x(ob,8))},e.\u0275dir=$e({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ne.None,"disabled","isDisabled"],model:[ne.None,"ngModel","model"],options:[ne.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[zt([xk]),Ri,Ci]});let t=e;return t})();var Mk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=de({type:e}),e.\u0275inj=ue({});let t=e;return t})();var cb=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:ob,useValue:i.callSetDisabledState??Gp}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=de({type:e}),e.\u0275inj=ue({imports:[Mk]});let t=e;return t})();var Nk=["knob"],Vk=["valueIndicatorContainer"];function Fk(t,e){if(t&1&&(_(0,"div",2,1)(2,"div",5)(3,"span",6),k(4),y()()()),t&2){let n=Y();w(4),se(n.valueIndicatorText)}}var Lk=["trackActive"],Uk=["*"];function Bk(t,e){if(t&1&&K(0,"div"),t&2){let n=e.$implicit,i=e.$index,r=Y(3);Il(n===0?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),Im("transform",r._calcTickMarkTransform(i))}}function jk(t,e){if(t&1&&wm(0,Bk,1,4,"div",8,bm),t&2){let n=Y(2);Em(n._tickMarks)}}function $k(t,e){if(t&1&&(_(0,"div",6,1),Ie(2,jk,2,0),y()),t&2){let n=Y();w(2),Pi(2,n._cachedWidth?2:-1)}}function zk(t,e){if(t&1&&K(0,"mat-slider-visual-thumb",7),t&2){let n=Y();P("discrete",n.discrete)("thumbPosition",1)("valueIndicatorText",n.startValueIndicatorText)}}var F=function(t){return t[t.START=1]="START",t[t.END=2]="END",t}(F||{}),Ar=function(t){return t[t.ACTIVE=0]="ACTIVE",t[t.INACTIVE=1]="INACTIVE",t}(Ar||{}),Kp=new z("_MatSlider"),lb=new z("_MatSliderThumb"),qk=new z("_MatSliderRangeThumb"),ub=new z("_MatSliderVisualThumb");var Hk=(()=>{let e=class e{constructor(i,r,s,o){this._cdr=i,this._ngZone=r,this._slider=o,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=E(yt),this._onPointerMove=a=>{if(this._sliderInput._isFocused)return;let c=this._hostElement.getBoundingClientRect(),l=this._slider._isCursorOnSliderThumb(a,c);this._isHovered=l,l?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=a=>{a.button===0&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=s.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;let i=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{i.addEventListener("pointermove",this._onPointerMove),i.addEventListener("pointerdown",this._onDragStart),i.addEventListener("pointerup",this._onDragEnd),i.addEventListener("pointerleave",this._onMouseLeave),i.addEventListener("focus",this._onFocus),i.addEventListener("blur",this._onBlur)})}ngOnDestroy(){let i=this._sliderInputEl;i&&(i.removeEventListener("pointermove",this._onPointerMove),i.removeEventListener("pointerdown",this._onDragStart),i.removeEventListener("pointerup",this._onDragEnd),i.removeEventListener("pointerleave",this._onMouseLeave),i.removeEventListener("focus",this._onFocus),i.removeEventListener("blur",this._onBlur))}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(i){return i?.state===We.FADING_IN||i?.state===We.VISIBLE}_showRipple(i,r){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===F.START?F.END:F.START)._showValueIndicator(),!(this._slider._globalRippleOptions?.disabled&&!r)))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:i,centered:!0,persistent:!0})}_hideRipple(i){if(i?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();let r=this._getSibling();r._isShowingAnyRipple()||(this._hideValueIndicator(),r._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===F.START?F.END:F.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}};e.\u0275fac=function(r){return new(r||e)(x(Et),x(Q),x(ze),x(Kp))},e.\u0275cmp=Ae({type:e,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(r,s){if(r&1&&(Vn(jp,5),Vn(Nk,5),Vn(Vk,5)),r&2){let o;bt(o=wt())&&(s._ripple=o.first),bt(o=wt())&&(s._knob=o.first),bt(o=wt())&&(s._valueIndicatorContainer=o.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},standalone:!0,features:[zt([{provide:ub,useExisting:e}]),Se],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(r,s){r&1&&(Ie(0,Fk,5,1,"div",2),K(1,"div",3,0)(3,"div",4)),r&2&&(Pi(0,s.discrete?0:-1),w(3),P("matRippleDisabled",!0))},dependencies:[jp],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0});let t=e;return t})(),db=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){this._disabled=i;let r=this._getInput(F.END),s=this._getInput(F.START);r&&(r.disabled=this._disabled),s&&(s.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(i){this._discrete=i,this._updateValueIndicatorUIs()}get min(){return this._min}set min(i){let r=isNaN(i)?this._min:i;this._min!==r&&this._updateMin(r)}_updateMin(i){let r=this._min;this._min=i,this._isRange?this._updateMinRange({old:r,new:i}):this._updateMinNonRange(i),this._onMinMaxOrStepChange()}_updateMinRange(i){let r=this._getInput(F.END),s=this._getInput(F.START),o=r.value,a=s.value;s.min=i.new,r.min=Math.max(i.new,s.value),s.max=Math.min(r.max,r.value),s._updateWidthInactive(),r._updateWidthInactive(),i.new<i.old?this._onTranslateXChangeBySideEffect(r,s):this._onTranslateXChangeBySideEffect(s,r),o!==r.value&&this._onValueChange(r),a!==s.value&&this._onValueChange(s)}_updateMinNonRange(i){let r=this._getInput(F.END);if(r){let s=r.value;r.min=i,r._updateThumbUIByValue(),this._updateTrackUI(r),s!==r.value&&this._onValueChange(r)}}get max(){return this._max}set max(i){let r=isNaN(i)?this._max:i;this._max!==r&&this._updateMax(r)}_updateMax(i){let r=this._max;this._max=i,this._isRange?this._updateMaxRange({old:r,new:i}):this._updateMaxNonRange(i),this._onMinMaxOrStepChange()}_updateMaxRange(i){let r=this._getInput(F.END),s=this._getInput(F.START),o=r.value,a=s.value;r.max=i.new,s.max=Math.min(i.new,r.value),r.min=s.value,r._updateWidthInactive(),s._updateWidthInactive(),i.new>i.old?this._onTranslateXChangeBySideEffect(s,r):this._onTranslateXChangeBySideEffect(r,s),o!==r.value&&this._onValueChange(r),a!==s.value&&this._onValueChange(s)}_updateMaxNonRange(i){let r=this._getInput(F.END);if(r){let s=r.value;r.max=i,r._updateThumbUIByValue(),this._updateTrackUI(r),s!==r.value&&this._onValueChange(r)}}get step(){return this._step}set step(i){let r=isNaN(i)?this._step:i;this._step!==r&&this._updateStep(r)}_updateStep(i){this._step=i,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){let i=this._getInput(F.END),r=this._getInput(F.START),s=i.value,o=r.value,a=r.value;i.min=this._min,r.max=this._max,i.step=this._step,r.step=this._step,this._platform.SAFARI&&(i.value=i.value,r.value=r.value),i.min=Math.max(this._min,r.value),r.max=Math.min(this._max,i.value),r._updateWidthInactive(),i._updateWidthInactive(),i.value<a?this._onTranslateXChangeBySideEffect(r,i):this._onTranslateXChangeBySideEffect(i,r),s!==i.value&&this._onValueChange(i),o!==r.value&&this._onValueChange(r)}_updateStepNonRange(){let i=this._getInput(F.END);if(i){let r=i.value;i.step=this._step,this._platform.SAFARI&&(i.value=i.value),i._updateThumbUIByValue(),r!==i.value&&this._onValueChange(i)}}constructor(i,r,s,o,a,c){this._ngZone=i,this._cdr=r,this._elementRef=s,this._dir=o,this._globalRippleOptions=a,this._disabled=!1,this._discrete=!1,this.showTickMarks=!1,this._min=0,this.disableRipple=!1,this._max=100,this._step=1,this.displayWith=l=>`${l}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=E(yt),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations=c==="NoopAnimations",this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl=this._dir.value==="rtl"}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();let i=this._getInput(F.END),r=this._getInput(F.START);this._isRange=!!i&&!!r,this._cdr.detectChanges();let s=this._getThumb(F.END);this._rippleRadius=s._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(i,r):this._initUINonRange(i),this._updateTrackUI(i),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(i){i.initProps(),i.initUI(),this._updateValueIndicatorUI(i),this._hasViewInitialized=!0,i._updateThumbUIByValue()}_initUIRange(i,r){i.initProps(),i.initUI(),r.initProps(),r.initUI(),i._updateMinMax(),r._updateMinMax(),i._updateStaticStyles(),r._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,i._updateThumbUIByValue(),r._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl=this._dir.value==="rtl",this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){let i=this._getInput(F.END),r=this._getInput(F.START);i._setIsLeftThumb(),r._setIsLeftThumb(),i.translateX=i._calcTranslateXByValue(),r.translateX=r._calcTranslateXByValue(),i._updateStaticStyles(),r._updateStaticStyles(),i._updateWidthInactive(),r._updateWidthInactive(),i._updateThumbUIByValue(),r._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(F.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(F.START)._isActive||this._getThumb(F.END)._isActive}_getValue(i=F.END){let r=this._getInput(i);return r?r.value:this.min}_skipUpdate(){return!!(this._getInput(F.START)?._skipUIUpdate||this._getInput(F.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(i){let r=this._trackActive.nativeElement.style;r.left=i.left,r.right=i.right,r.transformOrigin=i.transformOrigin,r.transform=i.transform}_calcTickMarkTransform(i){return`translateX(${i*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(i){this._hasViewInitialized&&(this._updateThumbUI(i),this._updateTrackUI(i),this._updateOverlappingThumbUI(i))}_onTranslateXChangeBySideEffect(i,r){this._hasViewInitialized&&(i._updateThumbUIByValue(),r._updateThumbUIByValue())}_onValueChange(i){this._hasViewInitialized&&(this._updateValueIndicatorUI(i),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){let i=this._getInput(F.END),r=this._getInput(F.START);i._updateThumbUIByValue(),r._updateThumbUIByValue(),i._updateStaticStyles(),r._updateStaticStyles(),i._updateMinMax(),r._updateMinMax(),i._updateWidthInactive(),r._updateWidthInactive()}else{let i=this._getInput(F.END);i&&i._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){let i=this._getInput(F.START),r=this._getInput(F.END);return!i||!r?!1:r.translateX-i.translateX<20}_updateOverlappingThumbClassNames(i){let r=i.getSibling(),s=this._getThumb(i.thumbPosition);this._getThumb(r.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),s._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(i){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(i))}_updateThumbUI(i){if(this._skipUpdate())return;let r=this._getThumb(i.thumbPosition===F.END?F.END:F.START);r._hostElement.style.transform=`translateX(${i.translateX}px)`}_updateValueIndicatorUI(i){if(this._skipUpdate())return;let r=this.displayWith(i.value);if(this._hasViewInitialized?i._valuetext=r:i._hostElement.setAttribute("aria-valuetext",r),this.discrete){i.thumbPosition===F.START?this.startValueIndicatorText=r:this.endValueIndicatorText=r;let s=this._getThumb(i.thumbPosition);r.length<3?s._hostElement.classList.add("mdc-slider__thumb--short-value"):s._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){let i=this._getInput(F.END),r=this._getInput(F.START);i&&this._updateValueIndicatorUI(i),r&&this._updateValueIndicatorUI(r)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;let i=this._step&&this._step>0?this._step:1,s=(Math.floor(this.max/i)*i-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*s-6}_updateTrackUI(i){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(i):this._updateTrackUINonRange(i))}_updateTrackUIRange(i){let r=i.getSibling();if(!r||!this._cachedWidth)return;let s=Math.abs(r.translateX-i.translateX)/this._cachedWidth;i._isLeftThumb&&this._cachedWidth?this._setTrackActiveStyles({left:"auto",right:`${this._cachedWidth-r.translateX}px`,transformOrigin:"right",transform:`scaleX(${s})`}):this._setTrackActiveStyles({left:`${r.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${s})`})}_updateTrackUINonRange(i){this._isRtl?this._setTrackActiveStyles({left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-i.fillPercentage})`}):this._setTrackActiveStyles({left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${i.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||this.step===void 0||this.min===void 0||this.max===void 0)return;let i=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(i):this._updateTickMarkUINonRange(i),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(i){let r=this._getValue(),s=Math.max(Math.floor((r-this.min)/i),0),o=Math.max(Math.floor((this.max-r)/i),0);this._isRtl?s++:o++,this._tickMarks=Array(s).fill(Ar.ACTIVE).concat(Array(o).fill(Ar.INACTIVE))}_updateTickMarkUIRange(i){let r=this._getValue(),s=this._getValue(F.START),o=Math.max(Math.floor((s-this.min)/i),0),a=Math.max(Math.floor((r-s)/i)+1,0),c=Math.max(Math.floor((this.max-r)/i),0);this._tickMarks=Array(o).fill(Ar.INACTIVE).concat(Array(a).fill(Ar.ACTIVE),Array(c).fill(Ar.INACTIVE))}_getInput(i){if(i===F.END&&this._input)return this._input;if(this._inputs?.length)return i===F.START?this._inputs.first:this._inputs.last}_getThumb(i){return i===F.END?this._thumbs?.last:this._thumbs?.first}_setTransition(i){this._hasAnimation=!this._platform.IOS&&i&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(i,r){let s=r.width/2,o=r.x+s,a=r.y+s,c=i.clientX-o,l=i.clientY-a;return Math.pow(c,2)+Math.pow(l,2)<Math.pow(s,2)}};e.\u0275fac=function(r){return new(r||e)(x(Q),x(Et),x(ze),x(SI,8),x(Bp,8),x($t,8))},e.\u0275cmp=Ae({type:e,selectors:[["mat-slider"]],contentQueries:function(r,s,o){if(r&1&&(Po(o,lb,5),Po(o,qk,4)),r&2){let a;bt(a=wt())&&(s._input=a.first),bt(a=wt())&&(s._inputs=a)}},viewQuery:function(r,s){if(r&1&&(Vn(Lk,5),Vn(ub,5)),r&2){let o;bt(o=wt())&&(s._trackActive=o.first),bt(o=wt())&&(s._thumbs=o)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(r,s){r&2&&(Il("mat-"+(s.color||"primary")),Di("mdc-slider--range",s._isRange)("mdc-slider--disabled",s.disabled)("mdc-slider--discrete",s.discrete)("mdc-slider--tick-marks",s.showTickMarks)("_mat-animation-noopable",s._noopAnimations))},inputs:{disabled:[ne.HasDecoratorInputTransform,"disabled","disabled",Qe],discrete:[ne.HasDecoratorInputTransform,"discrete","discrete",Qe],showTickMarks:[ne.HasDecoratorInputTransform,"showTickMarks","showTickMarks",Qe],min:[ne.HasDecoratorInputTransform,"min","min",qt],color:"color",disableRipple:[ne.HasDecoratorInputTransform,"disableRipple","disableRipple",Qe],max:[ne.HasDecoratorInputTransform,"max","max",qt],step:[ne.HasDecoratorInputTransform,"step","step",qt],displayWith:"displayWith"},exportAs:["matSlider"],standalone:!0,features:[zt([{provide:Kp,useExisting:e}]),On,Se],ngContentSelectors:Uk,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(r,s){r&1&&(bl(),wl(0),_(1,"div",2),K(2,"div",3),_(3,"div",4),K(4,"div",5,0),y(),Ie(6,$k,3,1,"div",6),y(),Ie(7,zk,1,3,"mat-slider-visual-thumb",7),K(8,"mat-slider-visual-thumb",7)),r&2&&(w(6),Pi(6,s.showTickMarks?6:-1),w(),Pi(7,s._isRange?7:-1),w(),P("discrete",s.discrete)("thumbPosition",2)("valueIndicatorText",s.endValueIndicatorText))},dependencies:[Hk],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:50%;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:translateX(-50%);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:translateX(-50%);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;pointer-events:none;position:absolute;top:2px;width:44px}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color);border-color:var(--mdc-slider-handle-color)}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color);border-color:var(--mdc-slider-disabled-handle-color)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color)}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color)}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color);opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color);opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color);opacity:var(--mdc-slider-with-tick-marks-active-container-opacity)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color);opacity:var(--mdc-slider-with-tick-marks-active-container-opacity)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color);opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color);opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color)}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size);width:var(--mdc-slider-with-tick-marks-container-size)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking);font-size:var(--mdc-slider-label-label-text-size);font-family:var(--mdc-slider-label-label-text-font);font-weight:var(--mdc-slider-label-label-text-weight);line-height:var(--mdc-slider-label-label-text-line-height)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape);width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-style:solid;border-width:calc(var(--mdc-slider-handle-height) / 2) calc(var(--mdc-slider-handle-width) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape)}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color);border-color:var(--mdc-slider-hover-handle-color)}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color);border-color:var(--mdc-slider-focus-handle-color)}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color);border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator-container{transform:var(--mat-slider-value-indicator-container-transform)}.mat-mdc-slider .mdc-slider__value-indicator{width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mat-mdc-slider .mdc-slider__value-indicator::before{display:var(--mat-slider-value-indicator-caret-display)}.mat-mdc-slider .mdc-slider__value-indicator-text{width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slider .mdc-slider__value-indicator{word-break:normal}.mat-mdc-slider .mdc-slider__value-indicator-text{text-align:center}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let t=e;return t})();var Gk={provide:sl,useExisting:Pr(()=>Qp),multi:!0};var Qp=(()=>{let e=class e{get value(){return qt(this._hostElement.value,0)}set value(i){i=isNaN(i)?0:i;let r=i+"";if(!this._hasSetInitialValue){this._initialValue=r;return}this._isActive||this._setValue(r)}_setValue(i){this._hostElement.value=i,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(this._translateX===void 0&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(i){this._translateX=i}get min(){return qt(this._hostElement.min,0)}set min(i){this._hostElement.min=i+"",this._cdr.detectChanges()}get max(){return qt(this._hostElement.max,0)}set max(i){this._hostElement.max=i+"",this._cdr.detectChanges()}get step(){return qt(this._hostElement.step,0)}set step(i){this._hostElement.step=i+"",this._cdr.detectChanges()}get disabled(){return Qe(this._hostElement.disabled)}set disabled(i){this._hostElement.disabled=i,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?this._translateX===0?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(i){this._isFocused=i}constructor(i,r,s,o){this._ngZone=i,this._elementRef=r,this._cdr=s,this._slider=o,this.valueChange=new ke,this.dragStart=new ke,this.dragEnd=new ke,this.thumbPosition=F.END,this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new rt,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=E(yt),this._hostElement=r.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,this._initialValue===void 0?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(i){if(!(this.disabled||i.button!==0)){if(this._platform.IOS){let r=this._slider._isCursorOnSliderThumb(i,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());this._isActive=r,this._updateWidthActive(),this._slider._updateDimensions();return}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(i,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(i),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(i){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(i)},0)}_fixValue(i){let r=i.clientX-this._slider._cachedLeft,s=this._slider._cachedWidth,o=this._slider.step===0?1:this._slider.step,a=Math.floor((this._slider.max-this._slider.min)/o),c=this._slider._isRtl?1-r/s:r/s,u=Math.round(c*a)/a*(this._slider.max-this._slider.min)+this._slider.min,d=Math.round(u/o)*o,f=this.value;if(d===f){this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(i,{withAnimation:this._slider._hasAnimation});return}this.value=d,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(i,{withAnimation:this._slider._hasAnimation})}_onPointerMove(i){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(i)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(i){let r=this._tickMarkOffset,s=this._slider._cachedWidth-this._tickMarkOffset;return Math.max(Math.min(i,s),r)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-this._tickMarkOffset*2)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-this._tickMarkOffset*2)+this._tickMarkOffset}_calcTranslateXByPointerEvent(i){return i.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-this._tickMarkOffset*2}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(i){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(i)}_updateThumbUIByPointerEvent(i,r){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(i)),this._updateThumbUI(r)}_updateThumbUI(i){this._slider._setTransition(!!i?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(i){(this._isControlInitialized||i!==null)&&(this.value=i)}registerOnChange(i){this._onChangeFn=i,this._isControlInitialized=!0}registerOnTouched(i){this._onTouchedFn=i}setDisabledState(i){this.disabled=i}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}};e.\u0275fac=function(r){return new(r||e)(x(Q),x(ze),x(Et),x(Kp))},e.\u0275dir=$e({type:e,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(r,s){r&1&&te("change",function(){return s._onChange()})("input",function(){return s._onInput()})("blur",function(){return s._onBlur()})("focus",function(){return s._onFocus()}),r&2&&Nn("aria-valuetext",s._valuetext)},inputs:{value:[ne.HasDecoratorInputTransform,"value","value",qt]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],standalone:!0,features:[zt([Gk,{provide:lb,useExisting:e}]),On]});let t=e;return t})();var hb=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=de({type:e}),e.\u0275inj=ue({imports:[tl,zI]});let t=e;return t})();var Kk=t=>({hidden_nav_bar:t}),Qk=t=>({navigate_to:t}),Yk=t=>({moved:t}),Xk=(t,e)=>({opened:t,chapterSettings:e}),Ii=t=>({active:t}),cl=t=>({chapterSettings:t});function Jk(t,e){if(t&1&&(_(0,"span",38),k(1,"\u041D\u0430\u0432\u0456\u0433\u0430\u0446\u0456\u044F"),y()),t&2){let n=Y();P("ngClass",oe(1,cl,n.isChapterSettings))}}function Zk(t,e){if(t&1){let n=ki();_(0,"div",39)(1,"div",40)(2,"div",41),te("click",function(){dt(n);let r=Y();return ht(r.toggleAutoHide(!1))}),_(3,"div",42),k(4,"\u0421\u0442\u0430\u0442\u0438\u0447\u043D\u0430"),y()(),_(5,"div",43),te("click",function(){dt(n);let r=Y();return ht(r.toggleAutoHide(!0))}),_(6,"div",44),k(7,"\u0420\u0443\u0445\u043E\u043C\u0430"),y()(),_(8,"span"),k(9,"\u0412\u0435\u0440\u0445\u043D\u044F \u043F\u0430\u043D\u0435\u043B\u044C"),y()(),_(10,"div",40)(11,"div",41),te("click",function(){dt(n);let r=Y();return ht(r.toggleBottomAutoHide(!1))}),_(12,"div",45),k(13,"\u0421\u0442\u0430\u0442\u0438\u0447\u043D\u0430"),y()(),_(14,"div",43),te("click",function(){dt(n);let r=Y();return ht(r.toggleBottomAutoHide(!0))}),_(15,"div",46),k(16,"\u0420\u0443\u0445\u043E\u043C\u0430"),y()(),_(17,"span"),k(18,"\u041D\u0438\u0436\u043D\u044F \u043F\u0430\u043D\u0435\u043B\u044C"),y()()()}if(t&2){let n=Y();P("ngClass",oe(5,cl,n.isChapterSettings)),w(2),P("ngClass",oe(7,Ii,!n.isAutoHide)),w(3),P("ngClass",oe(9,Ii,n.isAutoHide)),w(6),P("ngClass",oe(11,Ii,!n.isBottomAutoHide)),w(3),P("ngClass",oe(13,Ii,n.isBottomAutoHide))}}function e1(t,e){t&1&&(_(0,"span"),k(1,"\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0430 \u0448\u0438\u0440\u0438\u043D\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043E\u043A"),y())}function t1(t,e){if(t&1){let n=ki();_(0,"div",47)(1,"div")(2,"label"),k(3,"\u0417\u0432\u0438\u0447\u0430\u0439\u043D\u0438\u0445: "),y(),_(4,"label"),k(5),y()(),_(6,"mat-slider",48)(7,"input",49,0),Al("ngModelChange",function(r){dt(n);let s=Y();return Cl(s.currentPagesWidth,r)||(s.currentPagesWidth=r),ht(r)}),te("input",function(){dt(n);let r=Fn(8),s=Y();return ht(s.changeWidth(r.value))}),y()()()}if(t&2){let n=Fn(8),i=Y();P("ngClass",oe(9,cl,i.isChapterSettings)),w(5),se(n.value),w(),P("disabled",!1)("max",2e3)("min",400)("step",200)("discrete",!0)("showTickMarks",!0),w(),Tl("ngModel",i.currentPagesWidth)}}function n1(t,e){if(t&1){let n=ki();_(0,"div",47)(1,"div")(2,"label"),k(3,"\u0428\u0438\u0440\u043E\u043A\u0438\u0445: "),y(),_(4,"label"),k(5),y()(),_(6,"mat-slider",48)(7,"input",49,1),Al("ngModelChange",function(r){dt(n);let s=Y();return Cl(s.currentBigPagesWidth,r)||(s.currentBigPagesWidth=r),ht(r)}),te("input",function(){dt(n);let r=Fn(8),s=Y();return ht(s.changeBigWidth(r.value))}),y()()()}if(t&2){let n=Fn(8),i=Y();P("ngClass",oe(9,cl,i.isChapterSettings)),w(5),se(n.value),w(),P("disabled",!1)("max",3e3)("min",400)("step",200)("discrete",!0)("showTickMarks",!0),w(),Tl("ngModel",i.currentBigPagesWidth)}}var fb=(()=>{let e=class e{constructor(i,r,s){this._location=i,this.router=r,this.navHideService=s,this.isVisible=!0,this.isAutoHide=!1,this.scrollPosition=0,this.topHideKey="topHideKey",this.isBottomAutoHide=!1,this.bottomHideKey="bottomHideKey",this.currentPagesWidth="800",this.currentBigPagesWidth="2000",this.pagesWidth="pagesWidth",this.bigPagesWidth="bigPagesWidth",this.colorSwitcher=E(AI),this.isChapterSettings=!1,this.isButtonPressed=!1,this.ifThisPageHome=!0,this.changeWidth(localStorage.getItem(this.pagesWidth)||"800"),this.changeBigWidth(localStorage.getItem(this.bigPagesWidth)||"2000"),this.activeThemeIndex=this.colorSwitcher.getActiveTheme(),this.isAutoHide=/^true$/i.test(localStorage.getItem(this.topHideKey)||"false"),this.isBottomAutoHide=/^true$/i.test(localStorage.getItem(this.bottomHideKey)||"false"),this.navHideService.isBottomAutoHide=this.isBottomAutoHide,console.log(this.isAutoHide),r.events.subscribe(()=>{this.router.url==="/"?(this.ifThisPageHome=!0,this.isChapterSettings=!1):this.router.url.includes("chapter")?(this.isChapterSettings=!0,this.ifThisPageHome=!1):(this.isChapterSettings=!1,this.ifThisPageHome=!1)})}toggleAnimation(){this.isButtonPressed=!this.isButtonPressed}toggleAutoHide(i){localStorage.setItem(this.topHideKey,i.toString()),this.isAutoHide=i,i||(this.isVisible=!0)}toggleBottomAutoHide(i){localStorage.setItem(this.bottomHideKey,i.toString()),this.isBottomAutoHide=i,this.navHideService.isBottomAutoHide=this.isBottomAutoHide}goBackPage(){this._location.back()}switchTheme(i){this.activeThemeIndex=i,this.colorSwitcher.setActiveTheme(i)}ngOnInit(){this.switchTheme(this.colorSwitcher.getActiveTheme())}onWindowScroll(){if(this.isAutoHide&&this.isChapterSettings){let i=window.scrollY;this.scrollPosition<i?(this.scrollPosition=i,this.isVisible=!1):this.isVisible=!0}}onClick(i){i.target.closest(".chapter_images")&&(this.isAutoHide&&this.isChapterSettings?(this.isVisible=!this.isVisible,this.isButtonPressed&&(this.isButtonPressed=!this.isButtonPressed)):this.isButtonPressed=!1)}changeWidth(i){document.documentElement.style.setProperty("--max-width-for-user",i+"px"),this.currentPagesWidth=i,localStorage.setItem(this.pagesWidth,i)}changeBigWidth(i){document.documentElement.style.setProperty("--max-big-width-for-user",i+"px"),this.currentBigPagesWidth=i,localStorage.setItem(this.bigPagesWidth,i)}};e.\u0275fac=function(r){return new(r||e)(x(Oi),x(os),x(el))},e.\u0275cmp=Ae({type:e,selectors:[["bido-dom-nav"]],hostBindings:function(r,s){r&1&&te("scroll",function(a){return s.onWindowScroll(a)},!1,Ai)("click",function(a){return s.onClick(a)},!1,So)},standalone:!0,features:[Se],decls:59,vars:27,consts:[["slider",""],["bigSlider",""],[1,"nav-bar",3,"ngClass"],[1,"nav-content"],[1,"nav_padd"],[1,"chapters","button",3,"ngClass"],[1,"home_back_buttons"],[3,"click"],["viewBox","-2 -4 35 36",1,"back_b"],["d","m24 2c3.3137085 0 6 2.6862915 6 6v16c0 3.3137085-2.6862915 6-6 6h-16c-3.3137085 0-6-2.6862915-6-6v-16c0-3.3137085 2.6862915-6 6-6zm-1.7573593 7.92893219c-.3905243-.39052429-1.0236893-.39052429-1.4142136 0l-8.6558932 8.65706781-.000961-4.586c0-.5522847-.4477153-1-1-1-.5522848 0-1 .4477153-1 1v7c0 .5522847.4477152 1 1 1h7c.5522847 0 1-.4477153 1-1s-.4477153-1-1-1l-4.586039.001 8.6571068-8.6578542c.3905243-.3905243.3905243-1.0236893 0-1.41421361z"],["routerLink","/"],["viewBox","0 0 35 35",1,"home_b"],["d","m19.5548639 2.6028224 8.9944388 6.59912643c1.5405939 1.13031777 2.4506973 2.92683637 2.4506973 4.83760787v11.9604433c0 3.3137085-2.6862915 6-6 6h-18c-3.3137085 0-6-2.6862915-6-6v-11.958697c0-1.9117507.91103125-3.7090683 2.45293825-4.83925127l9.00556125-6.60087271c2.1123042-1.54827125 4.9847775-1.54760604 7.0963644.00164338zm-3.5548639 13.3971776c-2.209139 0-4 1.790861-4 4v3c0 .5522847.4477153 1 1 1h6c.5522847 0 1-.4477153 1-1v-3c0-2.209139-1.790861-4-4-4z"],["routerLink","/",1,"color-effect","logo"],[1,"reload","button"],[1,"settings_button"],["viewBox","-4 -4 74 64","focusable","false",3,"click","ngClass"],["id","line_3","x","2","y","43.6601","width","60","height","5","rx","1"],["id","el_3","cx","21.1133","cy","45.1379","r","7.88177"],["id","line_2","x","2","y","25.532","width","60","height","5","rx","1"],["id","el_2","cx","49.3892","cy","27.0099","r","7.88177"],["id","line_1","x","2","y","7.40394","width","60","height","5","rx","1"],["id","el_1","cx","13.2315","cy","8.88177","r","7.88177"],[1,"settings_panel",3,"ngClass"],[1,"settings_content"],[1,"themes"],[1,"theme",3,"click"],[1,"theme_box","dark",3,"ngClass"],[1,"text","line_theme"],[1,"primary","line_theme"],[1,"secondary","line_theme"],[1,"accent","line_theme"],[1,"theme_box","light",3,"ngClass"],[1,"theme_box","system",3,"ngClass"],[3,"ngClass",4,"ngIf"],["class","settings_nav",3,"ngClass",4,"ngIf"],[4,"ngIf"],["class","settings_pages",3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"settings_nav",3,"ngClass"],[1,"settings_nav_item"],[1,"main_nav_box","active",3,"click","ngClass"],[1,"top_nav_box"],[1,"main_nav_box",3,"click","ngClass"],[1,"top_nav_box","hidding"],[1,"bottom_nav_box"],[1,"bottom_nav_box","hidding"],[1,"settings_pages",3,"ngClass"],[3,"disabled","max","min","step","discrete","showTickMarks"],["matSliderThumb","",3,"ngModelChange","input","ngModel"]],template:function(r,s){r&1&&(_(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7),te("click",function(){return s.goBackPage()}),kn(),_(6,"svg",8),K(7,"path",9),y()(),xn(),_(8,"div",10),kn(),_(9,"svg",11),K(10,"path",12),y()()(),xn(),_(11,"span",13),k(12,"\u0411\u0456\u0434\u043E\u0441\u0456"),y()(),_(13,"div",14)(14,"div",15),kn(),_(15,"svg",16),te("click",function(){return s.toggleAnimation()}),K(16,"rect",17)(17,"circle",18)(18,"rect",19)(19,"circle",20)(20,"rect",21)(21,"circle",22),y()()()()(),xn(),_(22,"div",23)(23,"div",24)(24,"span"),k(25,"\u0422\u0435\u043C\u0430"),y(),_(26,"div",25)(27,"div",26),te("click",function(){return s.switchTheme(0)}),_(28,"div",27)(29,"div",28),k(30,"\u0422\u0435\u043A\u0441\u0442"),y(),K(31,"div",29)(32,"div",30)(33,"div",31),y(),_(34,"span"),k(35,"\u0422\u0435\u043C\u043D\u0430"),y()(),_(36,"div",26),te("click",function(){return s.switchTheme(1)}),_(37,"div",32)(38,"div",28),k(39,"\u0422\u0435\u043A\u0441\u0442"),y(),K(40,"div",29)(41,"div",30)(42,"div",31),y(),_(43,"span"),k(44,"\u0421\u0432\u0456\u0442\u043B\u0430"),y()(),_(45,"div",26),te("click",function(){return s.switchTheme(2)}),_(46,"div",33)(47,"div",28),k(48,"\u0422\u0435\u043A\u0441\u0442"),y(),K(49,"div",29)(50,"div",30)(51,"div",31),y(),_(52,"span"),k(53,"\u0421\u0438\u0441\u0442\u0435\u043C\u043D\u0430"),y()()(),Ie(54,Jk,2,3,"span",34)(55,Zk,19,15,"div",35)(56,e1,2,0,"span",36)(57,t1,9,11,"div",37)(58,n1,9,11,"div",37),y()()()),r&2&&(P("ngClass",oe(12,Kk,!s.isVisible)),w(3),P("ngClass",oe(14,Qk,!s.ifThisPageHome)),w(12),P("ngClass",oe(16,Yk,s.isButtonPressed)),w(7),P("ngClass",an(18,Xk,s.isButtonPressed,s.isChapterSettings)),w(6),P("ngClass",oe(21,Ii,s.activeThemeIndex===0)),w(9),P("ngClass",oe(23,Ii,s.activeThemeIndex===1)),w(9),P("ngClass",oe(25,Ii,s.activeThemeIndex===2)),w(8),P("ngIf",s.isChapterSettings),w(),P("ngIf",s.isChapterSettings),w(),P("ngIf",s.isChapterSettings),w(),P("ngIf",s.isChapterSettings),w(),P("ngIf",s.isChapterSettings))},dependencies:[fn,Mo,Oo,hb,db,Qp,cb,ol,sb,Wp],styles:["@font-face{font-family:PopB;src:url(/assets/fonts/Poppins-ExtraBold.ttf);font-weight:800}.nav-bar[_ngcontent-%COMP%]{background:var(--background);color:var(--text);position:fixed;top:0;left:0;width:100vw;z-index:5;transition:top .3s linear}.hidden_nav_bar[_ngcontent-%COMP%]{top:-10%}.nav-content[_ngcontent-%COMP%]{z-index:9999;position:absolute;width:100%;background:inherit;-webkit-box-shadow:0px 9px 50px -10px var(--text-3);box-shadow:0 9px 50px -10px var(--text-3);overflow:hidden}.nav_padd[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.nav-content[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--text);padding:7px;height:30px}.chapters[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;transition:top .2s ease-in 0s;top:0}.home_back_buttons[_ngcontent-%COMP%]{display:flex;top:-50px;position:absolute}.home_back_buttons[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{padding-left:0;margin-right:5px}.navigate_to[_ngcontent-%COMP%]{top:46px}.navigate_to[_ngcontent-%COMP%]   .back_b[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_hithere 1s ease 1}.back_b[_ngcontent-%COMP%]{transform:rotate(47deg)}@keyframes _ngcontent-%COMP%_hithere{30%{transform:scale(1.2) rotate(47deg)}40%,60%{transform:rotate(42deg) scale(1.2)}50%{transform:rotate(47deg) scale(1.2)}70%{transform:rotate(42deg) scale(1.2)}to{transform:scale(1) rotate(47deg)}}.button[_ngcontent-%COMP%]{padding:0 20px}.color-effect[_ngcontent-%COMP%]{font-family:PopB;font-weight:800;font-size:22px;background:linear-gradient(120deg,var(--primary),var(--accent));background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.settings_panel[_ngcontent-%COMP%]{right:0;width:100%;background:var(--background-8);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);transition:all .2s ease;transform:translateY(-100%);position:absolute;z-index:-1;-webkit-box-shadow:9px 9px 50px -10px black;box-shadow:9px 9px 50px -10px #000;max-height:456px;overflow:auto}.opened[_ngcontent-%COMP%]{transform:translateY(20%)}.chapterSettings.opened[_ngcontent-%COMP%]{transform:translateY(7%)}.hidden_nav_bar[_ngcontent-%COMP%]   .chapterSettings.opened[_ngcontent-%COMP%]{transform:translateY(12%)}.settings_content[_ngcontent-%COMP%]{padding:20px}.themes[_ngcontent-%COMP%], .settings_nav[_ngcontent-%COMP%]{display:flex;justify-content:space-around;height:100%;margin:7px 7px 15px}.theme[_ngcontent-%COMP%], .settings_nav_item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:25%;border:2px transparent solid}.theme[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border:2px var(--accent) solid}.theme[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:10px}.theme_box[_ngcontent-%COMP%]{width:100%;height:100%;padding:6px 2px;border-radius:5px;background:var(--background)}.line_theme[_ngcontent-%COMP%]{margin:5px;padding:6px;border-radius:4px}.theme_box.system[_ngcontent-%COMP%]{background:linear-gradient(to right,var(--background) 50%,var(--text) 50%)}.theme_box.system[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{background:linear-gradient(to right,var(--text) 50%,var(--background) 50%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.text[_ngcontent-%COMP%]{color:var(--text);margin:3px 0}.primary[_ngcontent-%COMP%]{background:var(--primary);width:30%}.secondary[_ngcontent-%COMP%]{background:var(--secondary);width:10%;margin-bottom:12px}.accent[_ngcontent-%COMP%]{background:var(--accent)}.settings_nav_item[_ngcontent-%COMP%]{width:40%;justify-content:space-between}.settings_nav_item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.settings_nav_item[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border:2px var(--accent) solid}.main_nav_box[_ngcontent-%COMP%]{display:flex;overflow:hidden;width:100%;height:100%;padding:2px;margin-bottom:6px;border-radius:6px;border:2px var(--text-3) solid;background:var(--background)}.top_nav_box[_ngcontent-%COMP%], .bottom_nav_box[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;border-bottom:2px var(--primary) solid;margin-bottom:40px;transition:all .5s ease}.chapterSettings.opened[_ngcontent-%COMP%]   .top_nav_box.hidding[_ngcontent-%COMP%]{-webkit-animation:_ngcontent-%COMP%_top_nav_hidding_anim 3s infinite;-o-animation:top_nav_hidding_anim 3s infinite;animation:_ngcontent-%COMP%_top_nav_hidding_anim 3s infinite}@keyframes _ngcontent-%COMP%_top_nav_hidding_anim{0%{transform:translateY(0)}50%{transform:translateY(-120%)}to{transform:translateY(0)}}.bottom_nav_box[_ngcontent-%COMP%]{border-bottom:0;border-top:2px var(--primary) solid;margin-bottom:0;margin-top:40px}.chapterSettings.opened[_ngcontent-%COMP%]   .bottom_nav_box.hidding[_ngcontent-%COMP%]{-webkit-animation:_ngcontent-%COMP%_bottom_nav_hidding_anim 3s infinite;-o-animation:bottom_nav_hidding_anim 3s infinite;animation:_ngcontent-%COMP%_bottom_nav_hidding_anim 3s infinite}@keyframes _ngcontent-%COMP%_bottom_nav_hidding_anim{0%{transform:translateY(0)}50%{transform:translateY(120%)}to{transform:translateY(0)}}.settings_pages[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 20px}.mat-accent[_ngcontent-%COMP%]   .mat-slider-track-fill[_ngcontent-%COMP%], .mat-slider-thumb-label[_ngcontent-%COMP%], .mat-slider-thumb[_ngcontent-%COMP%]{background-color:red!important}@media (width >= 1000px){.settings_panel[_ngcontent-%COMP%]{width:400px;max-height:none}.settings_panel[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px}.settings_nav_item[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], .theme[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border:3px var(--accent) solid;border-radius:7px}.top_nav_box[_ngcontent-%COMP%]{border-bottom:3px var(--primary) solid}.bottom_nav_box[_ngcontent-%COMP%]{border-top:3px var(--primary) solid}.nav_padd[_ngcontent-%COMP%]{padding:5px}.nav-content[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--text);padding:3px;height:30px}}",`#el_1[_ngcontent-%COMP%]{
        transition: all 0.1s ease-in;
    }
    #el_2[_ngcontent-%COMP%] {
        transition: all 0.3s ease-out;
    }
    #el_3[_ngcontent-%COMP%] {
        transition: all 0.2s ease-out;
    }

    .moved[_ngcontent-%COMP%]   #el_1[_ngcontent-%COMP%]{
        transform: translateX(55%);
    }
    .moved[_ngcontent-%COMP%]   #el_2[_ngcontent-%COMP%]{
        transform: translateX(-50%);
    }
    .moved[_ngcontent-%COMP%]   #el_3[_ngcontent-%COMP%]{
        transform: translateX(35%);
    }`]});let t=e;return t})();var pb=(()=>{let e=class e{constructor(){this.app=hs(Dp)}prepareRoute(i){return i&&i.activatedRouteData&&i.activatedRouteData.animation}ngOnInit(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ae({type:e,selectors:[["app-root"]],standalone:!0,features:[Se],decls:3,vars:0,consts:[[1,"main"]],template:function(r,s){r&1&&(K(0,"bido-dom-nav"),_(1,"main",0),K(2,"router-outlet"),y())},dependencies:[vu,fb],styles:['[_nghost-%COMP%]{--bright-blue: oklch(51.01% .274 263.83);--electric-violet: oklch(53.18% .28 296.97);--french-violet: oklch(47.66% .246 305.88);--vivid-pink: oklch(69.02% .277 332.77);--hot-red: oklch(61.42% .238 15.34);--orange-red: oklch(63.32% .24 31.68);--gray-900: oklch(19.37% .006 300.98);--gray-700: oklch(36.98% .014 302.71);--gray-400: oklch(70.9% .015 304.04);--red-to-pink-to-purple-vertical-gradient: linear-gradient( 180deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--red-to-pink-to-purple-horizontal-gradient: linear-gradient( 90deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--pill-accent: var(--bright-blue);font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,UZ Sans;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}@font-face{font-family:UZSansB;src:url(/assets/fonts/UZSans-SemiBold.ttf);font-weight:400}body[_ngcontent-%COMP%]{margin:0;padding:0;background:var(--background);color:var(--text)}h1[_ngcontent-%COMP%]{font-size:3.125rem;color:var(--text);font-weight:500;line-height:100%;letter-spacing:-.125rem;margin:0;font-family:Inter Tight,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol}p[_ngcontent-%COMP%]{margin:0;color:var(--gray-700)}main[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;box-sizing:inherit;position:relative}.angular-logo[_ngcontent-%COMP%]{max-width:9.2rem}.content[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;max-width:700px;margin-bottom:3rem}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:1.75rem}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1.5rem}.divider[_ngcontent-%COMP%]{width:1px;background:var(--red-to-pink-to-purple-vertical-gradient);margin-inline:.5rem}.pill-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;flex-wrap:wrap;gap:1.25rem}.pill[_ngcontent-%COMP%]{display:flex;align-items:center;--pill-accent: var(--bright-blue);background:color-mix(in srgb,var(--pill-accent) 5%,transparent);color:var(--pill-accent);padding-inline:.75rem;padding-block:.375rem;border-radius:2.75rem;border:0;transition:background .3s ease;font-family:var(--inter-font);font-size:.875rem;font-style:normal;font-weight:500;line-height:1.4rem;letter-spacing:-.00875rem;text-decoration:none}.pill[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--pill-accent) 15%,transparent)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+1){--pill-accent: var(--bright-blue)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+2){--pill-accent: var(--french-violet)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+3), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+4), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+5){--pill-accent: var(--hot-red)}.pill-group[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-inline-start:.25rem}.social-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.73rem;margin-top:1.5rem}.social-links[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:fill .3s ease;fill:var(--gray-400)}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--gray-900)}@media screen and (max-width: 650px){.content[_ngcontent-%COMP%]{flex-direction:column;width:max-content}.divider[_ngcontent-%COMP%]{height:1px;width:100%;background:var(--red-to-pink-to-purple-horizontal-gradient);margin-block:1.5rem}.main[_ngcontent-%COMP%]{padding:0}}']});let t=e;return t})();Gm(pb,CI).catch(t=>console.error(t));
