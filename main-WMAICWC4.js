var rS=Object.defineProperty,iS=Object.defineProperties;var sS=Object.getOwnPropertyDescriptors;var w_=Object.getOwnPropertySymbols,oS=Object.getPrototypeOf,aS=Object.prototype.hasOwnProperty,cS=Object.prototype.propertyIsEnumerable,uS=Reflect.get;var I_=(t,e,n)=>e in t?rS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w=(t,e)=>{for(var n in e||={})aS.call(e,n)&&I_(t,n,e[n]);if(w_)for(var n of w_(e))cS.call(e,n)&&I_(t,n,e[n]);return t},ce=(t,e)=>iS(t,sS(e));var Rn=(t,e,n)=>uS(oS(t),n,e);var p=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});function lS(t,e){return Object.is(t,e)}var Ie=null,Ma=!1,Oa=1,ai=Symbol("SIGNAL");function G(t){let e=Ie;return Ie=t,e}var dd={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function E_(t){if(Ma)throw new Error("");if(Ie===null)return;Ie.consumerOnSignalRead(t);let e=Ie.nextProducerIndex++;if(oi(Ie),e<Ie.producerNode.length&&Ie.producerNode[e]!==t&&Ns(Ie)){let n=Ie.producerNode[e];ka(n,Ie.producerIndexOfThis[e])}Ie.producerNode[e]!==t&&(Ie.producerNode[e]=t,Ie.producerIndexOfThis[e]=Ns(Ie)?A_(t,Ie,e):0),Ie.producerLastReadVersion[e]=t.version}function dS(){Oa++}function hS(t){if(!(Ns(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Oa)){if(!t.producerMustRecompute(t)&&!hd(t)){t.dirty=!1,t.lastCleanEpoch=Oa;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Oa}}function C_(t){if(t.liveConsumerNode===void 0)return;let e=Ma;Ma=!0;try{for(let n of t.liveConsumerNode)n.dirty||fS(n)}finally{Ma=e}}function T_(){return Ie?.consumerAllowSignalWrites!==!1}function fS(t){t.dirty=!0,C_(t),t.consumerMarkedDirty?.(t)}function D_(t){return t&&(t.nextProducerIndex=0),G(t)}function b_(t,e){if(G(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ns(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ka(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function hd(t){oi(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(hS(n),r!==n.version))return!0}return!1}function S_(t){if(oi(t),Ns(t))for(let e=0;e<t.producerNode.length;e++)ka(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function A_(t,e,n){if(R_(t),oi(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=A_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ka(t,e){if(R_(t),oi(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)ka(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];oi(i),i.producerIndexOfThis[r]=e}}function Ns(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function oi(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function R_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function pS(){throw new Error}var x_=pS;function N_(){x_()}function P_(t){x_=t}var gS=null;function M_(t){let e=Object.create(k_);e.value=t;let n=()=>(E_(e),e.value);return n[ai]=e,n}function fd(t,e){T_()||N_(),t.equal(t.value,e)||(t.value=e,mS(t))}function O_(t,e){T_()||N_(),fd(t,e(t.value))}var k_=ce(w({},dd),{equal:lS,value:void 0});function mS(t){t.version++,dS(),C_(t),gS?.()}function A(t){return typeof t=="function"}function ci(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Fa=ci(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function lr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var fe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(A(r))try{r()}catch(s){e=s instanceof Fa?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{F_(s)}catch(o){e=e??[],o instanceof Fa?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Fa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)F_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&lr(n,e)}remove(e){let{_finalizers:n}=this;n&&lr(n,e),e instanceof t&&e._removeParent(this)}};fe.EMPTY=(()=>{let t=new fe;return t.closed=!0,t})();var pd=fe.EMPTY;function La(t){return t instanceof fe||t&&"closed"in t&&A(t.remove)&&A(t.add)&&A(t.unsubscribe)}function F_(t){A(t)?t():t.unsubscribe()}var Et={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ui={setTimeout(t,e,...n){let{delegate:r}=ui;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ui;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Va(t){ui.setTimeout(()=>{let{onUnhandledError:e}=Et;if(e)e(t);else throw t})}function Ps(){}var L_=gd("C",void 0,void 0);function V_(t){return gd("E",void 0,t)}function U_(t){return gd("N",t,void 0)}function gd(t,e,n){return{kind:t,value:e,error:n}}var dr=null;function li(t){if(Et.useDeprecatedSynchronousErrorHandling){let e=!dr;if(e&&(dr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=dr;if(dr=null,n)throw r}}else t()}function j_(t){Et.useDeprecatedSynchronousErrorHandling&&dr&&(dr.errorThrown=!0,dr.error=t)}var hr=class extends fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,La(e)&&e.add(this)):this.destination=vS}static create(e,n,r){return new di(e,n,r)}next(e){this.isStopped?yd(U_(e),this):this._next(e)}error(e){this.isStopped?yd(V_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?yd(L_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},yS=Function.prototype.bind;function md(t,e){return yS.call(t,e)}var _d=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ua(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ua(r)}else Ua(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ua(n)}}},di=class extends hr{constructor(e,n,r){super();let i;if(A(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Et.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&md(e.next,s),error:e.error&&md(e.error,s),complete:e.complete&&md(e.complete,s)}):i=e}this.destination=new _d(i)}};function Ua(t){Et.useDeprecatedSynchronousErrorHandling?j_(t):Va(t)}function _S(t){throw t}function yd(t,e){let{onStoppedNotification:n}=Et;n&&ui.setTimeout(()=>n(t,e))}var vS={closed:!0,next:Ps,error:_S,complete:Ps};var hi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function it(t){return t}function vd(...t){return wd(t)}function wd(t){return t.length===0?it:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var j=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=IS(n)?n:new di(n,r,i);return li(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=B_(r),new r((i,s)=>{let o=new di({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[hi](){return this}pipe(...n){return wd(n)(this)}toPromise(n){return n=B_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function B_(t){var e;return(e=t??Et.Promise)!==null&&e!==void 0?e:Promise}function wS(t){return t&&A(t.next)&&A(t.error)&&A(t.complete)}function IS(t){return t&&t instanceof hr||wS(t)&&La(t)}function Id(t){return A(t?.lift)}function H(t){return e=>{if(Id(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function q(t,e,n,r,i){return new Ed(t,e,n,r,i)}var Ed=class extends hr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function fi(){return H((t,e)=>{let n=null;t._refCount++;let r=q(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var pi=class extends j{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Id(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new fe;let n=this.getSubject();e.add(this.source.subscribe(q(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=fe.EMPTY)}return e}refCount(){return fi()(this)}};var $_=ci(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ke=(()=>{class t extends j{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ja(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new $_}next(n){li(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){li(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){li(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?pd:(this.currentObservers=null,s.push(n),new fe(()=>{this.currentObservers=null,lr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new j;return n.source=this,n}}return t.create=(e,n)=>new ja(e,n),t})(),ja=class extends ke{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:pd}};var pe=class extends ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Cd={now(){return(Cd.delegate||Date).now()},delegate:void 0};var Ba=class extends fe{constructor(e,n){super()}schedule(e,n=0){return this}};var Ms={setInterval(t,e,...n){let{delegate:r}=Ms;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ms;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var gi=class extends Ba{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ms.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ms.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,lr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var mi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};mi.now=Cd.now;var yi=class extends mi{constructor(e,n=mi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Td=new yi(gi);var $a=class extends gi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ha=class extends yi{};var Dd=new Ha($a);var qe=new j(t=>t.complete());function H_(t){return t&&A(t.schedule)}function q_(t){return t[t.length-1]}function z_(t){return A(q_(t))?t.pop():void 0}function xn(t){return H_(q_(t))?t.pop():void 0}function bd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function G_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function W_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fr(t){return this instanceof fr?(this.v=t,this):new fr(t)}function K_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,_){s.push([h,f,g,_])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof fr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Q_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof W_=="function"?W_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var qa=t=>t&&typeof t.length=="number"&&typeof t!="function";function za(t){return A(t?.then)}function Wa(t){return A(t[hi])}function Ga(t){return Symbol.asyncIterator&&A(t?.[Symbol.asyncIterator])}function Ka(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ES(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qa=ES();function Ya(t){return A(t?.[Qa])}function Ja(t){return K_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield fr(n.read());if(i)return yield fr(void 0);yield yield fr(r)}}finally{n.releaseLock()}})}function Za(t){return A(t?.getReader)}function Ee(t){if(t instanceof j)return t;if(t!=null){if(Wa(t))return CS(t);if(qa(t))return TS(t);if(za(t))return DS(t);if(Ga(t))return Y_(t);if(Ya(t))return bS(t);if(Za(t))return SS(t)}throw Ka(t)}function CS(t){return new j(e=>{let n=t[hi]();if(A(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function TS(t){return new j(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function DS(t){return new j(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Va)})}function bS(t){return new j(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Y_(t){return new j(e=>{AS(t,e).catch(n=>e.error(n))})}function SS(t){return Y_(Ja(t))}function AS(t,e){var n,r,i,s;return G_(this,void 0,void 0,function*(){try{for(n=Q_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ke(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Nn(t,e=0){return H((n,r)=>{n.subscribe(q(r,i=>Ke(r,t,()=>r.next(i),e),()=>Ke(r,t,()=>r.complete(),e),i=>Ke(r,t,()=>r.error(i),e)))})}function Pn(t,e=0){return H((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function J_(t,e){return Ee(t).pipe(Pn(e),Nn(e))}function Z_(t,e){return Ee(t).pipe(Pn(e),Nn(e))}function X_(t,e){return new j(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function ev(t,e){return new j(n=>{let r;return Ke(n,e,()=>{r=t[Qa](),Ke(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>A(r?.return)&&r.return()})}function Xa(t,e){if(!t)throw new Error("Iterable cannot be null");return new j(n=>{Ke(n,e,()=>{let r=t[Symbol.asyncIterator]();Ke(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function tv(t,e){return Xa(Ja(t),e)}function nv(t,e){if(t!=null){if(Wa(t))return J_(t,e);if(qa(t))return X_(t,e);if(za(t))return Z_(t,e);if(Ga(t))return Xa(t,e);if(Ya(t))return ev(t,e);if(Za(t))return tv(t,e)}throw Ka(t)}function ge(t,e){return e?nv(t,e):Ee(t)}function R(...t){let e=xn(t);return ge(t,e)}function _i(t,e){let n=A(t)?t:()=>t,r=i=>i.error(n());return new j(e?i=>e.schedule(r,0,i):r)}function Sd(t){return!!t&&(t instanceof j||A(t.lift)&&A(t.subscribe))}var ln=ci(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function z(t,e){return H((n,r)=>{let i=0;n.subscribe(q(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:RS}=Array;function xS(t,e){return RS(e)?t(...e):t(e)}function rv(t){return z(e=>xS(t,e))}var{isArray:NS}=Array,{getPrototypeOf:PS,prototype:MS,keys:OS}=Object;function iv(t){if(t.length===1){let e=t[0];if(NS(e))return{args:e,keys:null};if(kS(e)){let n=OS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function kS(t){return t&&typeof t=="object"&&PS(t)===MS}function sv(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Os(...t){let e=xn(t),n=z_(t),{args:r,keys:i}=iv(t);if(r.length===0)return ge([],e);let s=new j(FS(r,e,i?o=>sv(i,o):it));return n?s.pipe(rv(n)):s}function FS(t,e,n=it){return r=>{ov(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)ov(e,()=>{let u=ge(t[c],e),l=!1;u.subscribe(q(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function ov(t,e,n){t?Ke(n,t,e):e()}function av(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=_=>u<r?g(_):c.push(_),g=_=>{s&&e.next(_),u++;let M=!1;Ee(n(_,l++)).subscribe(q(e,$=>{i?.($),s?f($):e.next($)},()=>{M=!0},void 0,()=>{if(M)try{for(u--;c.length&&u<r;){let $=c.shift();o?Ke(e,o,()=>g($)):g($)}h()}catch($){e.error($)}}))};return t.subscribe(q(e,f,()=>{d=!0,h()})),()=>{a?.()}}function me(t,e,n=1/0){return A(e)?me((r,i)=>z((s,o)=>e(r,s,i,o))(Ee(t(r,i))),n):(typeof e=="number"&&(n=e),H((r,i)=>av(r,i,t,n)))}function Ad(t=1/0){return me(it,t)}function cv(){return Ad(1)}function vi(...t){return cv()(ge(t,xn(t)))}function ec(t){return new j(e=>{Ee(t()).subscribe(e)})}function Ct(t,e){return H((n,r)=>{let i=0;n.subscribe(q(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Mn(t){return H((e,n)=>{let r=null,i=!1,s;r=e.subscribe(q(n,void 0,void 0,o=>{s=Ee(t(o,Mn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function uv(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(q(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function wi(t,e){return A(e)?me(t,e,1):me(t,1)}function On(t){return H((e,n)=>{let r=!1;e.subscribe(q(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function dn(t){return t<=0?()=>qe:H((e,n)=>{let r=0;e.subscribe(q(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Rd(t){return z(()=>t)}function tc(t=LS){return H((e,n)=>{let r=!1;e.subscribe(q(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function LS(){return new ln}function ks(t){return H((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function kt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ct((i,s)=>t(i,s,r)):it,dn(1),n?On(e):tc(()=>new ln))}function Ii(t){return t<=0?()=>qe:H((e,n)=>{let r=[];e.subscribe(q(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function xd(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ct((i,s)=>t(i,s,r)):it,Ii(1),n?On(e):tc(()=>new ln))}function Nd(t,e){return H(uv(t,e,arguments.length>=2,!0))}function Pd(...t){let e=xn(t);return H((n,r)=>{(e?vi(t,n,e):vi(t,n)).subscribe(r)})}function dt(t,e){return H((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(q(r,c=>{i?.unsubscribe();let u=0,l=s++;Ee(t(c,l)).subscribe(i=q(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Md(t){return H((e,n)=>{Ee(t).subscribe(q(n,()=>n.complete(),Ps)),!n.closed&&e.subscribe(n)})}function ye(t,e,n){let r=A(t)||e||n?{next:t,error:e,complete:n}:t;return r?H((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(q(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):it}var Wv="https://g.co/ng/security#xss",E=class extends Error{constructor(e,n){super(Rh(e,n)),this.code=e}};function Rh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ks(t){return{toString:t}.toString()}var nc="__parameters__";function VS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Gv(t,e,n){return Ks(()=>{let r=VS(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(nc)?c[nc]:Object.defineProperty(c,nc,{value:[]})[nc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var pr=globalThis;function re(t){for(let e in t)if(t[e]===re)return e;throw Error("Could not find renamed property on target object.")}function Ye(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ye).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function lv(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var US=re({__forward_ref__:re});function Kv(t){return t.__forward_ref__=Kv,t.toString=function(){return Ye(this())},t}function ht(t){return Qv(t)?t():t}function Qv(t){return typeof t=="function"&&t.hasOwnProperty(US)&&t.__forward_ref__===Kv}function I(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function fn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ac(t){return dv(t,Jv)||dv(t,Zv)}function Yv(t){return Ac(t)!==null}function dv(t,e){return t.hasOwnProperty(e)?t[e]:null}function jS(t){let e=t&&(t[Jv]||t[Zv]);return e||null}function hv(t){return t&&(t.hasOwnProperty(fv)||t.hasOwnProperty(BS))?t[fv]:null}var Jv=re({\u0275prov:re}),fv=re({\u0275inj:re}),Zv=re({ngInjectableDef:re}),BS=re({ngInjectorDef:re}),P=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=I({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Xv(t){return t&&!!t.\u0275providers}var $S=re({\u0275cmp:re}),HS=re({\u0275dir:re}),qS=re({\u0275pipe:re}),zS=re({\u0275mod:re}),uc=re({\u0275fac:re}),Fs=re({__NG_ELEMENT_ID__:re}),pv=re({__NG_ENV_ID__:re});function Si(t){return typeof t=="string"?t:t==null?"":String(t)}function WS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Si(t)}function GS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new E(-200,t)}function xh(t,e){throw new E(-201,!1)}var O=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(O||{}),qd;function ew(){return qd}function Qe(t){let e=qd;return qd=t,e}function tw(t,e,n){let r=Ac(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&O.Optional)return null;if(e!==void 0)return e;xh(t,"Injector")}var KS={},Ls=KS,zd="__NG_DI_FLAG__",lc="ngTempTokenPath",QS="ngTokenPath",YS=/\n/gm,JS="\u0275",gv="__source",Di;function ZS(){return Di}function kn(t){let e=Di;return Di=t,e}function XS(t,e=O.Default){if(Di===void 0)throw new E(-203,!1);return Di===null?tw(t,void 0,e):Di.get(t,e&O.Optional?null:void 0,e)}function k(t,e=O.Default){return(ew()||XS)(ht(t),e)}function v(t,e=O.Default){return k(t,Rc(e))}function Rc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Wd(t){let e=[];for(let n=0;n<t.length;n++){let r=ht(t[n]);if(Array.isArray(r)){if(r.length===0)throw new E(900,!1);let i,s=O.Default;for(let o=0;o<r.length;o++){let a=r[o],c=eA(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(k(i,s))}else e.push(k(r))}return e}function nw(t,e){return t[zd]=e,t.prototype[zd]=e,t}function eA(t){return t[zd]}function tA(t,e,n,r){let i=t[lc];throw e[gv]&&i.unshift(e[gv]),t.message=nA(`
`+t.message,i,n,r),t[QS]=i,t[lc]=null,t}function nA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==JS?t.slice(2):t;let i=Ye(e);if(Array.isArray(e))i=e.map(Ye).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ye(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(YS,`
  `)}`}var Le=nw(Gv("Optional"),8);var Nh=nw(Gv("SkipSelf"),4);function yr(t,e){let n=t.hasOwnProperty(uc);return n?t[uc]:null}function Ph(t,e){t.forEach(n=>Array.isArray(n)?Ph(n,e):e(n))}function rw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Vs={},Ft=[],Ai=new P(""),iw=new P("",-1),sw=new P(""),hc=class{get(e,n=Ls){if(n===Ls){let r=new Error(`NullInjectorError: No provider for ${Ye(e)}!`);throw r.name="NullInjectorError",r}return n}},ow=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ow||{}),Ut=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ut||{}),pt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(pt||{});function rA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Gd(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];iA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function aw(t){return t===3||t===4||t===6}function iA(t){return t.charCodeAt(0)===64}function Mh(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?mv(t,n,i,null,e[++r]):mv(t,n,i,null,null))}}return t}function mv(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var cw="ng-template";function sA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&rA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Oh(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Oh(t){return t.type===4&&t.value!==cw}function oA(t,e,n){let r=t.type===4&&!n?cw:t.value;return e===r}function aA(t,e,n){let r=4,i=t.attrs,s=i!==null?lA(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Tt(r)&&!Tt(c))return!1;if(o&&Tt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!oA(t,c,n)||c===""&&e.length===1){if(Tt(r))return!1;o=!0}}else if(r&8){if(i===null||!sA(t,i,c,n)){if(Tt(r))return!1;o=!0}}else{let u=e[++a],l=cA(c,i,Oh(t),n);if(l===-1){if(Tt(r))return!1;o=!0;continue}if(u!==""){let d;if(l>s?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(Tt(r))return!1;o=!0}}}}return Tt(r)||o}function Tt(t){return(t&1)===0}function cA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return dA(e,t)}function uA(t,e,n=!1){for(let r=0;r<e.length;r++)if(aA(t,e[r],n))return!0;return!1}function lA(t){for(let e=0;e<t.length;e++){let n=t[e];if(aw(n))return e}return t.length}function dA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function yv(t,e){return t?":not("+e.trim()+")":e}function hA(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Tt(o)&&(e+=yv(s,i),i=""),r=o,s=s||!Tt(r);n++}return i!==""&&(e+=yv(s,i)),e}function fA(t){return t.map(hA).join(",")}function pA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Tt(i))break;i=s}r++}return{attrs:e,classes:n}}function Ve(t){return Ks(()=>{let e=pw(t),n=ce(w({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ow.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ut.Emulated,styles:t.styles||Ft,_:null,schemas:t.schemas||null,tView:null,id:""});gw(n);let r=t.dependencies;return n.directiveDefs=vv(r,!1),n.pipeDefs=vv(r,!0),n.id=yA(n),n})}function gA(t){return Ln(t)||lw(t)}function mA(t){return t!==null}function pn(t){return Ks(()=>({type:t.type,bootstrap:t.bootstrap||Ft,declarations:t.declarations||Ft,imports:t.imports||Ft,exports:t.exports||Ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function _v(t,e){if(t==null)return Vs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=pt.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==pt.None?[r,a]:r,e[s]=o):n[s]=r}return n}function jn(t){return Ks(()=>{let e=pw(t);return gw(e),e})}function uw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ln(t){return t[$S]||null}function lw(t){return t[HS]||null}function dw(t){return t[qS]||null}function hw(t){let e=Ln(t)||lw(t)||dw(t);return e!==null?e.standalone:!1}function fw(t,e){let n=t[zS]||null;if(!n&&e===!0)throw new Error(`Type ${Ye(t)} does not have '\u0275mod' property.`);return n}function pw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Vs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ft,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_v(t.inputs,e),outputs:_v(t.outputs),debugInfo:null}}function gw(t){t.features?.forEach(e=>e(t))}function vv(t,e){if(!t)return null;let n=e?dw:gA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(mA)}function yA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function xc(t){return{\u0275providers:t}}function kh(...t){return{\u0275providers:mw(!0,t),\u0275fromNgModule:!0}}function mw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Ph(e,o=>{let a=o;Kd(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&yw(i,s),n}function yw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Fh(i,s=>{e(s,r)})}}function Kd(t,e,n,r){if(t=ht(t),!t)return!1;let i=null,s=hv(t),o=!s&&Ln(t);if(!s&&!o){let c=t.ngModule;if(s=hv(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Kd(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Ph(s.imports,l=>{Kd(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&yw(u,e)}if(!a){let u=yr(i)||(()=>new i);e({provide:i,useFactory:u,deps:Ft},i),e({provide:sw,useValue:i,multi:!0},i),e({provide:Ai,useValue:()=>k(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Fh(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Fh(t,e){for(let n of t)Xv(n)&&(n=n.\u0275providers),Array.isArray(n)?Fh(n,e):e(n)}var _A=re({provide:String,useValue:re});function _w(t){return t!==null&&typeof t=="object"&&_A in t}function vA(t){return!!(t&&t.useExisting)}function wA(t){return!!(t&&t.useFactory)}function Qd(t){return typeof t=="function"}var Nc=new P(""),ic={},IA={},Od;function Lh(){return Od===void 0&&(Od=new hc),Od}var gt=class{},Us=class extends gt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jd(e,o=>this.processProvider(o)),this.records.set(iw,Ei(void 0,this)),i.has("environment")&&this.records.set(gt,Ei(void 0,this));let s=this.records.get(Nc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(sw,Ft,O.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=G(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=kn(this),r=Qe(void 0),i;try{return e()}finally{kn(n),Qe(r)}}get(e,n=Ls,r=O.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(pv))return e[pv](this);r=Rc(r);let i,s=kn(this),o=Qe(void 0);try{if(!(r&O.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=SA(e)&&Ac(e);u&&this.injectableDefInScope(u)?c=Ei(Yd(e),ic):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&O.Self?Lh():this.parent;return n=r&O.Optional&&n===Ls?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[lc]=a[lc]||[]).unshift(Ye(e)),s)throw a;return tA(a,e,"R3InjectorError",this.source)}else throw a}finally{Qe(o),kn(s)}}resolveInjectorInitializers(){let e=G(null),n=kn(this),r=Qe(void 0),i;try{let s=this.get(Ai,Ft,O.Self);for(let o of s)o()}finally{kn(n),Qe(r),G(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ye(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(e){e=ht(e);let n=Qd(e)?e:ht(e&&e.provide),r=CA(e);if(!Qd(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ei(void 0,ic,!0),i.factory=()=>Wd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=G(null);try{return n.value===ic&&(n.value=IA,n.value=n.factory()),typeof n.value=="object"&&n.value&&bA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{G(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ht(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Yd(t){let e=Ac(t),n=e!==null?e.factory:yr(t);if(n!==null)return n;if(t instanceof P)throw new E(204,!1);if(t instanceof Function)return EA(t);throw new E(204,!1)}function EA(t){if(t.length>0)throw new E(204,!1);let n=jS(t);return n!==null?()=>n.factory(t):()=>new t}function CA(t){if(_w(t))return Ei(void 0,t.useValue);{let e=TA(t);return Ei(e,ic)}}function TA(t,e,n){let r;if(Qd(t)){let i=ht(t);return yr(i)||Yd(i)}else if(_w(t))r=()=>ht(t.useValue);else if(wA(t))r=()=>t.useFactory(...Wd(t.deps||[]));else if(vA(t))r=()=>k(ht(t.useExisting));else{let i=ht(t&&(t.useClass||t.provide));if(DA(t))r=()=>new i(...Wd(t.deps));else return yr(i)||Yd(i)}return r}function Ei(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function DA(t){return!!t.deps}function bA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function SA(t){return typeof t=="function"||typeof t=="object"&&t instanceof P}function Jd(t,e){for(let n of t)Array.isArray(n)?Jd(n,e):n&&Xv(n)?Jd(n.\u0275providers,e):e(n)}function Cr(t,e){t instanceof Us&&t.assertNotDestroyed();let n,r=kn(t),i=Qe(void 0);try{return e()}finally{kn(r),Qe(i)}}function AA(){return ew()!==void 0||ZS()!=null}function RA(t){return typeof t=="function"}var gn=0,B=1,T=2,Fe=3,bt=4,At=5,fc=6,js=7,jt=8,Ri=9,St=10,Ae=11,Bs=12,wv=13,Mi=14,Bt=15,Pc=16,Ci=17,xi=18,Mc=19,vw=20,Fn=21,kd=22,_r=23,$t=25,ww=1;var vr=7,pc=8,gc=9,ft=10,Vh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Vh||{});function gr(t){return Array.isArray(t)&&typeof t[ww]=="object"}function mn(t){return Array.isArray(t)&&t[ww]===!0}function Iw(t){return(t.flags&4)!==0}function Oc(t){return t.componentOffset>-1}function Uh(t){return(t.flags&1)===1}function Qs(t){return!!t.template}function xA(t){return(t[T]&512)!==0}var Zd=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Ew(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Ys(){return Cw}function Cw(t){return t.type.prototype.ngOnChanges&&(t.setInput=PA),NA}Ys.ngInherit=!0;function NA(){let t=Dw(this),e=t?.current;if(e){let n=t.previous;if(n===Vs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function PA(t,e,n,r,i){let s=this.declaredInputs[r],o=Dw(t)||MA(t,{previous:Vs,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Zd(u&&u.currentValue,n,c===Vs),Ew(t,e,i,n)}var Tw="__ngSimpleChanges__";function Dw(t){return t[Tw]||null}function MA(t,e){return t[Tw]=e}var Iv=null;var Lt=function(t,e,n){Iv?.(t,e,n)},bw="svg",OA="math",kA=!1;function FA(){return kA}function Ht(t){for(;Array.isArray(t);)t=t[gn];return t}function LA(t,e){return Ht(e[t])}function mt(t,e){return Ht(e[t.index])}function Sw(t,e){return t.data[e]}function VA(t,e){return t[e]}function Bn(t,e){let n=e[t];return gr(n)?n:n[gn]}function jh(t){return(t[T]&128)===128}function UA(t){return mn(t[Fe])}function mc(t,e){return e==null?null:t[e]}function Aw(t){t[Ci]=0}function jA(t){t[T]&1024||(t[T]|=1024,jh(t)&&$s(t))}function BA(t,e){for(;t>0;)e=e[Mi],t--;return e}function Bh(t){return!!(t[T]&9216||t[_r]?.dirty)}function Xd(t){t[St].changeDetectionScheduler?.notify(1),Bh(t)?$s(t):t[T]&64&&(FA()?(t[T]|=1024,$s(t)):t[St].changeDetectionScheduler?.notify())}function $s(t){t[St].changeDetectionScheduler?.notify();let e=Hs(t);for(;e!==null&&!(e[T]&8192||(e[T]|=8192,!jh(e)));)e=Hs(e)}function Rw(t,e){if((t[T]&256)===256)throw new E(911,!1);t[Fn]===null&&(t[Fn]=[]),t[Fn].push(e)}function $A(t,e){if(t[Fn]===null)return;let n=t[Fn].indexOf(e);n!==-1&&t[Fn].splice(n,1)}function Hs(t){let e=t[Fe];return mn(e)?e[Fe]:e}var V={lFrame:Lw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function HA(){return V.lFrame.elementDepthCount}function qA(){V.lFrame.elementDepthCount++}function zA(){V.lFrame.elementDepthCount--}function xw(){return V.bindingsEnabled}function WA(){return V.skipHydrationRootTNode!==null}function GA(t){return V.skipHydrationRootTNode===t}function KA(){V.skipHydrationRootTNode=null}function se(){return V.lFrame.lView}function qt(){return V.lFrame.tView}function yt(){let t=Nw();for(;t!==null&&t.type===64;)t=t.parent;return t}function Nw(){return V.lFrame.currentTNode}function QA(){let t=V.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Js(t,e){let n=V.lFrame;n.currentTNode=t,n.isParent=e}function Pw(){return V.lFrame.isParent}function YA(){V.lFrame.isParent=!1}function Mw(){let t=V.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function JA(){return V.lFrame.bindingIndex}function ZA(t){return V.lFrame.bindingIndex=t}function $h(){return V.lFrame.bindingIndex++}function XA(t){let e=V.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function eR(){return V.lFrame.inI18n}function tR(t,e){let n=V.lFrame;n.bindingIndex=n.bindingRootIndex=t,eh(e)}function nR(){return V.lFrame.currentDirectiveIndex}function eh(t){V.lFrame.currentDirectiveIndex=t}function Ow(t){V.lFrame.currentQueryIndex=t}function rR(t){let e=t[B];return e.type===2?e.declTNode:e.type===1?t[At]:null}function kw(t,e,n){if(n&O.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&O.Host);)if(i=rR(s),i===null||(s=s[Mi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=V.lFrame=Fw();return r.currentTNode=e,r.lView=t,!0}function Hh(t){let e=Fw(),n=t[B];V.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Fw(){let t=V.lFrame,e=t===null?null:t.child;return e===null?Lw(t):e}function Lw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Vw(){let t=V.lFrame;return V.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Uw=Vw;function qh(){let t=Vw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function iR(t){return(V.lFrame.contextLView=BA(t,V.lFrame.contextLView))[jt]}function kc(){return V.lFrame.selectedIndex}function wr(t){V.lFrame.selectedIndex=t}function zh(){let t=V.lFrame;return Sw(t.tView,t.selectedIndex)}function Oi(){V.lFrame.currentNamespace=bw}function Fc(){sR()}function sR(){V.lFrame.currentNamespace=null}function oR(){return V.lFrame.currentNamespace}var jw=!0;function Wh(){return jw}function Gh(t){jw=t}function aR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Cw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Kh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function sc(t,e,n){Bw(t,e,3,n)}function oc(t,e,n,r){(t[T]&3)===n&&Bw(t,e,n,r)}function Fd(t,e){let n=t[T];(n&3)===e&&(n&=16383,n+=1,t[T]=n)}function Bw(t,e,n,r){let i=r!==void 0?t[Ci]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Ci]+=65536),(a<s||s==-1)&&(cR(t,n,e,c),t[Ci]=(t[Ci]&4294901760)+c+2),c++}function Ev(t,e){Lt(4,t,e);let n=G(null);try{e.call(t)}finally{G(n),Lt(5,t,e)}}function cR(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[T]>>14<t[Ci]>>16&&(t[T]&3)===e&&(t[T]+=16384,Ev(a,s)):Ev(a,s)}var bi=-1,qs=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function uR(t){return t instanceof qs}function lR(t){return(t.flags&8)!==0}function dR(t){return(t.flags&16)!==0}function $w(t){return t!==bi}function yc(t){return t&32767}function hR(t){return t>>16}function _c(t,e){let n=hR(t),r=e;for(;n>0;)r=r[Mi],n--;return r}var th=!0;function vc(t){let e=th;return th=t,e}var fR=256,Hw=fR-1,qw=5,pR=0,Vt={};function gR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Fs)&&(r=n[Fs]),r==null&&(r=n[Fs]=pR++);let i=r&Hw,s=1<<i;e.data[t+(i>>qw)]|=s}function zw(t,e){let n=Ww(t,e);if(n!==-1)return n;let r=e[B];r.firstCreatePass&&(t.injectorIndex=e.length,Ld(r.data,t),Ld(e,null),Ld(r.blueprint,null));let i=Qh(t,e),s=t.injectorIndex;if($w(i)){let o=yc(i),a=_c(i,e),c=a[B].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Ld(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ww(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Qh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Jw(i),r===null)return bi;if(n++,i=i[Mi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return bi}function mR(t,e,n){gR(t,e,n)}function yR(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(aw(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Gw(t,e,n){if(n&O.Optional||t!==void 0)return t;xh(e,"NodeInjector")}function Kw(t,e,n,r){if(n&O.Optional&&r===void 0&&(r=null),!(n&(O.Self|O.Host))){let i=t[Ri],s=Qe(void 0);try{return i?i.get(e,r,n&O.Optional):tw(e,r,n&O.Optional)}finally{Qe(s)}}return Gw(r,e,n)}function Qw(t,e,n,r=O.Default,i){if(t!==null){if(e[T]&2048&&!(r&O.Self)){let o=ER(t,e,n,r,Vt);if(o!==Vt)return o}let s=Yw(t,e,n,r,Vt);if(s!==Vt)return s}return Kw(e,n,r,i)}function Yw(t,e,n,r,i){let s=wR(n);if(typeof s=="function"){if(!kw(e,t,r))return r&O.Host?Gw(i,n,r):Kw(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&O.Optional))xh(n);else return o}finally{Uw()}}else if(typeof s=="number"){let o=null,a=Ww(t,e),c=bi,u=r&O.Host?e[Bt][At]:null;for((a===-1||r&O.SkipSelf)&&(c=a===-1?Qh(t,e):e[a+8],c===bi||!Tv(r,!1)?a=-1:(o=e[B],a=yc(c),e=_c(c,e)));a!==-1;){let l=e[B];if(Cv(s,a,l.data)){let d=_R(a,e,n,o,r,u);if(d!==Vt)return d}c=e[a+8],c!==bi&&Tv(r,e[B].data[a+8]===u)&&Cv(s,a,e)?(o=l,a=yc(c),e=_c(c,e)):a=-1}}return i}function _R(t,e,n,r,i,s){let o=e[B],a=o.data[t+8],c=r==null?Oc(a)&&th:r!=o&&(a.type&3)!==0,u=i&O.Host&&s===a,l=vR(a,o,n,c,u);return l!==null?zs(e,o,l,a):Vt}function vR(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let g=o[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=o[c];if(f&&Qs(f)&&f.type===n)return c}return null}function zs(t,e,n,r){let i=t[n],s=e.data;if(uR(i)){let o=i;o.resolving&&GS(WS(s[n]));let a=vc(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?Qe(o.injectImpl):null,l=kw(t,r,O.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&aR(n,s[n],e)}finally{u!==null&&Qe(u),vc(a),o.resolving=!1,Uw()}}return i}function wR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Fs)?t[Fs]:void 0;return typeof e=="number"?e>=0?e&Hw:IR:e}function Cv(t,e,n){let r=1<<t;return!!(n[e+(t>>qw)]&r)}function Tv(t,e){return!(t&O.Self)&&!(t&O.Host&&e)}var mr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Qw(this._tNode,this._lView,e,Rc(r),n)}};function IR(){return new mr(yt(),se())}function Yh(t){return Ks(()=>{let e=t.prototype.constructor,n=e[uc]||nh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[uc]||nh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function nh(t){return Qv(t)?()=>{let e=nh(ht(t));return e&&e()}:yr(t)}function ER(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[T]&2048&&!(o[T]&512);){let a=Yw(s,o,n,r|O.Self,Vt);if(a!==Vt)return a;let c=s.parent;if(!c){let u=o[vw];if(u){let l=u.get(n,Vt,r);if(l!==Vt)return l}c=Jw(o),o=o[Mi]}s=c}return i}function Jw(t){let e=t[B],n=e.type;return n===2?e.declTNode:n===1?t[At]:null}function Jh(t){return yR(yt(),t)}function Dv(t,e=null,n=null,r){let i=Zw(t,e,n,r);return i.resolveInjectorInitializers(),i}function Zw(t,e=null,n=null,r,i=new Set){let s=[n||Ft,kh(t)];return r=r||(typeof t=="object"?void 0:Ye(t)),new Us(s,e||Lh(),r||null,i)}var Rt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Dv({name:""},i,r,"");{let s=r.name??"";return Dv({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Ls,e.NULL=new hc,e.\u0275prov=I({token:e,providedIn:"any",factory:()=>k(iw)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var CR="ngOriginalError";function Vd(t){return t[CR]}var hn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Vd(e);for(;n&&Vd(n);)n=Vd(n);return n||null}},Xw=new P("",{providedIn:"root",factory:()=>v(hn).handleError.bind(void 0)}),eI=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=TR,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),rh=class extends eI{constructor(e){super(),this._lView=e}onDestroy(e){return Rw(this._lView,e),()=>$A(this._lView,e)}};function TR(){return new rh(se())}function DR(){return Lc(yt(),se())}function Lc(t,e){return new Tr(mt(t,e))}var Tr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=DR;let t=e;return t})();var ih=class extends ke{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,AA()&&(this.destroyRef=v(eI,{optional:!0})??void 0)}emit(e){let n=G(null);try{super.next(e)}finally{G(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Ud(s),i&&(i=Ud(i)),o&&(o=Ud(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof fe&&e.add(a),a}};function Ud(t){return e=>{setTimeout(t,void 0,e)}}var Dt=ih;function tI(t){return(t.flags&128)===128}var nI=new Map,bR=0;function SR(){return bR++}function AR(t){nI.set(t[Mc],t)}function RR(t){nI.delete(t[Mc])}var bv="__ngContext__";function Ir(t,e){gr(e)?(t[bv]=e[Mc],AR(e)):t[bv]=e}function rI(t){return sI(t[Bs])}function iI(t){return sI(t[bt])}function sI(t){for(;t!==null&&!mn(t);)t=t[bt];return t}var sh;function oI(t){sh=t}function xR(){if(sh!==void 0)return sh;if(typeof document<"u")return document;throw new E(210,!1)}var Zh=new P("",{providedIn:"root",factory:()=>NR}),NR="ng",Xh=new P(""),$n=new P("",{providedIn:"platform",factory:()=>"unknown"});var ef=new P("",{providedIn:"root",factory:()=>xR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var PR="h",MR="b";var OR=()=>null;function tf(t,e,n=!1){return OR(t,e,n)}var aI=!1,kR=new P("",{providedIn:"root",factory:()=>aI});var rc;function FR(){if(rc===void 0&&(rc=null,pr.trustedTypes))try{rc=pr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return rc}function Sv(t){return FR()?.createScriptURL(t)||t}var wc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Wv})`}};function Vc(t){return t instanceof wc?t.changingThisBreaksApplicationSecurity:t}function nf(t,e){let n=LR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Wv})`)}return n===e}function LR(t){return t instanceof wc&&t.getTypeName()||null}var VR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function cI(t){return t=String(t),t.match(VR)?t:"unsafe:"+t}var Uc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Uc||{});function Dr(t){let e=lI();return e?e.sanitize(Uc.URL,t)||"":nf(t,"URL")?Vc(t):cI(Si(t))}function UR(t){let e=lI();if(e)return Sv(e.sanitize(Uc.RESOURCE_URL,t)||"");if(nf(t,"ResourceURL"))return Sv(Vc(t));throw new E(904,!1)}function jR(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?UR:Dr}function uI(t,e,n){return jR(e,n)(t)}function lI(){let t=se();return t&&t[St].sanitizer}function dI(t){return t.ownerDocument.defaultView}function hI(t){return t instanceof Function?t():t}var Hn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Hn||{}),BR;function rf(t,e){return BR(t,e)}function Ti(t,e,n,r,i){if(r!=null){let s,o=!1;mn(r)?s=r:gr(r)&&(o=!0,r=r[gn]);let a=Ht(r);t===0&&n!==null?i==null?yI(e,n,a):Ic(e,n,a,i||null,!0):t===1&&n!==null?Ic(e,n,a,i||null,!0):t===2?ix(e,a,o):t===3&&e.destroyNode(a),s!=null&&ox(e,t,s,n,i)}}function $R(t,e){return t.createText(e)}function HR(t,e,n){t.setValue(e,n)}function fI(t,e,n){return t.createElement(e,n)}function qR(t,e){pI(t,e),e[gn]=null,e[At]=null}function zR(t,e,n,r,i,s){r[gn]=i,r[At]=e,jc(t,r,n,1,i,s)}function pI(t,e){e[St].changeDetectionScheduler?.notify(1),jc(t,e,e[Ae],2,null,null)}function WR(t){let e=t[Bs];if(!e)return jd(t[B],t);for(;e;){let n=null;if(gr(e))n=e[Bs];else{let r=e[ft];r&&(n=r)}if(!n){for(;e&&!e[bt]&&e!==t;)gr(e)&&jd(e[B],e),e=e[Fe];e===null&&(e=t),gr(e)&&jd(e[B],e),n=e&&e[bt]}e=n}}function GR(t,e,n,r){let i=ft+r,s=n.length;r>0&&(n[i-1][bt]=e),r<s-ft?(e[bt]=n[i],rw(n,ft+r,e)):(n.push(e),e[bt]=null),e[Fe]=n;let o=e[Pc];o!==null&&n!==o&&KR(o,e);let a=e[xi];a!==null&&a.insertView(t),Xd(e),e[T]|=128}function KR(t,e){let n=t[gc],i=e[Fe][Fe][Bt];e[Bt]!==i&&(t[T]|=Vh.HasTransplantedViews),n===null?t[gc]=[e]:n.push(e)}function gI(t,e){let n=t[gc],r=n.indexOf(e);n.splice(r,1)}function oh(t,e){if(t.length<=ft)return;let n=ft+e,r=t[n];if(r){let i=r[Pc];i!==null&&i!==t&&gI(i,r),e>0&&(t[n-1][bt]=r[bt]);let s=dc(t,ft+e);qR(r[B],r);let o=s[xi];o!==null&&o.detachView(s[B]),r[Fe]=null,r[bt]=null,r[T]&=-129}return r}function mI(t,e){if(!(e[T]&256)){let n=e[Ae];n.destroyNode&&jc(t,e,n,3,null,null),WR(e)}}function jd(t,e){if(e[T]&256)return;let n=G(null);try{e[T]&=-129,e[T]|=256,e[_r]&&S_(e[_r]),YR(t,e),QR(t,e),e[B].type===1&&e[Ae].destroy();let r=e[Pc];if(r!==null&&mn(e[Fe])){r!==e[Fe]&&gI(r,e);let i=e[xi];i!==null&&i.detachView(t)}RR(e)}finally{G(n)}}function QR(t,e){let n=t.cleanup,r=e[js];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[js]=null);let i=e[Fn];if(i!==null){e[Fn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function YR(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof qs)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Lt(4,a,c);try{c.call(a)}finally{Lt(5,a,c)}}else{Lt(4,i,s);try{s.call(i)}finally{Lt(5,i,s)}}}}}function JR(t,e,n){return ZR(t,e.parent,n)}function ZR(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[gn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Ut.None||s===Ut.Emulated)return null}return mt(r,n)}}function Ic(t,e,n,r,i){t.insertBefore(e,n,r,i)}function yI(t,e,n){t.appendChild(e,n)}function Av(t,e,n,r,i){r!==null?Ic(t,e,n,r,i):yI(t,e,n)}function XR(t,e,n,r){t.removeChild(e,n,r)}function sf(t,e){return t.parentNode(e)}function ex(t,e){return t.nextSibling(e)}function tx(t,e,n){return rx(t,e,n)}function nx(t,e,n){return t.type&40?mt(t,n):null}var rx=nx,Rv;function of(t,e,n,r){let i=JR(t,r,e),s=e[Ae],o=r.parent||e[At],a=tx(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Av(s,i,n[c],a,!1);else Av(s,i,n,a,!1);Rv!==void 0&&Rv(s,r,e,n,i)}function ac(t,e){if(e!==null){let n=e.type;if(n&3)return mt(e,t);if(n&4)return ah(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ac(t,r);{let i=t[e.index];return mn(i)?ah(-1,i):Ht(i)}}else{if(n&32)return rf(e,t)()||Ht(t[e.index]);{let r=_I(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Hs(t[Bt]);return ac(i,r)}else return ac(t,e.next)}}}return null}function _I(t,e){if(e!==null){let r=t[Bt][At],i=e.projection;return r.projection[i]}return null}function ah(t,e){let n=ft+t+1;if(n<e.length){let r=e[n],i=r[B].firstChild;if(i!==null)return ac(r,i)}return e[vr]}function ix(t,e,n){let r=sf(t,e);r&&XR(t,r,e,n)}function af(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Ir(Ht(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)af(t,e,n.child,r,i,s,!1),Ti(e,t,i,a,s);else if(c&32){let u=rf(n,r),l;for(;l=u();)Ti(e,t,i,l,s);Ti(e,t,i,a,s)}else c&16?sx(t,e,r,n,i,s):Ti(e,t,i,a,s);n=o?n.projectionNext:n.next}}function jc(t,e,n,r,i,s){af(n,r,t.firstChild,e,i,s,!1)}function sx(t,e,n,r,i,s){let o=n[Bt],c=o[At].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Ti(e,t,i,l,s)}else{let u=c,l=o[Fe];tI(r)&&(u.flags|=128),af(t,e,u,l,i,s,!0)}}function ox(t,e,n,r,i){let s=n[vr],o=Ht(n);s!==o&&Ti(e,t,r,s,i);for(let a=ft;a<n.length;a++){let c=n[a];jc(c[B],c,t,e,r,s)}}function ax(t,e,n){t.setAttribute(e,"style",n)}function vI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function wI(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Gd(t,e,r),i!==null&&vI(t,e,i),s!==null&&ax(t,e,s)}var qn={};function Z(t=1){II(qt(),se(),kc()+t,!1)}function II(t,e,n,r){if(!r)if((e[T]&3)===3){let s=t.preOrderCheckHooks;s!==null&&sc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&oc(e,s,0,n)}wr(n)}function Q(t,e=O.Default){let n=se();if(n===null)return k(t,e);let r=yt();return Qw(r,n,ht(t),e)}function EI(t,e,n,r,i,s){let o=G(null);try{let a=null;i&pt.SignalBased&&(a=e[r][ai]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&pt.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):Ew(e,a,r,s)}finally{G(o)}}function cx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)wr(~i);else{let s=i,o=n[++r],a=n[++r];tR(o,s);let c=e[s];a(2,c)}}}finally{wr(-1)}}function Bc(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[gn]=i,d[T]=r|4|128|8|64,(u!==null||t&&t[T]&2048)&&(d[T]|=2048),Aw(d),d[Fe]=d[Mi]=t,d[jt]=n,d[St]=o||t&&t[St],d[Ae]=a||t&&t[Ae],d[Ri]=c||t&&t[Ri]||null,d[At]=s,d[Mc]=SR(),d[fc]=l,d[vw]=u,d[Bt]=e.type==2?t[Bt]:d,d}function $c(t,e,n,r,i){let s=t.data[e];if(s===null)s=ux(t,e,n,r,i),eR()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=QA();s.injectorIndex=o===null?-1:o.injectorIndex}return Js(s,!0),s}function ux(t,e,n,r,i){let s=Nw(),o=Pw(),a=o?s:s&&s.parent,c=t.data[e]=px(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function CI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function TI(t,e,n,r,i){let s=kc(),o=r&2;try{wr(-1),o&&e.length>$t&&II(t,e,$t,!1),Lt(o?2:0,i),n(r,i)}finally{wr(s),Lt(o?3:1,i)}}function DI(t,e,n){if(Iw(e)){let r=G(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{G(r)}}}function bI(t,e,n){xw()&&(wx(t,e,n,mt(n,e)),(n.flags&64)===64&&PI(t,e,n))}function SI(t,e,n=mt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function AI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=cf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function cf(t,e,n,r,i,s,o,a,c,u,l){let d=$t+r,h=d+i,f=lx(d,h),g=typeof u=="function"?u():u;return f[B]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function lx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:qn);return n}function dx(t,e,n,r){let s=r.get(kR,aI)||n===Ut.ShadowDom,o=t.selectRootElement(e,s);return hx(o),o}function hx(t){fx(t)}var fx=()=>null;function px(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return WA()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function xv(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=pt.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?Nv(r,n,u,a,c):Nv(r,n,u,a)}return r}function Nv(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function gx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=xv(0,d.inputs,l,c,f),u=xv(1,d.outputs,l,u,g);let _=c!==null&&o!==null&&!Oh(e)?Nx(c,l,o):null;a.push(_)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function mx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function RI(t,e,n,r,i,s,o,a){let c=mt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(uf(t,n,l,r,i),Oc(e)&&yx(n,e.index)):e.type&3?(r=mx(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function yx(t,e){let n=Bn(e,t);n[T]&16||(n[T]|=64)}function xI(t,e,n,r){if(xw()){let i=r===null?null:{"":-1},s=Ex(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&NI(t,e,n,o,i,a),i&&Cx(n,r,i)}n.mergedAttrs=Mh(n.mergedAttrs,n.attrs)}function NI(t,e,n,r,i,s){for(let u=0;u<r.length;u++)mR(zw(n,e),t,r[u].type);Dx(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=CI(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Mh(n.mergedAttrs,l.hostAttrs),bx(t,n,e,c,l),Tx(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}gx(t,n,s)}function _x(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;vx(o)!=a&&o.push(a),o.push(n,r,s)}}function vx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function wx(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Oc(n)&&Sx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||zw(n,e),Ir(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=zs(e,t,a,n);if(Ir(u,e),o!==null&&xx(e,a-i,u,c,n,o),Qs(c)){let l=Bn(n.index,e);l[jt]=zs(e,t,a,n)}}}function PI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=nR();try{wr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];eh(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Ix(c,u)}}finally{wr(-1),eh(o)}}function Ix(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Ex(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(uA(e,o.selectors,!1))if(r||(r=[]),Qs(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;ch(t,e,c)}else r.unshift(o),ch(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function ch(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Cx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new E(-301,!1);r.push(e[i],s)}}}function Tx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Qs(e)&&(n[""]=t)}}function Dx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function bx(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=yr(i.type,!0)),o=new qs(s,Qs(i),Q);t.blueprint[r]=o,n[r]=o,_x(t,e,r,CI(t,n,i.hostVars,qn),i)}function Sx(t,e,n){let r=mt(e,t),i=AI(n),s=t[St].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Hc(t,Bc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function Ax(t,e,n,r,i,s){let o=mt(t,e);Rx(e[Ae],o,s,t.value,n,r,i)}function Rx(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Si(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function xx(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];EI(r,n,c,u,l,d)}}function Nx(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function MI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function OI(t,e){let n=t.contentQueries;if(n!==null){let r=G(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Ow(s),a.contentQueries(2,e[o],o)}}}finally{G(r)}}}function Hc(t,e){return t[Bs]?t[wv][bt]=e:t[Bs]=e,t[wv]=e,e}function uh(t,e,n){Ow(0);let r=G(null);try{e(t,n)}finally{G(r)}}function Px(t){return t[js]||(t[js]=[])}function Mx(t){return t.cleanup||(t.cleanup=[])}function kI(t,e){let n=t[Ri],r=n?n.get(hn,null):null;r&&r.handleError(e)}function uf(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];EI(l,u,r,a,c,i)}}function FI(t,e,n){let r=LA(e,t);HR(t[Ae],r,n)}function Ox(t,e){let n=Bn(e,t),r=n[B];kx(r,n);let i=n[gn];i!==null&&n[fc]===null&&(n[fc]=tf(i,n[Ri])),lf(r,n,n[jt])}function kx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function lf(t,e,n){Hh(e);try{let r=t.viewQuery;r!==null&&uh(1,r,n);let i=t.template;i!==null&&TI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[xi]?.finishViewCreation(t),t.staticContentQueries&&OI(t,e),t.staticViewQueries&&uh(2,t.viewQuery,n);let s=t.components;s!==null&&Fx(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[T]&=-5,qh()}}function Fx(t,e){for(let n=0;n<e.length;n++)Ox(t,e[n])}function Lx(t,e,n,r){let i=G(null);try{let s=e.tView,a=t[T]&4096?4096:16,c=Bc(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[Pc]=u;let l=t[xi];return l!==null&&(c[xi]=l.createEmbeddedView(s)),lf(s,c,n),c}finally{G(i)}}function Pv(t,e){return!e||e.firstChild===null||tI(t)}function Vx(t,e,n,r=!0){let i=e[B];if(GR(i,e,t,n),r){let o=ah(n,t),a=e[Ae],c=sf(a,t[vr]);c!==null&&zR(i,t[At],a,e,c,o)}let s=e[fc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Ec(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Ht(s)),mn(s)&&Ux(s,r);let o=n.type;if(o&8)Ec(t,e,n.child,r);else if(o&32){let a=rf(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=_I(e,n);if(Array.isArray(a))r.push(...a);else{let c=Hs(e[Bt]);Ec(c[B],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Ux(t,e){for(let n=ft;n<t.length;n++){let r=t[n],i=r[B].firstChild;i!==null&&Ec(r[B],r,i,e)}t[vr]!==t[gn]&&e.push(t[vr])}var LI=[];function jx(t){return t[_r]??Bx(t)}function Bx(t){let e=LI.pop()??Object.create(Hx);return e.lView=t,e}function $x(t){t.lView[_r]!==t&&(t.lView=null,LI.push(t))}var Hx=ce(w({},dd),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{$s(t.lView)},consumerOnSignalRead(){this.lView[_r]=this}}),VI=100;function UI(t,e=!0,n=0){let r=t[St],i=r.rendererFactory,s=!1;s||i.begin?.();try{qx(t,n)}catch(o){throw e&&kI(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function qx(t,e){lh(t,e);let n=0;for(;Bh(t);){if(n===VI)throw new E(103,!1);n++,lh(t,1)}}function zx(t,e,n,r){let i=e[T];if((i&256)===256)return;let s=!1;!s&&e[St].inlineEffectRunner?.flush(),Hh(e);let o=null,a=null;!s&&Wx(t)&&(a=jx(e),o=D_(a));try{Aw(e),ZA(t.bindingStartIndex),n!==null&&TI(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&sc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&oc(e,d,0,null),Fd(e,0)}if(Gx(e),jI(e,0),t.contentQueries!==null&&OI(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&sc(e,d)}else{let d=t.contentHooks;d!==null&&oc(e,d,1),Fd(e,1)}cx(t,e);let u=t.components;u!==null&&$I(e,u,0);let l=t.viewQuery;if(l!==null&&uh(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&sc(e,d)}else{let d=t.viewHooks;d!==null&&oc(e,d,2),Fd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[kd]){for(let d of e[kd])d();e[kd]=null}s||(e[T]&=-73)}catch(c){throw $s(e),c}finally{a!==null&&(b_(a,o),$x(a)),qh()}}function Wx(t){return t.type!==2}function jI(t,e){for(let n=rI(t);n!==null;n=iI(n))for(let r=ft;r<n.length;r++){let i=n[r];BI(i,e)}}function Gx(t){for(let e=rI(t);e!==null;e=iI(e)){if(!(e[T]&Vh.HasTransplantedViews))continue;let n=e[gc];for(let r=0;r<n.length;r++){let i=n[r],s=i[Fe];jA(i)}}}function Kx(t,e,n){let r=Bn(e,t);BI(r,n)}function BI(t,e){jh(t)&&lh(t,e)}function lh(t,e){let r=t[B],i=t[T],s=t[_r],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&hd(s)),s&&(s.dirty=!1),t[T]&=-9217,o)zx(r,t,r.template,t[jt]);else if(i&8192){jI(t,1);let a=r.components;a!==null&&$I(t,a,1)}}function $I(t,e,n){for(let r=0;r<e.length;r++)Kx(t,e[r],n)}function df(t){for(t[St].changeDetectionScheduler?.notify();t;){t[T]|=64;let e=Hs(t);if(xA(t)&&!e)return t;t=e}return null}var Er=class{get rootNodes(){let e=this._lView,n=e[B];return Ec(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jt]}set context(e){this._lView[jt]=e}get destroyed(){return(this._lView[T]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Fe];if(mn(e)){let n=e[pc],r=n?n.indexOf(this):-1;r>-1&&(oh(e,r),dc(n,r))}this._attachedToViewContainer=!1}mI(this._lView[B],this._lView)}onDestroy(e){Rw(this._lView,e)}markForCheck(){df(this._cdRefInjectingView||this._lView)}detach(){this._lView[T]&=-129}reattach(){Xd(this._lView),this._lView[T]|=128}detectChanges(){this._lView[T]|=1024,UI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,pI(this._lView[B],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=e,Xd(this._lView)}},qc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Jx;let t=e;return t})(),Qx=qc,Yx=class extends Qx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Lx(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Er(i)}};function Jx(){return Zx(yt(),se())}function Zx(t,e){return t.type&4?new Yx(e,t,Lc(t,e)):null}var Xq=new RegExp(`^(\\d+)*(${MR}|${PR})*(.*)`);var Xx=()=>null;function Mv(t,e){return Xx(t,e)}var dh=class{},hh=class{},Cc=class{};function eN(t){let e=Error(`No component factory found for ${Ye(t)}.`);return e[tN]=t,e}var tN="ngComponent";var fh=class{resolveComponentFactory(e){throw eN(e)}},zc=(()=>{let e=class e{};e.NULL=new fh;let t=e;return t})(),Ws=class{},ki=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>nN();let t=e;return t})();function nN(){let t=se(),e=yt(),n=Bn(e.index,t);return(gr(n)?n:t)[Ae]}var rN=(()=>{let e=class e{};e.\u0275prov=I({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Bd={};var Ov=new Set;function hf(t){Ov.has(t)||(Ov.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function kv(...t){}function iN(){let t=typeof pr.requestAnimationFrame=="function",e=pr[t?"requestAnimationFrame":"setTimeout"],n=pr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var te=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dt(!1),this.onMicrotaskEmpty=new Dt(!1),this.onStable=new Dt(!1),this.onError=new Dt(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=iN().nativeRequestAnimationFrame,aN(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new E(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,sN,kv,kv);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},sN={};function ff(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function oN(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(pr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ph(t),t.isCheckStableRunning=!0,ff(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ph(t))}function aN(t){let e=()=>{oN(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(cN(a))return n.invokeTask(i,s,o,a);try{return Fv(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Lv(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return Fv(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Lv(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,ph(t),ff(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function ph(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Fv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Lv(t){t._nesting--,ff(t)}function cN(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var HI=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=I({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function gh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=lv(i,a);else if(s==2){let c=a,u=e[++o];r=lv(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Tc=class extends zc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ln(e);return new Ni(n,this.ngModule)}};function Vv(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function uN(t){let e=t.toLowerCase();return e==="svg"?bw:e==="math"?OA:null}var mh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Rc(r);let i=this.injector.get(e,Bd,r);return i!==Bd||n===Bd?i:this.parentInjector.get(e,n,r)}},Ni=class extends Cc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Vv(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Vv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=fA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=G(null);try{i=i||this.ngModule;let o=i instanceof gt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new mh(e,o):e,c=a.get(Ws,null);if(c===null)throw new E(407,!1);let u=a.get(rN,null),l=a.get(HI,null),d=a.get(dh,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",_=r?dx(f,r,this.componentDef.encapsulation,a):fI(f,g,uN(g)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let $=null;_!==null&&($=tf(_,a,!0));let Se=cf(0,null,null,1,0,null,null,null,null,null,null),le=Bc(null,Se,null,M,null,null,h,f,a,null,$);Hh(le);let Ge,cn;try{let He=this.componentDef,un,Rs=null;He.findHostDirectiveDefs?(un=[],Rs=new Map,He.findHostDirectiveDefs(He,un,Rs),un.push(He)):un=[He];let xs=lN(le,_),ld=dN(xs,_,He,un,le,h,f);cn=Sw(Se,$t),_&&pN(f,He,_,r),n!==void 0&&gN(cn,this.ngContentSelectors,n),Ge=fN(ld,He,un,Rs,le,[mN]),lf(Se,le,null)}finally{qh()}return new yh(this.componentType,Ge,Lc(cn,le),le,cn)}finally{G(s)}}},yh=class extends hh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Er(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;uf(s[B],s,i,e,n),this.previousInputValues.set(e,n);let o=Bn(this._tNode.index,s);df(o)}}get injector(){return new mr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function lN(t,e){let n=t[B],r=$t;return t[r]=e,$c(n,r,2,"#host",null)}function dN(t,e,n,r,i,s,o){let a=i[B];hN(r,t,e,o);let c=null;e!==null&&(c=tf(e,i[Ri]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Bc(i,AI(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&ch(a,t,r.length-1),Hc(i,d),i[t.index]=d}function hN(t,e,n,r){for(let i of t)e.mergedAttrs=Mh(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(gh(e,e.mergedAttrs,!0),n!==null&&wI(r,n,e))}function fN(t,e,n,r,i,s){let o=yt(),a=i[B],c=mt(o,i);NI(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=zs(i,a,d,o);Ir(h,i)}PI(a,i,o),c&&Ir(c,i);let u=zs(i,a,o.directiveStart+o.componentOffset,o);if(t[jt]=i[jt]=u,s!==null)for(let l of s)l(u,e);return DI(a,o,i),u}function pN(t,e,n,r){if(r)Gd(t,n,["ng-version","17.3.5"]);else{let{attrs:i,classes:s}=pA(e.selectors[0]);i&&Gd(t,n,i),s&&s.length>0&&vI(t,n,s.join(" "))}}function gN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function mN(){let t=yt();Kh(se()[B],t)}var Fi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=yN;let t=e;return t})();function yN(){let t=yt();return vN(t,se())}var _N=Fi,qI=class extends _N{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Lc(this._hostTNode,this._hostLView)}get injector(){return new mr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Qh(this._hostTNode,this._hostLView);if($w(e)){let n=_c(e,this._hostLView),r=yc(e),i=n[B].data[r+8];return new mr(i,n)}else return new mr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Uv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Mv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Pv(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!RA(e),a;if(o)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new Ni(Ln(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let _=(o?u:this.parentInjector).get(gt,null);_&&(s=_)}let l=Ln(c.componentType??{}),d=Mv(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,Pv(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(UA(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Fe],u=new qI(c,c[At],c[Fe]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Vx(o,i,s,r),e.attachToViewContainerRef(),rw($d(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Uv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=oh(this._lContainer,n);r&&(dc($d(this._lContainer),n),mI(r[B],r))}detach(e){let n=this._adjustIndex(e,-1),r=oh(this._lContainer,n);return r&&dc($d(this._lContainer),n)!=null?new Er(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Uv(t){return t[pc]}function $d(t){return t[pc]||(t[pc]=[])}function vN(t,e){let n,r=e[t.index];return mn(r)?n=r:(n=MI(r,e,null,t),e[t.index]=n,Hc(e,n)),IN(n,e,t,r),new qI(n,t,e)}function wN(t,e){let n=t[Ae],r=n.createComment(""),i=mt(e,t),s=sf(n,i);return Ic(n,s,r,ex(n,i),!1),r}var IN=TN,EN=()=>!1;function CN(t,e,n){return EN(t,e,n)}function TN(t,e,n,r){if(t[vr])return;let i;n.type&8?i=Ht(r):i=wN(e,n),t[vr]=i}function Wc(t,e){hf("NgSignals");let n=M_(t),r=n[ai];return e?.equal&&(r.equal=e.equal),n.set=i=>fd(r,i),n.update=i=>O_(r,i),n.asReadonly=DN.bind(n),n}function DN(){let t=this[ai];if(t.readonlyFn===void 0){let e=()=>this();e[ai]=t,t.readonlyFn=e}return t.readonlyFn}function pf(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Vn=class{},Gs=class{};var _h=class extends Vn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Tc(this);let i=fw(e);this._bootstrapComponents=hI(i.bootstrap),this._r3Injector=Zw(e,n,[{provide:Vn,useValue:this},{provide:zc,useValue:this.componentFactoryResolver},...r],Ye(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},vh=class extends Gs{constructor(e){super(),this.moduleType=e}create(e){return new _h(this.moduleType,e,[])}};var Dc=class extends Vn{constructor(e){super(),this.componentFactoryResolver=new Tc(this),this.instance=null;let n=new Us([...e.providers,{provide:Vn,useValue:this},{provide:zc,useValue:this.componentFactoryResolver}],e.parent||Lh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function gf(t,e,n=null){return new Dc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Gc=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zI(t){return mf(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function bN(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function mf(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function SN(t,e,n){return t[e]=n}function Pi(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function AN(t,e,n,r){let i=Pi(t,e,n);return Pi(t,e+1,r)||i}function RN(t){return(t.flags&32)===32}function xN(t,e,n,r,i,s,o,a,c){let u=e.consts,l=$c(e,t,4,o||null,mc(u,a));xI(e,n,l,mc(u,c)),Kh(e,l);let d=l.tView=cf(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function zt(t,e,n,r,i,s,o,a){let c=se(),u=qt(),l=t+$t,d=u.firstCreatePass?xN(l,u,c,e,n,r,i,s,o):u.data[l];Js(d,!1);let h=NN(u,c,d,t);Wh()&&of(u,c,h,d),Ir(h,c);let f=MI(h,c,h,d);return c[l]=f,Hc(c,f),CN(f,d,c),Uh(d)&&bI(u,c,d),o!=null&&SI(c,d,a),zt}var NN=PN;function PN(t,e,n,r){return Gh(!0),e[Ae].createComment("")}function yf(t,e,n,r){let i=se(),s=$h();if(Pi(i,s,e)){let o=qt(),a=zh();Ax(a,i,t,e,n,r)}return yf}function WI(t,e,n,r){return Pi(t,$h(),n)?e+Si(n)+r:qn}function MN(t,e,n,r,i,s){let o=JA(),a=AN(t,o,n,i);return XA(2),a?e+Si(n)+r+Si(i)+s:qn}function ze(t,e,n){let r=se(),i=$h();if(Pi(r,i,e)){let s=qt(),o=zh();RI(s,o,r,t,e,r[Ae],n,!1)}return ze}function jv(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";uf(t,n,s[o],o,r)}function ON(t,e,n,r,i,s){let o=e.consts,a=mc(o,i),c=$c(e,t,2,r,a);return xI(e,n,c,mc(o,s)),c.attrs!==null&&gh(c,c.attrs,!1),c.mergedAttrs!==null&&gh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function C(t,e,n,r){let i=se(),s=qt(),o=$t+t,a=i[Ae],c=s.firstCreatePass?ON(o,s,i,e,n,r):s.data[o],u=kN(s,i,c,a,e,t);i[o]=u;let l=Uh(c);return Js(c,!0),wI(a,u,c),!RN(c)&&Wh()&&of(s,i,u,c),HA()===0&&Ir(u,i),qA(),l&&(bI(s,i,c),DI(s,c,i)),r!==null&&SI(i,c),C}function S(){let t=yt();Pw()?YA():(t=t.parent,Js(t,!1));let e=t;GA(e)&&KA(),zA();let n=qt();return n.firstCreatePass&&(Kh(n,t),Iw(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&lR(e)&&jv(n,e,se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&dR(e)&&jv(n,e,se(),e.stylesWithoutHost,!1),S}function ae(t,e,n,r){return C(t,e,n,r),S(),ae}var kN=(t,e,n,r,i,s)=>(Gh(!0),fI(r,i,oR()));var bc="en-US";var FN=bc;function LN(t){typeof t=="string"&&(FN=t.toLowerCase().replace(/_/g,"-"))}function yn(t,e,n,r){let i=se(),s=qt(),o=yt();return UN(s,i,i[Ae],o,t,e,r),yn}function VN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[js],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function UN(t,e,n,r,i,s,o){let a=Uh(r),u=t.firstCreatePass&&Mx(t),l=e[jt],d=Px(e),h=!0;if(r.type&3||o){let _=mt(r,e),M=o?o(_):_,$=d.length,Se=o?Ge=>o(Ht(Ge[r.index])):r.index,le=null;if(!o&&a&&(le=VN(t,e,i,r.index)),le!==null){let Ge=le.__ngLastListenerFn__||le;Ge.__ngNextListenerFn__=s,le.__ngLastListenerFn__=s,h=!1}else{s=$v(r,e,l,s,!1);let Ge=n.listen(M,i,s);d.push(s,Ge),u&&u.push(i,Se,$,$+1)}}else s=$v(r,e,l,s,!1);let f=r.outputs,g;if(h&&f!==null&&(g=f[i])){let _=g.length;if(_)for(let M=0;M<_;M+=2){let $=g[M],Se=g[M+1],cn=e[$][Se].subscribe(s),He=d.length;d.push(s,cn),u&&u.push(i,r.index,He,-(He+1))}}}function Bv(t,e,n,r){let i=G(null);try{return Lt(6,e,n),n(r)!==!1}catch(s){return kI(t,s),!1}finally{Lt(7,e,n),G(i)}}function $v(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Bn(t.index,e):e;df(a);let c=Bv(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=Bv(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function GI(t=1){return iR(t)}function _f(t,e,n){return br(t,"",e,"",n),_f}function br(t,e,n,r,i){let s=se(),o=WI(s,e,n,r);if(o!==qn){let a=qt(),c=zh();RI(a,c,s,t,o,s[Ae],i,!1)}return br}function jN(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function ne(t,e=""){let n=se(),r=qt(),i=t+$t,s=r.firstCreatePass?$c(r,i,1,e,null):r.data[i],o=BN(r,n,s,e,t);n[i]=o,Wh()&&of(r,n,o,s),Js(s,!1)}var BN=(t,e,n,r,i)=>(Gh(!0),$R(e[Ae],r));function st(t){return Li("",t,""),st}function Li(t,e,n){let r=se(),i=WI(r,t,e,n);return i!==qn&&FI(r,kc(),i),Li}function vf(t,e,n,r,i){let s=se(),o=MN(s,t,e,n,r,i);return o!==qn&&FI(s,kc(),o),vf}var $N=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=mw(!1,r.type),s=i.length>0?gf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=I({token:e,providedIn:"environment",factory:()=>new e(k(gt))});let t=e;return t})();function Ue(t){hf("NgStandalone"),t.getStandaloneInjector=e=>e.get($N).getOrCreateStandaloneInjector(t)}function Vi(t,e,n,r){return KI(se(),Mw(),t,e,n,r)}function HN(t,e){let n=t[e];return n===qn?void 0:n}function KI(t,e,n,r,i,s){let o=e+n;return Pi(t,o,i)?SN(t,o+1,s?r.call(s,i):r(i)):HN(t,o+1)}function QI(t,e){let n=qt(),r,i=t+$t;n.firstCreatePass?(r=qN(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=yr(r.type,!0)),o,a=Qe(Q);try{let c=vc(!1),u=s();return vc(c),jN(n,se(),i,u),u}finally{Qe(a)}}function qN(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function YI(t,e,n){let r=t+$t,i=se(),s=VA(i,r);return zN(i,r)?KI(i,Mw(),e,s.transform,n,s):s.transform(n)}function zN(t,e){return t[B].data[e].pure}var Un=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},JI=new Un("17.3.5"),Kc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var ZI=new P("");function Ui(t){return!!t&&typeof t.then=="function"}function wf(t){return!!t&&typeof t.subscribe=="function"}var XI=new P(""),eE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=v(XI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Ui(o))r.push(o);else if(wf(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),If=new P("");function WN(){P_(()=>{throw new E(600,!1)})}function GN(t){return t.isBoundToModule}function KN(t,e,n){try{let r=n();return Ui(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Zs=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=v(Xw),this.afterRenderEffectManager=v(HI),this.externalTestViews=new Set,this.beforeRender=new ke,this.afterTick=new ke,this.componentTypes=[],this.components=[],this.isStable=v(Gc).hasPendingTasks.pipe(z(r=>!r)),this._injector=v(gt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Cc;if(!this._injector.get(eE).done){let f=!s&&hw(r),g=!1;throw new E(405,g)}let a;s?a=r:a=this._injector.get(zc).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=GN(a)?void 0:this._injector.get(Vn),u=i||a.selector,l=a.create(Rt.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(ZI,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Hd(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new E(101,!1);let i=G(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,G(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===VI)throw new E(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)QN(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>wh(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>wh(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Hd(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(If,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Hd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new E(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Hd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function QN(t,e,n){!e&&!wh(t)||YN(t,n,e)}function wh(t){return Bh(t)}function YN(t,e,n){let r;n?(r=0,t[T]|=1024):t[T]&64?r=0:r=1,UI(t,e,r)}var Ih=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ef=(()=>{let e=class e{compileModuleSync(r){return new vh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=fw(r),o=hI(s.declarations).reduce((a,c)=>{let u=Ln(c);return u&&a.push(new Ni(u)),a},[]);return new Ih(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var JN=(()=>{let e=class e{constructor(){this.zone=v(te),this.applicationRef=v(Zs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ZN(t){return[{provide:te,useFactory:t},{provide:Ai,multi:!0,useFactory:()=>{let e=v(JN,{optional:!0});return()=>e.initialize()}},{provide:Ai,multi:!0,useFactory:()=>{let e=v(nP);return()=>{e.initialize()}}},{provide:Xw,useFactory:XN}]}function XN(){let t=v(te),e=v(hn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function eP(t){let e=ZN(()=>new te(tP(t)));return xc([[],e])}function tP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var nP=(()=>{let e=class e{constructor(){this.subscription=new fe,this.initialized=!1,this.zone=v(te),this.pendingTasks=v(Gc)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{te.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{te.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rP(){return typeof $localize<"u"&&$localize.locale||bc}var Cf=new P("",{providedIn:"root",factory:()=>v(Cf,O.Optional|O.SkipSelf)||rP()});var tE=new P("");var cc=null;function iP(t=[],e){return Rt.create({name:e,providers:[{provide:Nc,useValue:"platform"},{provide:tE,useValue:new Set([()=>cc=null])},...t]})}function sP(t=[]){if(cc)return cc;let e=iP(t);return cc=e,WN(),oP(e),e}function oP(t){t.get(Xh,null)?.forEach(n=>n())}var ji=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=aP;let t=e;return t})();function aP(t){return cP(yt(),se(),(t&16)===16)}function cP(t,e,n){if(Oc(t)&&!n){let r=Bn(t.index,e);return new Er(r,r)}else if(t.type&47){let r=e[Bt];return new Er(r,e)}return null}var Eh=class{constructor(){}supports(e){return zI(e)}create(e){return new Ch(e)}},uP=(t,e)=>e,Ch=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||uP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<Hv(r,i,s)?n:r,a=Hv(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let f=h<s.length?s[h]:s[h]=0,g=f+h;l<=g&&g<u&&(s[h]=f+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!zI(e))throw new E(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,bN(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Th(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Sc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Sc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Th=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Dh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Sc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Dh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Hv(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var bh=class{constructor(){}supports(e){return e instanceof Map||mf(e)}create(){return new Sh}},Sh=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||mf(e)))throw new E(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new Ah(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Ah=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function qv(){return new Tf([new Eh])}var Tf=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||qv()),deps:[[e,new Nh,new Le]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new E(901,!1)}};e.\u0275prov=I({token:e,providedIn:"root",factory:qv});let t=e;return t})();function zv(){return new Df([new bh])}var Df=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||zv()),deps:[[e,new Nh,new Le]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new E(901,!1)}};e.\u0275prov=I({token:e,providedIn:"root",factory:zv});let t=e;return t})();function nE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=sP(r),s=[eP(),...n||[]],a=new Dc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(te);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(hn,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get(tE);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),KN(u,c,()=>{let f=a.get(eE);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(Cf,bc);LN(g||bc);let _=a.get(Zs);return e!==void 0&&_.bootstrap(e),_})})})}catch(e){return Promise.reject(e)}}function Xs(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function bf(t){let e=G(null);try{return t()}finally{G(e)}}function rE(t){let e=Ln(t);if(!e)return null;let n=new Ni(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var uE=null;function Bi(){return uE}function lE(t){uE??=t}var Qc=class{};var _t=new P(""),dE=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>v(lP),providedIn:"platform"});let t=e;return t})();var lP=(()=>{let e=class e extends dE{constructor(){super(),this._doc=v(_t),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Bi().getBaseHref(this._doc)}onPopState(r){let i=Bi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Bi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function hE(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function iE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Sr(t){return t&&t[0]!=="?"?"?"+t:t}var $i=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>v(fE),providedIn:"root"});let t=e;return t})(),dP=new P(""),fE=(()=>{let e=class e extends $i{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??v(_t).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return hE(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Sr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Sr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Sr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(k(dE),k(dP,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ar=(()=>{let e=class e{constructor(r){this._subject=new Dt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=pP(iE(sE(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Sr(i))}normalize(r){return e.stripTrailingSlash(fP(this._basePath,sE(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Sr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Sr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Sr,e.joinWithSlash=hE,e.stripTrailingSlash=iE,e.\u0275fac=function(i){return new(i||e)(k($i))},e.\u0275prov=I({token:e,factory:()=>hP(),providedIn:"root"});let t=e;return t})();function hP(){return new Ar(k($i))}function fP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function sE(t){return t.replace(/\/index.html$/,"")}function pP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function pE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Sf=/\s+/,oE=[],Jc=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=oE,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Sf):oE}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Sf):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Sf).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(Q(Tr),Q(ki))},e.\u0275dir=jn({type:e,selectors:[["","ngClass",""]],inputs:{klass:[pt.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Af=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Zc=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Af(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),aE(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);aE(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Q(Fi),Q(qc),Q(Tf))},e.\u0275dir=jn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function aE(t,e){t.context.$implicit=e.item}var Xc=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Rf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){cE("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){cE("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Q(Fi),Q(qc))},e.\u0275dir=jn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Rf=class{constructor(){this.$implicit=null,this.ngIf=null}};function cE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ye(e)}'.`)}var gE=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,o]=r.split("."),a=s.indexOf("-")===-1?void 0:Hn.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(Q(Tr),Q(Df),Q(ki))},e.\u0275dir=jn({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})();function gP(t,e){return new E(2100,!1)}var xf=class{createSubscription(e,n){return bf(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){bf(()=>e.unsubscribe())}},Nf=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},mP=new Nf,yP=new xf,mE=(()=>{let e=class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Ui(r))return mP;if(wf(r))return yP;throw gP(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(Q(ji,16))},e.\u0275pipe=uw({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var yE="browser",_P="server";function Pf(t){return t===_P}var Yc=class{};var kf=class extends Qc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ff=class t extends kf{static makeCurrent(){lE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=vP();return n==null?null:wP(n)}resetBaseElement(){eo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return pE(document.cookie,e)}},eo=null;function vP(){return eo=eo||document.querySelector("base"),eo?eo.getAttribute("href"):null}function wP(t){return new URL(t,document.baseURI).pathname}var IP=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Lf=new P(""),EE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new E(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(k(Lf),k(te))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),eu=class{constructor(e){this._doc=e}},Mf="ng-app-id",CE=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Pf(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Mf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Mf),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Mf,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(k(_t),k(Zh),k(ef,8),k($n))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Of={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Uf=/%COMP%/g,TE="%COMP%",EP=`_nghost-${TE}`,CP=`_ngcontent-${TE}`,TP=!0,DP=new P("",{providedIn:"root",factory:()=>TP});function bP(t){return CP.replace(Uf,t)}function SP(t){return EP.replace(Uf,t)}function DE(t,e){return e.map(n=>n.replace(Uf,t))}var vE=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Pf(c),this.defaultRenderer=new to(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ut.ShadowDom&&(i=ce(w({},i),{encapsulation:Ut.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof tu?s.applyToHost(r):s instanceof no&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Ut.Emulated:o=new tu(u,l,i,this.appId,d,a,c,h);break;case Ut.ShadowDom:return new Vf(u,l,r,i,a,c,this.nonce,h);default:o=new no(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(k(EE),k(CE),k(Zh),k(DP),k(_t),k($n),k(te),k(ef))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),to=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Of[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(wE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(wE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new E(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Of[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Of[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Hn.DashCase|Hn.Important)?e.style.setProperty(n,r,i&Hn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Hn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Bi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function wE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Vf=class extends to{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=DE(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},no=class extends to{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?DE(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},tu=class extends no{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=bP(u),this.hostAttr=SP(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},AP=(()=>{let e=class e extends eu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(k(_t))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),IE=["alt","control","meta","shift"],RP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},NP=(()=>{let e=class e extends eu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bi().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),IE.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=RP[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),IE.forEach(a=>{if(a!==s){let c=xP[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(k(_t))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function bE(t,e){return nE(w({rootComponent:t},PP(e)))}function PP(t){return{appProviders:[...LP,...t?.providers??[]],platformProviders:FP}}function MP(){Ff.makeCurrent()}function OP(){return new hn}function kP(){return oI(document),document}var FP=[{provide:$n,useValue:yE},{provide:Xh,useValue:MP,multi:!0},{provide:_t,useFactory:kP,deps:[]}];var LP=[{provide:Nc,useValue:"root"},{provide:hn,useFactory:OP,deps:[]},{provide:Lf,useClass:AP,multi:!0,deps:[_t,te,$n]},{provide:Lf,useClass:NP,multi:!0,deps:[_t]},vE,CE,EE,{provide:Ws,useExisting:vE},{provide:Yc,useClass:IP,deps:[]},[]];var SE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(k(_t))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var x="primary",_o=Symbol("RouteTitle"),qf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Gi(t){return new qf(t)}function UP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function jP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Wt(t[n],e[n]))return!1;return!0}function Wt(t,e){let n=t?zf(t):void 0,r=e?zf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!OE(t[i],e[i]))return!1;return!0}function zf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function OE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function kE(t){return t.length>0?t[t.length-1]:null}function Kn(t){return Sd(t)?t:Ui(t)?ge(Promise.resolve(t)):R(t)}var BP={exact:LE,subset:VE},FE={exact:$P,subset:HP,ignored:()=>!0};function AE(t,e,n){return BP[n.paths](t.root,e.root,n.matrixParams)&&FE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function $P(t,e){return Wt(t,e)}function LE(t,e,n){if(!xr(t.segments,e.segments)||!iu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!LE(t.children[r],e.children[r],n))return!1;return!0}function HP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>OE(t[n],e[n]))}function VE(t,e,n){return UE(t,e,e.segments,n)}function UE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!xr(i,n)||e.hasChildren()||!iu(i,n,r))}else if(t.segments.length===n.length){if(!xr(t.segments,n)||!iu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!VE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!xr(t.segments,i)||!iu(t.segments,i,r)||!t.children[x]?!1:UE(t.children[x],e,s,r)}}function iu(t,e,n){return e.every((r,i)=>FE[n](t[i].parameters,r.parameters))}var zn=class{constructor(e=new J([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Gi(this.queryParams),this._queryParamMap}toString(){return WP.serialize(this)}},J=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return su(this)}},Rr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Gi(this.parameters),this._parameterMap}toString(){return BE(this)}};function qP(t,e){return xr(t,e)&&t.every((n,r)=>Wt(n.parameters,e[r].parameters))}function xr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function zP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===x&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==x&&(n=n.concat(e(i,r)))}),n}var yp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>new au,providedIn:"root"});let t=e;return t})(),au=class{parse(e){let n=new Gf(e);return new zn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ro(e.root,!0)}`,r=QP(e.queryParams),i=typeof e.fragment=="string"?`#${GP(e.fragment)}`:"";return`${n}${r}${i}`}},WP=new au;function su(t){return t.segments.map(e=>BE(e)).join("/")}function ro(t,e){if(!t.hasChildren())return su(t);if(e){let n=t.children[x]?ro(t.children[x],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==x&&r.push(`${i}:${ro(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=zP(t,(r,i)=>i===x?[ro(t.children[x],!1)]:[`${i}:${ro(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[x]!=null?`${su(t)}/${n[0]}`:`${su(t)}/(${n.join("//")})`}}function jE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nu(t){return jE(t).replace(/%3B/gi,";")}function GP(t){return encodeURI(t)}function Wf(t){return jE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ou(t){return decodeURIComponent(t)}function RE(t){return ou(t.replace(/\+/g,"%20"))}function BE(t){return`${Wf(t.path)}${KP(t.parameters)}`}function KP(t){return Object.entries(t).map(([e,n])=>`;${Wf(e)}=${Wf(n)}`).join("")}function QP(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${nu(n)}=${nu(i)}`).join("&"):`${nu(n)}=${nu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var YP=/^[^\/()?;#]+/;function jf(t){let e=t.match(YP);return e?e[0]:""}var JP=/^[^\/()?;=#]+/;function ZP(t){let e=t.match(JP);return e?e[0]:""}var XP=/^[^=?&#]+/;function eM(t){let e=t.match(XP);return e?e[0]:""}var tM=/^[^&#]+/;function nM(t){let e=t.match(tM);return e?e[0]:""}var Gf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new J([],{}):new J([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[x]=new J(e,n)),r}parseSegment(){let e=jf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(e),new Rr(ou(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=ZP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=jf(this.remaining);i&&(r=i,this.capture(r))}e[ou(n)]=ou(r)}parseQueryParam(e){let n=eM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=nM(this.remaining);o&&(r=o,this.capture(r))}let i=RE(n),s=RE(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=jf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new E(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=x);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[x]:new J([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new E(4011,!1)}};function $E(t){return t.segments.length>0?new J([],{[x]:t}):t}function HE(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=HE(i);if(r===x&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new J(t.segments,e);return rM(n)}function rM(t){if(t.numberOfChildren===1&&t.children[x]){let e=t.children[x];return new J(t.segments.concat(e.segments),e.children)}return t}function Ki(t){return t instanceof zn}function iM(t,e,n=null,r=null){let i=qE(t);return zE(i,e,n,r)}function qE(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new J(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=$E(r);return e??i}function zE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Bf(i,i,i,n,r);let s=sM(e);if(s.toRoot())return Bf(i,i,new J([],{}),n,r);let o=oM(s,i,t),a=o.processChildren?oo(o.segmentGroup,o.index,s.commands):GE(o.segmentGroup,o.index,s.commands);return Bf(i,o.segmentGroup,a,n,r)}function cu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function uo(t){return typeof t=="object"&&t!=null&&t.outlets}function Bf(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=WE(t,e,n);let a=$E(HE(o));return new zn(a,s,i)}function WE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=WE(s,e,n)}),new J(t.segments,r)}var uu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&cu(r[0]))throw new E(4003,!1);let i=r.find(uo);if(i&&i!==kE(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function sM(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new uu(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new uu(n,e,r)}var zi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function oM(t,e,n){if(t.isAbsolute)return new zi(e,!0,0);if(!n)return new zi(e,!1,NaN);if(n.parent===null)return new zi(n,!0,0);let r=cu(t.commands[0])?0:1,i=n.segments.length-1+r;return aM(n,i,t.numberOfDoubleDots)}function aM(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new E(4005,!1);i=r.segments.length}return new zi(r,!1,i-s)}function cM(t){return uo(t[0])?t[0].outlets:{[x]:t}}function GE(t,e,n){if(t??=new J([],{}),t.segments.length===0&&t.hasChildren())return oo(t,e,n);let r=uM(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new J(t.segments.slice(0,r.pathIndex),{});return s.children[x]=new J(t.segments.slice(r.pathIndex),t.children),oo(s,0,i)}else return r.match&&i.length===0?new J(t.segments,{}):r.match&&!t.hasChildren()?Kf(t,e,n):r.match?oo(t,0,i):Kf(t,e,n)}function oo(t,e,n){if(n.length===0)return new J(t.segments,{});{let r=cM(n),i={};if(Object.keys(r).some(s=>s!==x)&&t.children[x]&&t.numberOfChildren===1&&t.children[x].segments.length===0){let s=oo(t.children[x],e,n);return new J(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=GE(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new J(t.segments,i)}}function uM(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(uo(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!NE(c,u,o))return s;r+=2}else{if(!NE(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Kf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(uo(s)){let c=lM(s.outlets);return new J(r,c)}if(i===0&&cu(n[0])){let c=t.segments[e];r.push(new Rr(c.path,xE(n[0]))),i++;continue}let o=uo(s)?s.outlets[x]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&cu(a)?(r.push(new Rr(o,xE(a))),i+=2):(r.push(new Rr(o,{})),i++)}return new J(r,{})}function lM(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Kf(new J([],{}),0,r))}),e}function xE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function NE(t,e,n){return t==n.path&&Wt(e,n.parameters)}var ao="imperative",xe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(xe||{}),vt=class{constructor(e,n){this.id=e,this.url=n}},lo=class extends vt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=xe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Wn=class extends vt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=xe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},at=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(at||{}),Qf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Qf||{}),Gn=class extends vt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=xe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Nr=class extends vt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=xe.NavigationSkipped}},ho=class extends vt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=xe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},lu=class extends vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yf=class extends vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jf=class extends vt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=xe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Zf=class extends vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xf=class extends vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ep=class{constructor(e){this.route=e,this.type=xe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},tp=class{constructor(e){this.route=e,this.type=xe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},np=class{constructor(e){this.snapshot=e,this.type=xe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rp=class{constructor(e){this.snapshot=e,this.type=xe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ip=class{constructor(e){this.snapshot=e,this.type=xe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sp=class{constructor(e){this.snapshot=e,this.type=xe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var fo=class{},po=class{constructor(e){this.url=e}};var op=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new mu,this.attachRef=null}},mu=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new op,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),du=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ap(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=ap(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=cp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return cp(e,this._root).map(n=>n.value)}};function ap(t,e){if(t===e.value)return e;for(let n of e.children){let r=ap(t,n);if(r)return r}return null}function cp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=cp(t,n);if(r.length)return r.unshift(e),r}return[]}var ot=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function qi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var hu=class extends du{constructor(e,n){super(e),this.snapshot=n,vp(this,e)}toString(){return this.snapshot.toString()}};function KE(t){let e=dM(t),n=new pe([new Rr("",{})]),r=new pe({}),i=new pe({}),s=new pe({}),o=new pe(""),a=new Pr(n,r,s,o,i,x,t,e.root);return a.snapshot=e.root,new hu(new ot(a,[]),e)}function dM(t){let e={},n={},r={},i="",s=new go([],e,r,i,n,x,t,null,{});return new fu("",new ot(s,[]))}var Pr=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(z(u=>u[_o]))??R(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(z(e=>Gi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(z(e=>Gi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _p(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:w(w({},e.params),t.params),data:w(w({},e.data),t.data),resolve:w(w(w(w({},t.data),e.data),i?.data),t._resolvedData)}:r={params:w({},t.params),data:w({},t.data),resolve:w(w({},t.data),t._resolvedData??{})},i&&YE(i)&&(r.resolve[_o]=i.title),r}var go=class{get title(){return this.data?.[_o]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Gi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Gi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},fu=class extends du{constructor(e,n){super(n),this.url=e,vp(this,n)}toString(){return QE(this._root)}};function vp(t,e){e.value._routerState=t,e.children.forEach(n=>vp(t,n))}function QE(t){let e=t.children.length>0?` { ${t.children.map(QE).join(", ")} } `:"";return`${t.value}${e}`}function $f(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Wt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Wt(e.params,n.params)||t.paramsSubject.next(n.params),jP(e.url,n.url)||t.urlSubject.next(n.url),Wt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function up(t,e){let n=Wt(t.params,e.params)&&qP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||up(t.parent,e.parent))}function YE(t){return typeof t.title=="string"||t.title===null}var wp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=x,this.activateEvents=new Dt,this.deactivateEvents=new Dt,this.attachEvents=new Dt,this.detachEvents=new Dt,this.parentContexts=v(mu),this.location=v(Fi),this.changeDetector=v(ji),this.environmentInjector=v(gt),this.inputBinder=v(yu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new lp(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=jn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ys]});let t=e;return t})(),lp=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===Pr?this.route:e===mu?this.childContexts:this.parent.get(e,n)}},yu=new P(""),PE=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=Os([i.queryParams,i.params,i.data]).pipe(dt(([o,a,c],u)=>(c=w(w(w({},o),a),c),u===0?R(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=rE(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function hM(t,e,n){let r=mo(t,e._root,n?n._root:void 0);return new hu(r,e)}function mo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=fM(t,e,n);return new ot(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>mo(t,a)),o}}let r=pM(e.value),i=e.children.map(s=>mo(t,s));return new ot(r,i)}}function fM(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return mo(t,r,i);return mo(t,r)})}function pM(t){return new Pr(new pe(t.url),new pe(t.params),new pe(t.queryParams),new pe(t.fragment),new pe(t.data),t.outlet,t.component,t)}var JE="ngNavigationCancelingError";function ZE(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ki(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=XE(!1,at.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function XE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[JE]=!0,n.cancellationCode=e,n}function gM(t){return eC(t)&&Ki(t.url)}function eC(t){return!!t&&t[JE]}var mM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ve({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ue],decls:1,vars:0,template:function(i,s){i&1&&ae(0,"router-outlet")},dependencies:[wp],encapsulation:2});let t=e;return t})();function yM(t,e){return t.providers&&!t._injector&&(t._injector=gf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ip(t){let e=t.children&&t.children.map(Ip),n=e?ce(w({},t),{children:e}):w({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==x&&(n.component=mM),n}function Gt(t){return t.outlet||x}function _M(t,e){let n=t.filter(r=>Gt(r)===e);return n.push(...t.filter(r=>Gt(r)!==e)),n}function vo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var vM=(t,e,n,r)=>z(i=>(new dp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),dp=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),$f(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=qi(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=qi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=qi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=qi(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new sp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new rp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if($f(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),$f(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=vo(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},pu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Wi=class{constructor(e,n){this.component=e,this.route=n}};function wM(t,e,n){let r=t._root,i=e?e._root:null;return io(r,i,n,[r.value])}function IM(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Yi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Yv(t)?t:e.get(t):r}function io(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=qi(e);return t.children.forEach(o=>{EM(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>co(a,n.getContext(o),i)),i}function EM(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=CM(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new pu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?io(t,e,a?a.children:null,r,i):io(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Wi(a.outlet.component,o))}else o&&co(e,a,i),i.canActivateChecks.push(new pu(r)),s.component?io(t,null,a?a.children:null,r,i):io(t,null,n,r,i);return i}function CM(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!xr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!xr(t.url,e.url)||!Wt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!up(t,e)||!Wt(t.queryParams,e.queryParams);case"paramsChange":default:return!up(t,e)}}function co(t,e,n){let r=qi(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?co(o,e.children.getContext(s),n):co(o,null,n):co(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Wi(e.outlet.component,i)):n.canDeactivateChecks.push(new Wi(null,i)):n.canDeactivateChecks.push(new Wi(null,i))}function wo(t){return typeof t=="function"}function TM(t){return typeof t=="boolean"}function DM(t){return t&&wo(t.canLoad)}function bM(t){return t&&wo(t.canActivate)}function SM(t){return t&&wo(t.canActivateChild)}function AM(t){return t&&wo(t.canDeactivate)}function RM(t){return t&&wo(t.canMatch)}function tC(t){return t instanceof ln||t?.name==="EmptyError"}var ru=Symbol("INITIAL_VALUE");function Qi(){return dt(t=>Os(t.map(e=>e.pipe(dn(1),Pd(ru)))).pipe(z(e=>{for(let n of e)if(n!==!0){if(n===ru)return ru;if(n===!1||n instanceof zn)return n}return!0}),Ct(e=>e!==ru),dn(1)))}function xM(t,e){return me(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?R(ce(w({},n),{guardsResult:!0})):NM(o,r,i,t).pipe(me(a=>a&&TM(a)?PM(r,s,t,e):R(a)),z(a=>ce(w({},n),{guardsResult:a})))})}function NM(t,e,n,r){return ge(t).pipe(me(i=>LM(i.component,i.route,n,e,r)),kt(i=>i!==!0,!0))}function PM(t,e,n,r){return ge(e).pipe(wi(i=>vi(OM(i.route.parent,r),MM(i.route,r),FM(t,i.path,n),kM(t,i.route,n))),kt(i=>i!==!0,!0))}function MM(t,e){return t!==null&&e&&e(new ip(t)),R(!0)}function OM(t,e){return t!==null&&e&&e(new np(t)),R(!0)}function kM(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return R(!0);let i=r.map(s=>ec(()=>{let o=vo(e)??n,a=Yi(s,o),c=bM(a)?a.canActivate(e,t):Cr(o,()=>a(e,t));return Kn(c).pipe(kt())}));return R(i).pipe(Qi())}function FM(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>IM(o)).filter(o=>o!==null).map(o=>ec(()=>{let a=o.guards.map(c=>{let u=vo(o.node)??n,l=Yi(c,u),d=SM(l)?l.canActivateChild(r,t):Cr(u,()=>l(r,t));return Kn(d).pipe(kt())});return R(a).pipe(Qi())}));return R(s).pipe(Qi())}function LM(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return R(!0);let o=s.map(a=>{let c=vo(e)??i,u=Yi(a,c),l=AM(u)?u.canDeactivate(t,e,n,r):Cr(c,()=>u(t,e,n,r));return Kn(l).pipe(kt())});return R(o).pipe(Qi())}function VM(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return R(!0);let s=i.map(o=>{let a=Yi(o,t),c=DM(a)?a.canLoad(e,n):Cr(t,()=>a(e,n));return Kn(c)});return R(s).pipe(Qi(),nC(r))}function nC(t){return vd(ye(e=>{if(Ki(e))throw ZE(t,e)}),z(e=>e===!0))}function UM(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return R(!0);let s=i.map(o=>{let a=Yi(o,t),c=RM(a)?a.canMatch(e,n):Cr(t,()=>a(e,n));return Kn(c)});return R(s).pipe(Qi(),nC(r))}var yo=class{constructor(e){this.segmentGroup=e||null}},gu=class extends Error{constructor(e){super(),this.urlTree=e}};function Hi(t){return _i(new yo(t))}function jM(t){return _i(new E(4e3,!1))}function BM(t){return _i(XE(!1,at.GuardRejected))}var hp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return R(r);if(i.numberOfChildren>1||!i.children[x])return jM(e.redirectTo);i=i.children[x]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new gu(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new zn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new J(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new E(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},fp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $M(t,e,n,r,i){let s=Ep(t,e,n);return s.matched?(r=yM(e,r),UM(r,e,n,i).pipe(z(o=>o===!0?s:w({},fp)))):R(s)}function Ep(t,e,n){if(e.path==="**")return HM(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?w({},fp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||UP)(n,t,e);if(!i)return w({},fp);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?w(w({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function HM(t){return{matched:!0,parameters:t.length>0?kE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ME(t,e,n,r){return n.length>0&&WM(t,n,r)?{segmentGroup:new J(e,zM(r,new J(n,t.children))),slicedSegments:[]}:n.length===0&&GM(t,n,r)?{segmentGroup:new J(t.segments,qM(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new J(t.segments,t.children),slicedSegments:n}}function qM(t,e,n,r){let i={};for(let s of n)if(_u(t,e,s)&&!r[Gt(s)]){let o=new J([],{});i[Gt(s)]=o}return w(w({},r),i)}function zM(t,e){let n={};n[x]=e;for(let r of t)if(r.path===""&&Gt(r)!==x){let i=new J([],{});n[Gt(r)]=i}return n}function WM(t,e,n){return n.some(r=>_u(t,e,r)&&Gt(r)!==x)}function GM(t,e,n){return n.some(r=>_u(t,e,r))}function _u(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function KM(t,e,n,r){return Gt(t)!==r&&(r===x||!_u(e,n,t))?!1:Ep(e,t,n).matched}function QM(t,e,n){return e.length===0&&!t.children[n]}var pp=class{};function YM(t,e,n,r,i,s,o="emptyOnly"){return new gp(t,e,n,r,i,o,s).recognize()}var JM=31,gp=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new hp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new E(4002,`'${e.segmentGroup}'`)}recognize(){let e=ME(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(z(n=>{let r=new go([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,{},x,this.rootComponentType,null,{}),i=new ot(r,n),s=new fu("",i),o=iM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,x).pipe(Mn(r=>{if(r instanceof gu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof yo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=_p(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(z(s=>s instanceof ot?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return ge(i).pipe(wi(s=>{let o=r.children[s],a=_M(n,s);return this.processSegmentGroup(e,a,o,s)}),Nd((s,o)=>(s.push(...o),s)),On(null),xd(),me(s=>{if(s===null)return Hi(r);let o=rC(s);return ZM(o),R(o)}))}processSegment(e,n,r,i,s,o){return ge(n).pipe(wi(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Mn(c=>{if(c instanceof yo)return R(null);throw c}))),kt(a=>!!a),Mn(a=>{if(tC(a))return QM(r,i,s)?R(new pp):Hi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return KM(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Hi(i):Hi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Ep(n,i,s);if(!a)return Hi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>JM&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(me(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=$M(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(dt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(dt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new go(l,h,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,e1(r),Gt(r),r.component??r._loadedComponent??null,r,t1(r)),{segmentGroup:g,slicedSegments:_}=ME(n,l,d,c);if(_.length===0&&g.hasChildren())return this.processChildren(u,c,g).pipe(z($=>$===null?null:new ot(f,$)));if(c.length===0&&_.length===0)return R(new ot(f,[]));let M=Gt(r)===s;return this.processSegment(u,c,g,_,M?x:s,!0).pipe(z($=>new ot(f,$ instanceof ot?[$]:[])))}))):Hi(n)))}getChildConfig(e,n,r){return n.children?R({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?R({routes:n._loadedRoutes,injector:n._loadedInjector}):VM(e,n,r,this.urlSerializer).pipe(me(i=>i?this.configLoader.loadChildren(e,n).pipe(ye(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):BM(n))):R({routes:[],injector:e})}};function ZM(t){t.sort((e,n)=>e.value.outlet===x?-1:n.value.outlet===x?1:e.value.outlet.localeCompare(n.value.outlet))}function XM(t){let e=t.value.routeConfig;return e&&e.path===""}function rC(t){let e=[],n=new Set;for(let r of t){if(!XM(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=rC(r.children);e.push(new ot(r.value,i))}return e.filter(r=>!n.has(r))}function e1(t){return t.data||{}}function t1(t){return t.resolve||{}}function n1(t,e,n,r,i,s){return me(o=>YM(t,e,n,r,o.extractedUrl,i,s).pipe(z(({state:a,tree:c})=>ce(w({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function r1(t,e){return me(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return R(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of iC(c))o.add(u);let a=0;return ge(o).pipe(wi(c=>s.has(c)?i1(c,r,t,e):(c.data=_p(c,c.parent,t).resolve,R(void 0))),ye(()=>a++),Ii(1),me(c=>a===o.size?R(n):qe))})}function iC(t){let e=t.children.map(n=>iC(n)).flat();return[t,...e]}function i1(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!YE(i)&&(s[_o]=i.title),s1(s,t,e,r).pipe(z(o=>(t._resolvedData=o,t.data=_p(t,t.parent,n).resolve,null)))}function s1(t,e,n,r){let i=zf(t);if(i.length===0)return R({});let s={};return ge(i).pipe(me(o=>o1(t[o],e,n,r).pipe(kt(),ye(a=>{s[o]=a}))),Ii(1),Rd(s),Mn(o=>tC(o)?qe:_i(o)))}function o1(t,e,n,r){let i=vo(e)??r,s=Yi(t,i),o=s.resolve?s.resolve(e,n):Cr(i,()=>s(e,n));return Kn(o)}function Hf(t){return dt(e=>{let n=t(e);return n?ge(n).pipe(z(()=>e)):R(e)})}var sC=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===x);return i}getResolvedTitleForRoute(r){return r.data[_o]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>v(a1),providedIn:"root"});let t=e;return t})(),a1=(()=>{let e=class e extends sC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(k(SE))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cp=new P("",{providedIn:"root",factory:()=>({})}),Tp=new P(""),c1=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=v(Ef)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return R(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Kn(r.loadComponent()).pipe(z(oC),ye(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),ks(()=>{this.componentLoaders.delete(r)})),s=new pi(i,()=>new ke).pipe(fi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return R({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=u1(i,this.compiler,r,this.onLoadEndListener).pipe(ks(()=>{this.childrenLoaders.delete(i)})),a=new pi(o,()=>new ke).pipe(fi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function u1(t,e,n,r){return Kn(t.loadChildren()).pipe(z(oC),me(i=>i instanceof Gs||Array.isArray(i)?R(i):ge(e.compileModuleAsync(i))),z(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Tp,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ip),injector:s}}))}function l1(t){return t&&typeof t=="object"&&"default"in t}function oC(t){return l1(t)?t.default:t}var Dp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>v(d1),providedIn:"root"});let t=e;return t})(),d1=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),h1=new P("");var f1=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ke,this.transitionAbortSubject=new ke,this.configLoader=v(c1),this.environmentInjector=v(gt),this.urlSerializer=v(yp),this.rootContexts=v(mu),this.location=v(Ar),this.inputBindingEnabled=v(yu,{optional:!0})!==null,this.titleStrategy=v(sC),this.options=v(Cp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=v(Dp),this.createViewTransition=v(h1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>R(void 0),this.rootComponentType=null;let r=s=>this.events.next(new ep(s)),i=s=>this.events.next(new tp(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ce(w(w({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new pe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ao,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ct(o=>o.id!==0),z(o=>ce(w({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),dt(o=>{let a=!1,c=!1;return R(o).pipe(dt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",at.SupersededByNewNavigation),qe;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ce(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Nr(u.id,this.urlSerializer.serialize(u.rawUrl),h,Qf.IgnoredSameUrlNavigation)),u.resolve(null),qe}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return R(u).pipe(dt(h=>{let f=this.transitions?.getValue();return this.events.next(new lo(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?qe:Promise.resolve(h)}),n1(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ye(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ce(w({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new lu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:_,extras:M}=u,$=new lo(h,this.urlSerializer.serialize(f),g,_);this.events.next($);let Se=KE(this.rootComponentType).snapshot;return this.currentTransition=o=ce(w({},u),{targetSnapshot:Se,urlAfterRedirects:f,extras:ce(w({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,R(o)}else{let h="";return this.events.next(new Nr(u.id,this.urlSerializer.serialize(u.extractedUrl),h,Qf.IgnoredByUrlHandlingStrategy)),u.resolve(null),qe}}),ye(u=>{let l=new Yf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),z(u=>(this.currentTransition=o=ce(w({},u),{guards:wM(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),xM(this.environmentInjector,u=>this.events.next(u)),ye(u=>{if(o.guardsResult=u.guardsResult,Ki(u.guardsResult))throw ZE(this.urlSerializer,u.guardsResult);let l=new Jf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Ct(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",at.GuardRejected),!1)),Hf(u=>{if(u.guards.canActivateChecks.length)return R(u).pipe(ye(l=>{let d=new Zf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),dt(l=>{let d=!1;return R(l).pipe(r1(this.paramsInheritanceStrategy,this.environmentInjector),ye({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",at.NoDataFromResolver)}}))}),ye(l=>{let d=new Xf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Hf(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(ye(f=>{d.component=f}),z(()=>{})));for(let f of d.children)h.push(...l(f));return h};return Os(l(u.targetSnapshot.root)).pipe(On(null),dn(1))}),Hf(()=>this.afterPreactivation()),dt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?ge(d).pipe(z(()=>o)):R(o)}),z(u=>{let l=hM(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ce(w({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ye(()=>{this.events.next(new fo)}),vM(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),dn(1),ye({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Md(this.transitionAbortSubject.pipe(ye(u=>{throw u}))),ks(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",at.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Mn(u=>{if(c=!0,eC(u))this.events.next(new Gn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),gM(u)?this.events.next(new po(u.url)):o.resolve(!1);else{this.events.next(new ho(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return qe}))}))}cancelNavigationTransition(r,i,s){let o=new Gn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function p1(t){return t!==ao}var g1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>v(m1),providedIn:"root"});let t=e;return t})(),mp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},m1=(()=>{let e=class e extends mp{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Yh(e)))(s||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>v(y1),providedIn:"root"});let t=e;return t})(),y1=(()=>{let e=class e extends aC{constructor(){super(...arguments),this.location=v(Ar),this.urlSerializer=v(yp),this.options=v(Cp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=v(Dp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new zn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=KE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof lo)this.stateMemento=this.createStateMemento();else if(r instanceof Nr)this.rawUrlTree=i.initialUrl;else if(r instanceof lu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof fo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Gn&&(r.code===at.GuardRejected||r.code===at.NoDataFromResolver)?this.restoreHistory(i):r instanceof ho?this.restoreHistory(i,!0):r instanceof Wn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=w(w({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=w(w({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Yh(e)))(s||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),so=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(so||{});function _1(t,e){t.events.pipe(Ct(n=>n instanceof Wn||n instanceof Gn||n instanceof ho||n instanceof Nr),z(n=>n instanceof Wn||n instanceof Nr?so.COMPLETE:(n instanceof Gn?n.code===at.Redirect||n.code===at.SupersededByNewNavigation:!1)?so.REDIRECTING:so.FAILED),Ct(n=>n!==so.REDIRECTING),dn(1)).subscribe(()=>{e()})}function v1(t){throw t}var w1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},I1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Io=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=v(Kc),this.stateManager=v(aC),this.options=v(Cp,{optional:!0})||{},this.pendingTasks=v(Gc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=v(f1),this.urlSerializer=v(yp),this.location=v(Ar),this.urlHandlingStrategy=v(Dp),this._events=new ke,this.errorHandler=this.options.errorHandler||v1,this.navigated=!1,this.routeReuseStrategy=v(g1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=v(Tp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!v(yu,{optional:!0}),this.eventsSubscription=new fe,this.isNgZoneEnabled=v(te)instanceof te&&te.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Gn&&i.code!==at.Redirect&&i.code!==at.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Wn)this.navigated=!0;else if(i instanceof po){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||p1(s.source)};this.scheduleNavigation(a,ao,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}C1(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ao,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=w({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Ip),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=w(w({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=qE(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return zE(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Ki(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ao,null,i)}navigate(r,i={skipLocationChange:!1}){return E1(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=w({},w1):i===!1?s=w({},I1):s=i,Ki(r))return AE(this.currentUrlTree,r,s);let o=this.parseUrl(r);return AE(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return _1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function E1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new E(4008,!1)}function C1(t){return!(t instanceof fo)&&!(t instanceof po)}var vu=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new ke,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Wn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:uI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Q(Io),Q(Pr),Jh("tabindex"),Q(ki),Q(Tr),Q($i))},e.\u0275dir=jn({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&yn("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&yf("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[pt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Xs],skipLocationChange:[pt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Xs],replaceUrl:[pt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Xs],routerLink:"routerLink"},standalone:!0,features:[pf,Ys]});let t=e;return t})();var T1=new P("");function cC(t,...e){return xc([{provide:Tp,multi:!0,useValue:t},[],{provide:Pr,useFactory:D1,deps:[Io]},{provide:If,multi:!0,useFactory:S1},e.map(n=>n.\u0275providers)])}function D1(t){return t.routerState.root}function b1(t,e){return{\u0275kind:t,\u0275providers:e}}function S1(){let t=v(Rt);return e=>{let n=t.get(Zs);if(e!==n.components[0])return;let r=t.get(Io),i=t.get(A1);t.get(R1)===1&&r.initialNavigation(),t.get(x1,null,O.Optional)?.setUpPreloading(),t.get(T1,null,O.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var A1=new P("",{factory:()=>new ke}),R1=new P("",{providedIn:"root",factory:()=>1});var x1=new P("");function uC(){return b1(8,[PE,{provide:yu,useExisting:PE}])}var Sp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var m=function(t,e){if(!t)throw Mr(e)},Mr=function(t){return new Error("Firebase Database ("+Sp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var dC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},P1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Iu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):P1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Ap;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ap=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},xp=function(t){let e=dC(t);return Iu.encodeByteArray(e,!0)},Eo=function(t){return xp(t).replace(/\./g,"")},Co=function(t){try{return Iu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hC(t){return fC(void 0,t)}function fC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!M1(n)||(t[n]=fC(t[n],e[n]));return t}function M1(t){return t!=="__proto__"}function O1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var k1=()=>O1().__FIREBASE_DEFAULTS__,F1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},L1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Co(t[1]);return e&&JSON.parse(e)},Np=()=>{try{return k1()||F1()||L1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Pp=t=>{var e,n;return(n=(e=Np())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Eu=t=>{let e=Pp(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Mp=()=>{var t;return(t=Np())===null||t===void 0?void 0:t.config},Op=t=>{var e;return(e=Np())===null||e===void 0?void 0:e[`_${t}`]};var Qn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Cu(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Eo(JSON.stringify(n)),Eo(JSON.stringify(o)),""].join(".")}function Ce(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function To(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function pC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Tu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gC(){let t=Ce();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Kt(){return Sp.NODE_CLIENT===!0||Sp.NODE_ADMIN===!0}function kp(){try{return typeof indexedDB=="object"}catch{return!1}}function mC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var V1="FirebaseError",ct=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=V1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_n.prototype.create)}},_n=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?U1(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ct(i,a,r)}};function U1(t,e){return t.replace(j1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var j1=/\{\$([^}]+)}/g;function Ji(t){return JSON.parse(t)}function _e(t){return JSON.stringify(t)}var yC=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=Ji(Co(s[0])||""),n=Ji(Co(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var _C=function(t){let e=yC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},vC=function(t){let e=yC(t).claims;return typeof e=="object"&&e.admin===!0};function Qt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Or(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Do(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bo(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function kr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(lC(s)&&lC(o)){if(!kr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function lC(t){return t!==null&&typeof t=="object"}function Fr(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var wu=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4],u,l;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),l=1518500249):(u=s^o^a,l=1859775393):d<60?(u=s&o|a&(s|o),l=2400959708):(u=s^o^a,l=3395469782);let h=(i<<5|i>>>27)+u+c+l+r[d]&4294967295;c=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function wC(t,e){let n=new Rp(t,e);return n.subscribe.bind(n)}var Rp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");B1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=bp),i.error===void 0&&(i.error=bp),i.complete===void 0&&(i.complete=bp);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function B1(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bp(){}function Du(t,e){return`${t} failed: ${e} argument `}var IC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,m(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},So=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var w5=4*60*60*1e3;function Je(t){return t&&t._delegate?t._delegate:t}var Ze=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Lr="[DEFAULT]";var bu=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Qn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(H1(e))try{this.getOrInitializeService({instanceIdentifier:Lr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Lr){return this.instances.has(e)}getOptions(e=Lr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lr){return this.component?this.component.multipleInstances?e:Lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function $1(t){return t===Lr?void 0:t}function H1(t){return t.instantiationMode==="EAGER"}var Ao=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new bu(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var q1=[],K=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(K||{}),z1={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},W1=K.INFO,G1={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},K1=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=G1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Yt=class{constructor(e){this.name=e,this._logLevel=W1,this._logHandler=K1,this._userLogHandler=null,q1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in K))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...e),this._logHandler(this,K.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...e),this._logHandler(this,K.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,K.INFO,...e),this._logHandler(this,K.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,K.WARN,...e),this._logHandler(this,K.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...e),this._logHandler(this,K.ERROR,...e)}};var Q1=(t,e)=>e.some(n=>t instanceof n),EC,CC;function Y1(){return EC||(EC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J1(){return CC||(CC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var TC=new WeakMap,Lp=new WeakMap,DC=new WeakMap,Fp=new WeakMap,Up=new WeakMap;function Z1(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Jt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&TC.set(n,t)}).catch(()=>{}),Up.set(e,t),e}function X1(t){if(Lp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Lp.set(t,e)}var Vp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bC(t){Vp=t(Vp)}function eO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Su(this),e,...n);return DC.set(r,e.sort?e.sort():[e]),Jt(r)}:J1().includes(t)?function(...e){return t.apply(Su(this),e),Jt(TC.get(this))}:function(...e){return Jt(t.apply(Su(this),e))}}function tO(t){return typeof t=="function"?eO(t):(t instanceof IDBTransaction&&X1(t),Q1(t,Y1())?new Proxy(t,Vp):t)}function Jt(t){if(t instanceof IDBRequest)return Z1(t);if(Fp.has(t))return Fp.get(t);let e=tO(t);return e!==t&&(Fp.set(t,e),Up.set(e,t)),e}var Su=t=>Up.get(t);function AC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Jt(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Jt(o.result),c.oldVersion,c.newVersion,Jt(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var nO=["get","getKey","getAll","getAllKeys","count"],rO=["put","add","delete","clear"],jp=new Map;function SC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jp.get(e))return jp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=rO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nO.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return jp.set(e,s),s}bC(t=>ce(w({},t),{get:(e,n,r)=>SC(e,n)||t.get(e,n,r),has:(e,n)=>!!SC(e,n)||t.has(e,n)}));var $p=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iO(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function iO(t){let e=t.getComponent();return e?.type==="VERSION"}var Hp="@firebase/app",RC="0.10.1";var Vr=new Yt("@firebase/app"),sO="@firebase/app-compat",oO="@firebase/analytics-compat",aO="@firebase/analytics",cO="@firebase/app-check-compat",uO="@firebase/app-check",lO="@firebase/auth",dO="@firebase/auth-compat",hO="@firebase/database",fO="@firebase/database-compat",pO="@firebase/functions",gO="@firebase/functions-compat",mO="@firebase/installations",yO="@firebase/installations-compat",_O="@firebase/messaging",vO="@firebase/messaging-compat",wO="@firebase/performance",IO="@firebase/performance-compat",EO="@firebase/remote-config",CO="@firebase/remote-config-compat",TO="@firebase/storage",DO="@firebase/storage-compat",bO="@firebase/firestore",SO="@firebase/firestore-compat",AO="firebase",RO="10.11.0";var qp="[DEFAULT]",xO={[Hp]:"fire-core",[sO]:"fire-core-compat",[aO]:"fire-analytics",[oO]:"fire-analytics-compat",[uO]:"fire-app-check",[cO]:"fire-app-check-compat",[lO]:"fire-auth",[dO]:"fire-auth-compat",[hO]:"fire-rtdb",[fO]:"fire-rtdb-compat",[pO]:"fire-fn",[gO]:"fire-fn-compat",[mO]:"fire-iid",[yO]:"fire-iid-compat",[_O]:"fire-fcm",[vO]:"fire-fcm-compat",[wO]:"fire-perf",[IO]:"fire-perf-compat",[EO]:"fire-rc",[CO]:"fire-rc-compat",[TO]:"fire-gcs",[DO]:"fire-gcs-compat",[bO]:"fire-fst",[SO]:"fire-fst-compat","fire-js":"fire-js",[AO]:"fire-js-all"};var Ro=new Map,NO=new Map,zp=new Map;function xC(t,e){try{t.container.addComponent(e)}catch(n){Vr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zt(t){let e=t.name;if(zp.has(e))return Vr.debug(`There were multiple attempts to register component ${e}.`),!1;zp.set(e,t);for(let n of Ro.values())xC(n,t);for(let n of NO.values())xC(n,t);return!0}function Ur(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function vn(t){return t.settings!==void 0}var PO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yn=new _n("app","Firebase",PO);var Wp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ze("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}};var Xt=RO;function No(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:qp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Yn.create("bad-app-name",{appName:String(i)});if(n||(n=Mp()),!n)throw Yn.create("no-options");let s=Ro.get(i);if(s){if(kr(n,s.options)&&kr(r,s.config))return s;throw Yn.create("duplicate-app",{appName:i})}let o=new Ao(i);for(let c of zp.values())o.addComponent(c);let a=new Wp(n,r,o);return Ro.set(i,a),a}function Jn(t=qp){let e=Ro.get(t);if(!e&&t===qp&&Mp())return No();if(!e)throw Yn.create("no-app",{appName:t});return e}function Au(){return Array.from(Ro.values())}function ue(t,e,n){var r;let i=(r=xO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vr.warn(a.join(" "));return}Zt(new Ze(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var MO="firebase-heartbeat-database",OO=1,xo="firebase-heartbeat-store",Bp=null;function OC(){return Bp||(Bp=AC(MO,OO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yn.create("idb-open",{originalErrorMessage:t.message})})),Bp}function kO(t){return p(this,null,function*(){try{let n=(yield OC()).transaction(xo),r=yield n.objectStore(xo).get(kC(t));return yield n.done,r}catch(e){if(e instanceof ct)Vr.warn(e.message);else{let n=Yn.create("idb-get",{originalErrorMessage:e?.message});Vr.warn(n.message)}}})}function NC(t,e){return p(this,null,function*(){try{let r=(yield OC()).transaction(xo,"readwrite");yield r.objectStore(xo).put(e,kC(t)),yield r.done}catch(n){if(n instanceof ct)Vr.warn(n.message);else{let r=Yn.create("idb-set",{originalErrorMessage:n?.message});Vr.warn(r.message)}}})}function kC(t){return`${t.name}!${t.options.appId}`}var FO=1024,LO=30*24*60*60*1e3,Gp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Kp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=PC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=LO}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=PC(),{heartbeatsToSend:r,unsentEntries:i}=VO(this._heartbeatsCache.heartbeats),s=Eo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function PC(){return new Date().toISOString().substring(0,10)}function VO(t,e=FO){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),MC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),MC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Kp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return kp()?mC().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield kO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return NC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return NC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function MC(t){return Eo(JSON.stringify({version:2,heartbeats:t})).length}function UO(t){Zt(new Ze("platform-logger",e=>new $p(e),"PRIVATE")),Zt(new Ze("heartbeat",e=>new Gp(e),"PRIVATE")),ue(Hp,RC,t),ue(Hp,RC,"esm2017"),ue("fire-js","")}UO("");var FC="@firebase/database",LC="1.0.4";var Xg="";function jO(t){Xg=t}var ng=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),_e(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ji(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var rg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Qt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var m0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ng(e)}}catch{}return new rg},Br=m0("localStorage"),ig=m0("sessionStorage");var es=new Yt("@firebase/database"),BO=function(){let t=1;return function(){return t++}}(),y0=function(t){let e=IC(t),n=new wu;n.update(e);let r=n.digest();return Iu.encodeByteArray(r)},Ko=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ko.apply(null,r):typeof r=="object"?e+=_e(r):e+=r,e+=" "}return e},Hr=null,VC=!0,$O=function(t,e){m(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(es.logLevel=K.VERBOSE,Hr=es.log.bind(es),e&&ig.set("logging_enabled",!0)):typeof t=="function"?Hr=t:(Hr=null,ig.remove("logging_enabled"))},je=function(...t){if(VC===!0&&(VC=!1,Hr===null&&ig.get("logging_enabled")===!0&&$O(!0)),Hr){let e=Ko.apply(null,t);Hr(e)}},Qo=function(t){return function(...e){je(t,...e)}},sg=function(...t){let e="FIREBASE INTERNAL ERROR: "+Ko(...t);es.error(e)},wn=function(...t){let e=`FIREBASE FATAL ERROR: ${Ko(...t)}`;throw es.error(e),new Error(e)},et=function(...t){let e="FIREBASE WARNING: "+Ko(...t);es.warn(e)},HO=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},_0=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},qO=function(t){if(Kt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},rs="[MIN_NAME]",qr="[MAX_NAME]",ls=function(t,e){if(t===e)return 0;if(t===rs||e===qr)return-1;if(e===rs||t===qr)return 1;{let n=UC(t),r=UC(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},zO=function(t,e){return t===e?0:t<e?-1:1},Po=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+_e(e))},em=function(t){if(typeof t!="object"||t===null)return _e(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=_e(e[r]),n+=":",n+=em(t[e[r]]);return n+="}",n},v0=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function tt(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var w0=function(t){m(!_0(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,c;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let u=[];for(c=n;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();let l=u.join(""),d="";for(c=0;c<64;c+=8){let h=parseInt(l.substr(c,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},WO=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},GO=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function KO(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var QO=new RegExp("^-?(0*)\\d{1,10}$"),YO=-2147483648,JO=2147483647,UC=function(t){if(QO.test(t)){let e=Number(t);if(e>=YO&&e<=JO)return e}return null},ds=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw et("Exception was thrown by user callback.",n),e},Math.floor(0))}},ZO=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Lo=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var og=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){et(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var ag=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(je("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',et(e)}},Vo=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),xu="5",I0="v",E0="s",C0="r",T0="f",D0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,b0="ls",S0="p",cg="ac",A0="websocket",R0="long_polling";var Nu=class{constructor(e,n,r,i,s=!1,o="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Br.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Br.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function XO(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function x0(t,e,n){m(typeof e=="string","typeof type must == string"),m(typeof n=="object","typeof params must == object");let r;if(e===A0)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===R0)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);XO(t)&&(n.ns=t.namespace);let i=[];return tt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var ug=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Qt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return hC(this.counters_)}};var Qp={},Yp={};function tm(t){let e=t.toString();return Qp[e]||(Qp[e]=new ug),Qp[e]}function ek(t,e){let n=t.toString();return Yp[n]||(Yp[n]=e()),Yp[n]}var lg=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ds(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var jC="start",tk="close",nk="pLPCommand",rk="pRTLPCB",N0="id",P0="pw",M0="ser",ik="cb",sk="seg",ok="ts",ak="d",ck="dframe",O0=1870,k0=30,uk=O0-k0,lk=25e3,dk=3e4,dg=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qo(e),this.stats_=tm(n),this.urlFn=c=>(this.appCheckToken&&(c[cg]=this.appCheckToken),x0(n,R0,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new lg(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(dk)),qO(()=>{if(this.isClosed_)return;this.scriptTagHolder=new hg((...s)=>{let[o,a,c,u,l]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===jC)this.id=a,this.password=c;else if(o===tk)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[jC]="t",r[M0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[ik]=this.scriptTagHolder.uniqueCallbackIdentifier),r[I0]=xu,this.transportSessionId&&(r[E0]=this.transportSessionId),this.lastSessionId&&(r[b0]=this.lastSessionId),this.applicationId&&(r[S0]=this.applicationId),this.appCheckToken&&(r[cg]=this.appCheckToken),typeof location<"u"&&location.hostname&&D0.test(location.hostname)&&(r[C0]=T0);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Kt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!WO()&&!GO()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=_e(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=xp(n),i=v0(r,uk);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Kt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[ck]="t",r[N0]=e,r[P0]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=_e(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},hg=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Kt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=BO(),window[nk+this.uniqueCallbackIdentifier]=e,window[rk+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){je("frame writing exception"),a.stack&&je(a.stack),je(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||je("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[N0]=this.myID,e[P0]=this.myPW,e[M0]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+k0+r.length<=O0;){let o=this.pendingSegs.shift();r=r+"&"+sk+i+"="+o.seg+"&"+ok+i+"="+o.ts+"&"+ak+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(lk)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){Kt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{je("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var hk=16384,fk=45e3,Pu=null;typeof MozWebSocket<"u"?Pu=MozWebSocket:typeof WebSocket<"u"&&(Pu=WebSocket);var Mo=(()=>{class t{constructor(n,r,i,s,o,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qo(this.connId),this.stats_=tm(r),this.connURL=t.connectionURL_(r,a,c,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[I0]=xu,!Kt()&&typeof location<"u"&&location.hostname&&D0.test(location.hostname)&&(a[C0]=T0),r&&(a[E0]=r),i&&(a[b0]=i),s&&(a[cg]=s),o&&(a[S0]=o),x0(n,A0,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Br.set("previous_websocket_failure",!0);try{let i;if(Kt()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${xu}/${Xg}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Pu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Pu!==null&&!t.forceDisallow_}static previouslyFailed(){return Br.isInMemoryStorage||Br.get("previous_websocket_failure")===!0}markConnectionHealthy(){Br.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Ji(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(m(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=_e(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=v0(r,hk);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(fk))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),pk=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[dg,Mo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Mo&&Mo.isAvailable(),i=r&&!Mo.previouslyFailed();if(n.webSocketOnly&&(r||et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Mo];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),gk=6e4,mk=5e3,yk=10*1024,_k=100*1024,Jp="t",BC="d",vk="s",$C="r",wk="e",HC="o",qC="a",zC="n",WC="p",Ik="h",fg=class{constructor(e,n,r,i,s,o,a,c,u,l){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qo("c:"+this.id+":"),this.transportManager_=new pk(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Lo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>_k?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>yk?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Jp in e){let n=e[Jp];n===qC?this.upgradeIfSecondaryHealthy_():n===$C?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===HC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Po("t",e),r=Po("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:WC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:qC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:zC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Po("t",e),r=Po("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Po(Jp,e);if(BC in e){let r=e[BC];if(n===Ik){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===zC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===vk?this.onConnectionShutdown_(r):n===$C?this.onReset_(r):n===wk?sg("Server Error: "+r):n===HC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sg("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),xu!==r&&et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Lo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(gk))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Lo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(mk))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:WC,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Br.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Mu=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Ou=class{constructor(e){this.allowedEvents_=e,this.listeners_={},m(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){m(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var ku=class t extends Ou{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!To()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return m(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var GC=32,KC=768,X=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function Y(){return new X("")}function F(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Xn(t){return t.pieces_.length-t.pieceNum_}function ie(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new X(t.pieces_,e)}function F0(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Ek(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function L0(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function V0(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new X(e,0)}function ve(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof X)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new X(n,0)}function U(t){return t.pieceNum_>=t.pieces_.length}function Xe(t,e){let n=F(t),r=F(e);if(n===null)return e;if(n===r)return Xe(ie(t),ie(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function nm(t,e){if(Xn(t)!==Xn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Nt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Xn(t)>Xn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var pg=class{constructor(e,n){this.errorPrefix_=n,this.parts_=L0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=So(this.parts_[r]);U0(this)}};function Ck(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=So(e),U0(t)}function Tk(t){let e=t.parts_.pop();t.byteLength_-=So(e),t.parts_.length>0&&(t.byteLength_-=1)}function U0(t){if(t.byteLength_>KC)throw new Error(t.errorPrefix_+"has a key path longer than "+KC+" bytes ("+t.byteLength_+").");if(t.parts_.length>GC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+GC+") or object contains a cycle "+jr(t))}function jr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var gg=class t extends Ou{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return m(e==="visible","Unknown event type: "+e),[this.visible_]}};var Oo=1e3,Dk=60*5*1e3,QC=30*1e3,bk=1.3,Sk=3e4,Ak="server_kill",YC=3,rm=(()=>{class t extends Mu{constructor(n,r,i,s,o,a,c,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=Qo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Oo,this.maxReconnectDelay_=Dk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!Kt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");gg.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&ku.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(_e(o)),m(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new Qn,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),m(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,c=>{let u=c.d,l=c.s;t.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",c),l!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(l,u))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Qt(n,"w")){let i=Or(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();et(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||vC(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=QC)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=_C(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+_e(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):sg("Unrecognized action received from server: "+_e(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){m(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Oo,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Oo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Sk&&(this.reconnectDelay_=Oo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*bk)}this.onConnectStatus_(!1)}establishConnection_(){return p(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,c=null,u=function(){c?c.close():(a=!0,i())},l=function(h){m(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(h)};this.realtime_={close:u,sendRequest:l};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?je("getToken() completed but was canceled"):(je("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,c=new fg(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,g=>{et(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ak)},o))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&et(h),u())}}})}interrupt(n){je("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){je("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Do(this.interruptReasons_)&&(this.reconnectDelay_=Oo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>em(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new X(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){je("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=YC&&(this.reconnectDelay_=QC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){je("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=YC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Kt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Xg.replace(/\./g,"-")]=1,To()?n["framework.cordova"]=1:Tu()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=ku.getInstance().currentlyOnline();return Do(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),L=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var is=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new L(rs,e),i=new L(rs,n);return this.compare(r,i)!==0}minPost(){return L.MIN}};var Ru,Fu=class extends is{static get __EMPTY_NODE(){return Ru}static set __EMPTY_NODE(e){Ru=e}compare(e,n){return ls(e.name,n.name)}isDefinedOn(e){throw Mr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return L.MIN}maxPost(){return new L(qr,Ru)}makePost(e,n){return m(typeof e=="string","KeyIndex indexValue must always be a string."),new L(e,Ru)}toString(){return".key"}},ts=new Fu;var Xi=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},xt=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??wt.EMPTY_NODE,this.right=o??wt.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return wt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return wt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),mg=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new xt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},wt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,xt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,xt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Xi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Xi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Xi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Xi(this.root_,null,this.comparator_,!0,e)}};wt.EMPTY_NODE=new mg;function Rk(t,e){return ls(t.name,e.name)}function im(t,e){return ls(t,e)}var yg;function xk(t){yg=t}var j0=function(t){return typeof t=="number"?"number:"+w0(t):"string:"+t},B0=function(t){if(t.isLeafNode()){let e=t.val();m(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Qt(e,".sv"),"Priority must be a string or number.")}else m(t===yg||t.isEmpty(),"priority of unexpected type.");m(t===yg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var JC,ss=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,m(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),B0(this.priorityNode_)}static set __childrenNodeConstructor(n){JC=n}static get __childrenNodeConstructor(){return JC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return U(n)?this:F(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=F(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(m(i!==".priority"||Xn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ie(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+j0(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=w0(this.value_):n+=this.value_,this.lazyHash_=y0(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(m(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return m(s>=0,"Unknown leaf type: "+r),m(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),$0,H0;function Nk(t){$0=t}function Pk(t){H0=t}var _g=class extends is{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?ls(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return L.MIN}maxPost(){return new L(qr,new ss("[PRIORITY-POST]",H0))}makePost(e,n){let r=$0(e);return new L(n,new ss("[PRIORITY-POST]",r))}toString(){return".priority"}},de=new _g;var Mk=Math.log(2),vg=class{constructor(e){let n=s=>parseInt(Math.log(s)/Mk,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Lu=function(t,e,n,r){t.sort(e);let i=function(c,u){let l=u-c,d,h;if(l===0)return null;if(l===1)return d=t[c],h=n?n(d):d,new xt(h,d.node,xt.BLACK,null,null);{let f=parseInt(l/2,10)+c,g=i(c,f),_=i(f+1,u);return d=t[f],h=n?n(d):d,new xt(h,d.node,xt.BLACK,g,_)}},s=function(c){let u=null,l=null,d=t.length,h=function(g,_){let M=d-g,$=d;d-=g;let Se=i(M+1,$),le=t[M],Ge=n?n(le):le;f(new xt(Ge,le.node,_,null,Se))},f=function(g){u?(u.left=g,u=g):(l=g,u=g)};for(let g=0;g<c.count;++g){let _=c.nextBitIsOne(),M=Math.pow(2,c.count-(g+1));_?h(M,xt.BLACK):(h(M,xt.BLACK),h(M,xt.RED))}return l},o=new vg(t.length),a=s(o);return new wt(r||e,a)};var Zp,Zi={},os=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return m(Zi&&de,"ChildrenNode.ts has not been loaded"),Zp=Zp||new t({".priority":Zi},{".priority":de}),Zp}get(e){let n=Or(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof wt?n:null}hasIndex(e){return Qt(this.indexSet_,e.toString())}addIndex(e,n){m(e!==ts,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(L.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Lu(r,e.getCompare()):a=Zi;let c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;let l=Object.assign({},this.indexes_);return l[c]=a,new t(l,u)}addToIndexes(e,n){let r=bo(this.indexes_,(i,s)=>{let o=Or(this.indexSet_,s);if(m(o,"Missing index implementation for "+s),i===Zi)if(o.isDefinedOn(e.node)){let a=[],c=n.getIterator(L.Wrap),u=c.getNext();for(;u;)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),Lu(a,o.getCompare())}else return Zi;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new L(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=bo(this.indexes_,i=>{if(i===Zi)return i;{let s=n.get(e.name);return s?i.remove(new L(e.name,s)):i}});return new t(r,this.indexSet_)}};var ko,N=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&B0(this.priorityNode_),this.children_.isEmpty()&&m(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ko||(ko=new t(new wt(im),null,os.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ko}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?ko:r}}getChild(n){let r=F(n);return r===null?this:this.getImmediateChild(r).getChild(ie(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(m(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new L(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?ko:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=F(n);if(i===null)return r;{m(F(n)!==".priority"||Xn(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(ie(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(de,(a,c)=>{r[a]=c.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+j0(this.getPriority().val())+":"),this.forEachChild(de,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":y0(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new L(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new L(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new L(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,L.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,L.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Yo?-1:0}withIndex(n){if(n===ts||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===ts||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(de),s=r.getIterator(de),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===ts?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),wg=class extends N{constructor(){super(new wt(im),N.EMPTY_NODE,os.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return N.EMPTY_NODE}isEmpty(){return!1}},Yo=new wg;Object.defineProperties(L,{MIN:{value:new L(rs,N.EMPTY_NODE)},MAX:{value:new L(qr,Yo)}});Fu.__EMPTY_NODE=N.EMPTY_NODE;ss.__childrenNodeConstructor=N;xk(Yo);Pk(Yo);var Ok=!0;function Ne(t,e=null){if(t===null)return N.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),m(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new ss(n,Ne(e))}if(!(t instanceof Array)&&Ok){let n=[],r=!1;if(tt(t,(o,a)=>{if(o.substring(0,1)!=="."){let c=Ne(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new L(o,c)))}}),n.length===0)return N.EMPTY_NODE;let s=Lu(n,Rk,o=>o.name,im);if(r){let o=Lu(n,de.getCompare());return new N(s,Ne(e),new os({".priority":o},{".priority":de}))}else return new N(s,Ne(e),os.Default)}else{let n=N.EMPTY_NODE;return tt(t,(r,i)=>{if(Qt(t,r)&&r.substring(0,1)!=="."){let s=Ne(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ne(e))}}Nk(Ne);var Ig=class extends is{constructor(e){super(),this.indexPath_=e,m(!U(e)&&F(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?ls(e.name,n.name):s}makePost(e,n){let r=Ne(e),i=N.EMPTY_NODE.updateChild(this.indexPath_,r);return new L(n,i)}maxPost(){let e=N.EMPTY_NODE.updateChild(this.indexPath_,Yo);return new L(qr,e)}toString(){return L0(this.indexPath_,0).join("/")}};var Eg=class extends is{compare(e,n){let r=e.node.compareTo(n.node);return r===0?ls(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return L.MIN}maxPost(){return L.MAX}makePost(e,n){let r=Ne(e);return new L(n,r)}toString(){return".value"}},kk=new Eg;function q0(t){return{type:"value",snapshotNode:t}}function as(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function $o(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ho(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Fk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var qo=class{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){m(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange($o(n,a)):m(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(as(n,r)):o.trackChildChange(Ho(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(de,(i,s)=>{n.hasChild(i)||r.trackChildChange($o(i,s))}),n.isLeafNode()||n.forEachChild(de,(i,s)=>{if(e.hasChild(i)){let o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Ho(i,s,o))}else r.trackChildChange(as(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?N.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Vu=class t{constructor(e){this.indexedFilter_=new qo(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new L(n,r))||(r=N.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=N.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(N.EMPTY_NODE);let s=this;return n.forEachChild(de,(o,a)=>{s.matches(new L(o,a))||(i=i.updateImmediateChild(o,N.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var Cg=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Vu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new L(n,r))||(r=N.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=N.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=N.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(N.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,N.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){let d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();let a=e;m(a.numChildren()===this.limit_,"");let c=new L(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),l=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:o(h,c);if(l&&!r.isEmpty()&&f>=0)return s?.trackChildChange(Ho(n,r,d)),a.updateImmediateChild(n,r);{s?.trackChildChange($o(n,d));let _=a.updateImmediateChild(n,N.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s?.trackChildChange(as(h.name,h.node)),_.updateImmediateChild(h.name,h.node)):_}}else return r.isEmpty()?e:l&&o(u,c)>=0?(s!=null&&(s.trackChildChange($o(u.name,u.node)),s.trackChildChange(as(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,N.EMPTY_NODE)):e}};var Tg=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=de}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return m(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return m(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:rs}hasEnd(){return this.endSet_}getIndexEndValue(){return m(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return m(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return m(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===de}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function Lk(t){return t.loadsAllData()?new qo(t.getIndex()):t.hasLimit()?new Cg(t):new Vu(t)}function ZC(t){let e={};if(t.isDefault())return e;let n;if(t.index_===de?n="$priority":t.index_===kk?n="$value":t.index_===ts?n="$key":(m(t.index_ instanceof Ig,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=_e(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=_e(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+_e(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=_e(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+_e(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function XC(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==de&&(e.i=t.index_.toString()),e}var Dg=class t extends Mu{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Qo("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(m(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let c=ZC(e._queryParams);this.restRequest_(s+".json",c,(u,l)=>{let d=l;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Or(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=ZC(e._queryParams),r=e._path.toString(),i=new Qn;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Fr(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Ji(a.responseText)}catch{et("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&et("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var bg=class{constructor(){this.rootNode_=N.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Uu(){return{value:null,children:new Map}}function z0(t,e,n){if(U(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=F(e);t.children.has(r)||t.children.set(r,Uu());let i=t.children.get(r);e=ie(e),z0(i,e,n)}}function Sg(t,e,n){t.value!==null?n(e,t.value):Vk(t,(r,i)=>{let s=new X(e.toString()+"/"+r);Sg(i,s,n)})}function Vk(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Ag=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&tt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var e0=10*1e3,Uk=30*1e3,jk=5*60*1e3,Rg=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Ag(e);let r=e0+(Uk-e0)*Math.random();Lo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;tt(e,(i,s)=>{s>0&&Qt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Lo(this.reportStats_.bind(this),Math.floor(Math.random()*2*jk))}};var en=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(en||{});function W0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function sm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function om(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var xg=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=en.ACK_USER_WRITE,this.source=W0()}operationForChild(e){if(U(this.path)){if(this.affectedTree.value!=null)return m(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new X(e));return new t(Y(),n,this.revert)}}else return m(F(this.path)===e,"operationForChild called for unrelated child."),new t(ie(this.path),this.affectedTree,this.revert)}};var ju=class t{constructor(e,n){this.source=e,this.path=n,this.type=en.LISTEN_COMPLETE}operationForChild(e){return U(this.path)?new t(this.source,Y()):new t(this.source,ie(this.path))}};var cs=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=en.OVERWRITE}operationForChild(e){return U(this.path)?new t(this.source,Y(),this.snap.getImmediateChild(e)):new t(this.source,ie(this.path),this.snap)}};var Bu=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=en.MERGE}operationForChild(e){if(U(this.path)){let n=this.children.subtree(new X(e));return n.isEmpty()?null:n.value?new cs(this.source,Y(),n.value):new t(this.source,Y(),n)}else return m(F(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var In=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(U(e))return this.isFullyInitialized()&&!this.filtered_;let n=F(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var Ng=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function Bk(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Fk(o.childName,o.snapshotNode))}),Fo(t,i,"child_removed",e,r,n),Fo(t,i,"child_added",e,r,n),Fo(t,i,"child_moved",s,r,n),Fo(t,i,"child_changed",e,r,n),Fo(t,i,"value",e,r,n),i}function Fo(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,c)=>Hk(t,a,c)),o.forEach(a=>{let c=$k(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(c,t.query_))})})}function $k(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Hk(t,e,n){if(e.childName==null||n.childName==null)throw Mr("Should only compare child_ events.");let r=new L(e.childName,e.snapshotNode),i=new L(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Zu(t,e){return{eventCache:t,serverCache:e}}function Uo(t,e,n,r){return Zu(new In(e,n,r),t.serverCache)}function G0(t,e,n,r){return Zu(t.eventCache,new In(e,n,r))}function Pg(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function zr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Xp,qk=()=>(Xp||(Xp=new wt(zO)),Xp),nt=class t{constructor(e,n=qk()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return tt(e,(r,i)=>{n=n.set(new X(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Y(),value:this.value};if(U(e))return null;{let r=F(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(ie(e),n);return s!=null?{path:ve(new X(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(U(e))return this;{let n=F(e),r=this.children.get(n);return r!==null?r.subtree(ie(e)):new t(null)}}set(e,n){if(U(e))return new t(n,this.children);{let r=F(e),s=(this.children.get(r)||new t(null)).set(ie(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(U(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=F(e),r=this.children.get(n);if(r){let i=r.remove(ie(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(U(e))return this.value;{let n=F(e),r=this.children.get(n);return r?r.get(ie(e)):null}}setTree(e,n){if(U(e))return n;{let r=F(e),s=(this.children.get(r)||new t(null)).setTree(ie(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(Y(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ve(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Y(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(U(e))return null;{let s=F(e),o=this.children.get(s);return o?o.findOnPath_(ie(e),ve(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Y(),n)}foreachOnPath_(e,n,r){if(U(e))return this;{this.value&&r(n,this.value);let i=F(e),s=this.children.get(i);return s?s.foreachOnPath_(ie(e),ve(n,i),r):new t(null)}}foreach(e){this.foreach_(Y(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ve(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Pt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new nt(null))}};function jo(t,e,n){if(U(e))return new Pt(new nt(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=Xe(i,e);return s=s.updateChild(o,n),new Pt(t.writeTree_.set(i,s))}else{let i=new nt(n),s=t.writeTree_.setTree(e,i);return new Pt(s)}}}function t0(t,e,n){let r=t;return tt(n,(i,s)=>{r=jo(r,ve(e,i),s)}),r}function n0(t,e){if(U(e))return Pt.empty();{let n=t.writeTree_.setTree(e,new nt(null));return new Pt(n)}}function Mg(t,e){return Wr(t,e)!=null}function Wr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Xe(n.path,e)):null}function r0(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(de,(r,i)=>{e.push(new L(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new L(r,i.value))}),e}function Zn(t,e){if(U(e))return t;{let n=Wr(t,e);return n!=null?new Pt(new nt(n)):new Pt(t.writeTree_.subtree(e))}}function Og(t){return t.writeTree_.isEmpty()}function us(t,e){return K0(Y(),t.writeTree_,e)}function K0(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(m(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=K0(ve(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ve(t,".priority"),r)),n}}function am(t,e){return Z0(e,t)}function zk(t,e,n,r,i){m(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=jo(t.visibleWrites,e,n)),t.lastWriteId=r}function Wk(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function Gk(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);m(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&Kk(a,r.path)?i=!1:Nt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return Qk(t),!0;if(r.snap)t.visibleWrites=n0(t.visibleWrites,r.path);else{let a=r.children;tt(a,c=>{t.visibleWrites=n0(t.visibleWrites,ve(r.path,c))})}return!0}else return!1}function Kk(t,e){if(t.snap)return Nt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Nt(ve(t.path,n),e))return!0;return!1}function Qk(t){t.visibleWrites=Q0(t.allWrites,Yk,Y()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Yk(t){return t.visible}function Q0(t,e,n){let r=Pt.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)Nt(n,o)?(a=Xe(n,o),r=jo(r,a,s.snap)):Nt(o,n)&&(a=Xe(o,n),r=jo(r,Y(),s.snap.getChild(a)));else if(s.children){if(Nt(n,o))a=Xe(n,o),r=t0(r,a,s.children);else if(Nt(o,n))if(a=Xe(o,n),U(a))r=t0(r,Y(),s.children);else{let c=Or(s.children,F(a));if(c){let u=c.getChild(ie(a));r=jo(r,Y(),u)}}}else throw Mr("WriteRecord should have .snap or .children")}}return r}function Y0(t,e,n,r,i){if(!r&&!i){let s=Wr(t.visibleWrites,e);if(s!=null)return s;{let o=Zn(t.visibleWrites,e);if(Og(o))return n;if(n==null&&!Mg(o,Y()))return null;{let a=n||N.EMPTY_NODE;return us(o,a)}}}else{let s=Zn(t.visibleWrites,e);if(!i&&Og(s))return n;if(!i&&n==null&&!Mg(s,Y()))return null;{let o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Nt(u.path,e)||Nt(e,u.path))},a=Q0(t.allWrites,o,e),c=n||N.EMPTY_NODE;return us(a,c)}}}function Jk(t,e,n){let r=N.EMPTY_NODE,i=Wr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(de,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=Zn(t.visibleWrites,e);return n.forEachChild(de,(o,a)=>{let c=us(Zn(s,new X(o)),a);r=r.updateImmediateChild(o,c)}),r0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=Zn(t.visibleWrites,e);return r0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Zk(t,e,n,r,i){m(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=ve(e,n);if(Mg(t.visibleWrites,s))return null;{let o=Zn(t.visibleWrites,s);return Og(o)?i.getChild(n):us(o,i.getChild(n))}}function Xk(t,e,n,r){let i=ve(e,n),s=Wr(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=Zn(t.visibleWrites,i);return us(o,r.getNode().getImmediateChild(n))}else return null}function eF(t,e){return Wr(t.visibleWrites,e)}function tF(t,e,n,r,i,s,o){let a,c=Zn(t.visibleWrites,e),u=Wr(c,Y());if(u!=null)a=u;else if(n!=null)a=us(c,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let l=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),f=h.getNext();for(;f&&l.length<i;)d(f,r)!==0&&l.push(f),f=h.getNext();return l}else return[]}function nF(){return{visibleWrites:Pt.empty(),allWrites:[],lastWriteId:-1}}function $u(t,e,n,r){return Y0(t.writeTree,t.treePath,e,n,r)}function cm(t,e){return Jk(t.writeTree,t.treePath,e)}function i0(t,e,n,r){return Zk(t.writeTree,t.treePath,e,n,r)}function Hu(t,e){return eF(t.writeTree,ve(t.treePath,e))}function rF(t,e,n,r,i,s){return tF(t.writeTree,t.treePath,e,n,r,i,s)}function um(t,e,n){return Xk(t.writeTree,t.treePath,e,n)}function J0(t,e){return Z0(ve(t.treePath,e),t.writeTree)}function Z0(t,e){return{treePath:t,writeTree:e}}var kg=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;m(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),m(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Ho(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,$o(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,as(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Ho(r,e.snapshotNode,i.oldSnap));else throw Mr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var Fg=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},X0=new Fg,zo=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new In(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return um(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:zr(this.viewCache_),s=rF(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function iF(t){return{filter:t}}function sF(t,e){m(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),m(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function oF(t,e,n,r,i){let s=new kg,o,a;if(n.type===en.OVERWRITE){let u=n;u.source.fromUser?o=Lg(t,e,u.path,u.snap,r,i,s):(m(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!U(u.path),o=qu(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===en.MERGE){let u=n;u.source.fromUser?o=cF(t,e,u.path,u.children,r,i,s):(m(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=Vg(t,e,u.path,u.children,r,i,a,s))}else if(n.type===en.ACK_USER_WRITE){let u=n;u.revert?o=dF(t,e,u.path,r,i,s):o=uF(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===en.LISTEN_COMPLETE)o=lF(t,e,n.path,r,s);else throw Mr("Unknown operation type: "+n.type);let c=s.getChanges();return aF(e,o,c),{viewCache:o,changes:c}}function aF(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Pg(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(q0(Pg(e)))}}function eT(t,e,n,r,i,s){let o=e.eventCache;if(Hu(r,n)!=null)return e;{let a,c;if(U(n))if(m(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let u=zr(e),l=u instanceof N?u:N.EMPTY_NODE,d=cm(r,l);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let u=$u(r,zr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{let u=F(n);if(u===".priority"){m(Xn(n)===1,"Can't have a priority with additional path components");let l=o.getNode();c=e.serverCache.getNode();let d=i0(r,n,l,c);d!=null?a=t.filter.updatePriority(l,d):a=o.getNode()}else{let l=ie(n),d;if(o.isCompleteForChild(u)){c=e.serverCache.getNode();let h=i0(r,n,o.getNode(),c);h!=null?d=o.getNode().getImmediateChild(u).updateChild(l,h):d=o.getNode().getImmediateChild(u)}else d=um(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,l,i,s):a=o.getNode()}}return Uo(e,a,o.isFullyInitialized()||U(n),t.filter.filtersNodes())}}function qu(t,e,n,r,i,s,o,a){let c=e.serverCache,u,l=o?t.filter:t.filter.getIndexedFilter();if(U(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){let f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{let f=F(n);if(!c.isCompleteForPath(n)&&Xn(n)>1)return e;let g=ie(n),M=c.getNode().getImmediateChild(f).updateChild(g,r);f===".priority"?u=l.updatePriority(c.getNode(),M):u=l.updateChild(c.getNode(),f,M,g,X0,null)}let d=G0(e,u,c.isFullyInitialized()||U(n),l.filtersNodes()),h=new zo(i,d,s);return eT(t,d,n,i,h,a)}function Lg(t,e,n,r,i,s,o){let a=e.eventCache,c,u,l=new zo(i,e,s);if(U(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=Uo(e,u,!0,t.filter.filtersNodes());else{let d=F(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),c=Uo(e,u,a.isFullyInitialized(),a.isFiltered());else{let h=ie(n),f=a.getNode().getImmediateChild(d),g;if(U(h))g=r;else{let _=l.getCompleteChild(d);_!=null?F0(h)===".priority"&&_.getChild(V0(h)).isEmpty()?g=_:g=_.updateChild(h,r):g=N.EMPTY_NODE}if(f.equals(g))c=e;else{let _=t.filter.updateChild(a.getNode(),d,g,h,l,o);c=Uo(e,_,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function s0(t,e){return t.eventCache.isCompleteForChild(e)}function cF(t,e,n,r,i,s,o){let a=e;return r.foreach((c,u)=>{let l=ve(n,c);s0(e,F(l))&&(a=Lg(t,a,l,u,i,s,o))}),r.foreach((c,u)=>{let l=ve(n,c);s0(e,F(l))||(a=Lg(t,a,l,u,i,s,o))}),a}function o0(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Vg(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;U(n)?u=r:u=new nt(null).setTree(n,r);let l=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(l.hasChild(d)){let f=e.serverCache.getNode().getImmediateChild(d),g=o0(t,f,h);c=qu(t,c,new X(d),g,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{let f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!l.hasChild(d)&&!f){let g=e.serverCache.getNode().getImmediateChild(d),_=o0(t,g,h);c=qu(t,c,new X(d),_,i,s,o,a)}}),c}function uF(t,e,n,r,i,s,o){if(Hu(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(U(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return qu(t,e,n,c.getNode().getChild(n),i,s,a,o);if(U(n)){let u=new nt(null);return c.getNode().forEachChild(ts,(l,d)=>{u=u.set(new X(l),d)}),Vg(t,e,n,u,i,s,a,o)}else return e}else{let u=new nt(null);return r.foreach((l,d)=>{let h=ve(n,l);c.isCompleteForPath(h)&&(u=u.set(l,c.getNode().getChild(h)))}),Vg(t,e,n,u,i,s,a,o)}}function lF(t,e,n,r,i){let s=e.serverCache,o=G0(e,s.getNode(),s.isFullyInitialized()||U(n),s.isFiltered());return eT(t,o,n,r,X0,i)}function dF(t,e,n,r,i,s){let o;if(Hu(r,n)!=null)return e;{let a=new zo(r,e,i),c=e.eventCache.getNode(),u;if(U(n)||F(n)===".priority"){let l;if(e.serverCache.isFullyInitialized())l=$u(r,zr(e));else{let d=e.serverCache.getNode();m(d instanceof N,"serverChildren would be complete if leaf node"),l=cm(r,d)}l=l,u=t.filter.updateFullNode(c,l,s)}else{let l=F(n),d=um(r,l,e.serverCache);d==null&&e.serverCache.isCompleteForChild(l)&&(d=c.getImmediateChild(l)),d!=null?u=t.filter.updateChild(c,l,d,ie(n),a,s):e.eventCache.getNode().hasChild(l)?u=t.filter.updateChild(c,l,N.EMPTY_NODE,ie(n),a,s):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=$u(r,zr(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Hu(r,Y())!=null,Uo(e,u,o,t.filter.filtersNodes())}}var Ug=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new qo(r.getIndex()),s=Lk(r);this.processor_=iF(s);let o=n.serverCache,a=n.eventCache,c=i.updateFullNode(N.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(N.EMPTY_NODE,a.getNode(),null),l=new In(c,o.isFullyInitialized(),i.filtersNodes()),d=new In(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Zu(d,l),this.eventGenerator_=new Ng(this.query_)}get query(){return this.query_}};function hF(t){return t.viewCache_.serverCache.getNode()}function fF(t,e){let n=zr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!U(e)&&!n.getImmediateChild(F(e)).isEmpty())?n.getChild(e):null}function a0(t){return t.eventRegistrations_.length===0}function pF(t,e){t.eventRegistrations_.push(e)}function c0(t,e,n){let r=[];if(n){m(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){let o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function u0(t,e,n,r){e.type===en.MERGE&&e.source.queryId!==null&&(m(zr(t.viewCache_),"We should always have a full cache before handling merges"),m(Pg(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=oF(t.processor_,i,e,n,r);return sF(t.processor_,s.viewCache),m(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,tT(t,s.changes,s.viewCache.eventCache.getNode(),null)}function gF(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(de,(s,o)=>{r.push(as(s,o))}),n.isFullyInitialized()&&r.push(q0(n.getNode())),tT(t,r,n.getNode(),e)}function tT(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return Bk(t.eventGenerator_,e,n,i)}var zu,jg=class{constructor(){this.views=new Map}};function mF(t){m(!zu,"__referenceConstructor has already been defined"),zu=t}function yF(){return m(zu,"Reference.ts has not been loaded"),zu}function _F(t){return t.views.size===0}function lm(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return m(s!=null,"SyncTree gave us an op for an invalid query."),u0(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(u0(o,e,n,r));return s}}function vF(t,e,n,r,i){let s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=$u(n,i?r:null),c=!1;a?c=!0:r instanceof N?(a=cm(n,r),c=!1):(a=N.EMPTY_NODE,c=!1);let u=Zu(new In(a,c,!1),new In(r,i,!1));return new Ug(e,u)}return o}function wF(t,e,n,r,i,s){let o=vF(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),pF(o,n),gF(o,n)}function IF(t,e,n,r){let i=e._queryIdentifier,s=[],o=[],a=er(t);if(i==="default")for(let[c,u]of t.views.entries())o=o.concat(c0(u,n,r)),a0(u)&&(t.views.delete(c),u.query._queryParams.loadsAllData()||s.push(u.query));else{let c=t.views.get(i);c&&(o=o.concat(c0(c,n,r)),a0(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||s.push(c.query)))}return a&&!er(t)&&s.push(new(yF())(e._repo,e._path)),{removed:s,events:o}}function nT(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ns(t,e){let n=null;for(let r of t.views.values())n=n||fF(r,e);return n}function rT(t,e){if(e._queryParams.loadsAllData())return Xu(t);{let r=e._queryIdentifier;return t.views.get(r)}}function iT(t,e){return rT(t,e)!=null}function er(t){return Xu(t)!=null}function Xu(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Wu;function EF(t){m(!Wu,"__referenceConstructor has already been defined"),Wu=t}function CF(){return m(Wu,"Reference.ts has not been loaded"),Wu}var TF=1,Gu=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new nt(null),this.pendingWriteTree_=nF(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function sT(t,e,n,r,i){return zk(t.pendingWriteTree_,e,n,r,i),i?Jo(t,new cs(W0(),e,n)):[]}function $r(t,e,n=!1){let r=Wk(t.pendingWriteTree_,e);if(Gk(t.pendingWriteTree_,e)){let s=new nt(null);return r.snap!=null?s=s.set(Y(),!0):tt(r.children,o=>{s=s.set(new X(o),!0)}),Jo(t,new xg(r.path,s,n))}else return[]}function el(t,e,n){return Jo(t,new cs(sm(),e,n))}function DF(t,e,n){let r=nt.fromObject(n);return Jo(t,new Bu(sm(),e,r))}function bF(t,e){return Jo(t,new ju(sm(),e))}function SF(t,e,n){let r=hm(t,n);if(r){let i=fm(r),s=i.path,o=i.queryId,a=Xe(s,e),c=new ju(om(o),a);return pm(t,s,c)}else return[]}function Bg(t,e,n,r,i=!1){let s=e._path,o=t.syncPointTree_.get(s),a=[];if(o&&(e._queryIdentifier==="default"||iT(o,e))){let c=IF(o,e,n,r);_F(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));let u=c.removed;if(a=c.events,!i){let l=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,f)=>er(f));if(l&&!d){let h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){let f=xF(h);for(let g=0;g<f.length;++g){let _=f[g],M=_.query,$=cT(t,_);t.listenProvider_.startListening(Bo(M),Ku(t,M),$.hashFn,$.onComplete)}}}!d&&u.length>0&&!r&&(l?t.listenProvider_.stopListening(Bo(e),null):u.forEach(h=>{let f=t.queryToTagMap.get(tl(h));t.listenProvider_.stopListening(Bo(h),f)}))}NF(t,u)}return a}function AF(t,e,n,r){let i=hm(t,r);if(i!=null){let s=fm(i),o=s.path,a=s.queryId,c=Xe(o,e),u=new cs(om(a),c,n);return pm(t,o,u)}else return[]}function RF(t,e,n,r){let i=hm(t,r);if(i){let s=fm(i),o=s.path,a=s.queryId,c=Xe(o,e),u=nt.fromObject(n),l=new Bu(om(a),c,u);return pm(t,o,l)}else return[]}function l0(t,e,n,r=!1){let i=e._path,s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{let g=Xe(h,i);s=s||ns(f,g),o=o||er(f)});let a=t.syncPointTree_.get(i);a?(o=o||er(a),s=s||ns(a,Y())):(a=new jg,t.syncPointTree_=t.syncPointTree_.set(i,a));let c;s!=null?c=!0:(c=!1,s=N.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,g)=>{let _=ns(g,Y());_&&(s=s.updateImmediateChild(f,_))}));let u=iT(a,e);if(!u&&!e._queryParams.loadsAllData()){let h=tl(e);m(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=PF();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}let l=am(t.pendingWriteTree_,i),d=wF(a,e,n,l,s,c);if(!u&&!o&&!r){let h=rT(a,e);d=d.concat(MF(t,e,h))}return d}function dm(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let c=Xe(o,e),u=ns(a,c);if(u)return u});return Y0(i,e,s,n,!0)}function Jo(t,e){return oT(e,t.syncPointTree_,null,am(t.pendingWriteTree_,Y()))}function oT(t,e,n,r){if(U(t.path))return aT(t,e,n,r);{let i=e.get(Y());n==null&&i!=null&&(n=ns(i,Y()));let s=[],o=F(t.path),a=t.operationForChild(o),c=e.children.get(o);if(c&&a){let u=n?n.getImmediateChild(o):null,l=J0(r,o);s=s.concat(oT(a,c,u,l))}return i&&(s=s.concat(lm(i,t,r,n))),s}}function aT(t,e,n,r){let i=e.get(Y());n==null&&i!=null&&(n=ns(i,Y()));let s=[];return e.children.inorderTraversal((o,a)=>{let c=n?n.getImmediateChild(o):null,u=J0(r,o),l=t.operationForChild(o);l&&(s=s.concat(aT(l,a,c,u)))}),i&&(s=s.concat(lm(i,t,r,n))),s}function cT(t,e){let n=e.query,r=Ku(t,n);return{hashFn:()=>(hF(e)||N.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?SF(t,n._path,r):bF(t,n._path);{let s=KO(i,n);return Bg(t,n,null,s)}}}}function Ku(t,e){let n=tl(e);return t.queryToTagMap.get(n)}function tl(t){return t._path.toString()+"$"+t._queryIdentifier}function hm(t,e){return t.tagToQueryMap.get(e)}function fm(t){let e=t.indexOf("$");return m(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new X(t.substr(0,e))}}function pm(t,e,n){let r=t.syncPointTree_.get(e);m(r,"Missing sync point for query tag that we're tracking");let i=am(t.pendingWriteTree_,e);return lm(r,n,i,null)}function xF(t){return t.fold((e,n,r)=>{if(n&&er(n))return[Xu(n)];{let i=[];return n&&(i=nT(n)),tt(r,(s,o)=>{i=i.concat(o)}),i}})}function Bo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(CF())(t._repo,t._path):t}function NF(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=tl(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function PF(){return TF++}function MF(t,e,n){let r=e._path,i=Ku(t,e),s=cT(t,n),o=t.listenProvider_.startListening(Bo(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)m(!er(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((u,l,d)=>{if(!U(u)&&l&&er(l))return[Xu(l).query];{let h=[];return l&&(h=h.concat(nT(l).map(f=>f.query))),tt(d,(f,g)=>{h=h.concat(g)}),h}});for(let u=0;u<c.length;++u){let l=c[u];t.listenProvider_.stopListening(Bo(l),Ku(t,l))}}return o}var $g=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Hg=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=ve(this.path_,e);return new t(this.syncTree_,n)}node(){return dm(this.syncTree_,this.path_)}},OF=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},d0=function(t,e,n){if(!t||typeof t!="object")return t;if(m(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return kF(t[".sv"],e,n);if(typeof t[".sv"]=="object")return FF(t[".sv"],e);m(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},kF=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:m(!1,"Unexpected server value: "+t)}},FF=function(t,e,n){t.hasOwnProperty("increment")||m(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&m(!1,"Unexpected increment value: "+r);let i=e.node();if(m(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},LF=function(t,e,n,r){return gm(e,new Hg(n,t),r)},uT=function(t,e,n){return gm(t,new $g(e),n)};function gm(t,e,n){let r=t.getPriority().val(),i=d0(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=d0(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new ss(a,Ne(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ss(i))),o.forEachChild(de,(a,c)=>{let u=gm(c,e.getImmediateChild(a),n);u!==c&&(s=s.updateImmediateChild(a,u))}),s}}var Wo=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function mm(t,e){let n=e instanceof X?e:new X(e),r=t,i=F(n);for(;i!==null;){let s=Or(r.node.children,i)||{children:{},childCount:0};r=new Wo(i,r,s),n=ie(n),i=F(n)}return r}function hs(t){return t.node.value}function lT(t,e){t.node.value=e,qg(t)}function dT(t){return t.node.childCount>0}function VF(t){return hs(t)===void 0&&!dT(t)}function nl(t,e){tt(t.node.children,(n,r)=>{e(new Wo(n,t,r))})}function hT(t,e,n,r){n&&!r&&e(t),nl(t,i=>{hT(i,e,!0,r)}),n&&r&&e(t)}function UF(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Zo(t){return new X(t.parent===null?t.name:Zo(t.parent)+"/"+t.name)}function qg(t){t.parent!==null&&jF(t.parent,t.name,t)}function jF(t,e,n){let r=VF(n),i=Qt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,qg(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,qg(t))}var BF=/[\[\].#$\/\u0000-\u001F\u007F]/,$F=/[\[\].#$\u0000-\u001F\u007F]/,eg=10*1024*1024,fT=function(t){return typeof t=="string"&&t.length!==0&&!BF.test(t)},pT=function(t){return typeof t=="string"&&t.length!==0&&!$F.test(t)},HF=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),pT(t)};var qF=function(t,e,n,r){r&&e===void 0||ym(Du(t,"value"),e,n)},ym=function(t,e,n){let r=n instanceof X?new pg(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+jr(r));if(typeof e=="function")throw new Error(t+"contains a function "+jr(r)+" with contents = "+e.toString());if(_0(e))throw new Error(t+"contains "+e.toString()+" "+jr(r));if(typeof e=="string"&&e.length>eg/3&&So(e)>eg)throw new Error(t+"contains a string greater than "+eg+" utf8 bytes "+jr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(tt(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!fT(o)))throw new Error(t+" contains an invalid key ("+o+") "+jr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Ck(r,o),ym(t,a,r),Tk(r)}),i&&s)throw new Error(t+' contains ".value" child '+jr(r)+" in addition to actual children.")}};var gT=function(t,e,n,r){if(!(r&&n===void 0)&&!pT(n))throw new Error(Du(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},zF=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gT(t,e,n,r)},WF=function(t,e){if(F(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},GF=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!fT(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!HF(n))throw new Error(Du(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var zg=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function _m(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!nm(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function mT(t,e,n){_m(t,n),yT(t,r=>nm(r,e))}function En(t,e,n){_m(t,n),yT(t,r=>Nt(r,e)||Nt(e,r))}function yT(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(KF(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function KF(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Hr&&je("event: "+n.toString()),ds(r)}}}var QF="repo_interrupt",YF=25,Wg=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Uu(),this.transactionQueueTree_=new Wo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function JF(t,e,n){if(t.stats_=tm(t.repoInfo_),t.forceRestClient_||ZO())t.server_=new Dg(t.repoInfo_,(r,i,s,o)=>{h0(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>f0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_e(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new rm(t.repoInfo_,e,(r,i,s,o)=>{h0(t,r,i,s,o)},r=>{f0(t,r)},r=>{XF(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=ek(t.repoInfo_,()=>new Rg(t.stats_,t.server_)),t.infoData_=new bg,t.infoSyncTree_=new Gu({startListening:(r,i,s,o)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=el(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),wm(t,"connected",!1),t.serverSyncTree_=new Gu({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,c)=>{let u=o(a,c);En(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function ZF(t){let n=t.infoData_.getNode(new X(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function vm(t){return OF({timestamp:ZF(t)})}function h0(t,e,n,r,i){t.dataUpdateCount++;let s=new X(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let c=bo(n,u=>Ne(u));o=RF(t.serverSyncTree_,s,c,i)}else{let c=Ne(n);o=AF(t.serverSyncTree_,s,c,i)}else if(r){let c=bo(n,u=>Ne(u));o=DF(t.serverSyncTree_,s,c)}else{let c=Ne(n);o=el(t.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=rl(t,s)),En(t.eventQueue_,a,o)}function f0(t,e){wm(t,"connected",e),e===!1&&tL(t)}function XF(t,e){tt(e,(n,r)=>{wm(t,n,r)})}function wm(t,e,n){let r=new X("/.info/"+e),i=Ne(n);t.infoData_.updateSnapshot(r,i);let s=el(t.infoSyncTree_,r,i);En(t.eventQueue_,r,s)}function _T(t){return t.nextWriteId_++}function eL(t,e,n,r,i){Im(t,"set",{path:e.toString(),value:n,priority:r});let s=vm(t),o=Ne(n,r),a=dm(t.serverSyncTree_,e),c=uT(o,a,s),u=_T(t),l=sT(t.serverSyncTree_,e,c,u,!0);_m(t.eventQueue_,l),t.server_.put(e.toString(),o.val(!0),(h,f)=>{let g=h==="ok";g||et("set at "+e+" failed: "+h);let _=$r(t.serverSyncTree_,u,!g);En(t.eventQueue_,e,_),iL(t,i,h,f)});let d=CT(t,e);rl(t,d),En(t.eventQueue_,d,[])}function tL(t){Im(t,"onDisconnectEvents");let e=vm(t),n=Uu();Sg(t.onDisconnect_,Y(),(i,s)=>{let o=LF(i,s,t.serverSyncTree_,e);z0(n,i,o)});let r=[];Sg(n,Y(),(i,s)=>{r=r.concat(el(t.serverSyncTree_,i,s));let o=CT(t,i);rl(t,o)}),t.onDisconnect_=Uu(),En(t.eventQueue_,Y(),r)}function nL(t,e,n){let r;F(e._path)===".info"?r=l0(t.infoSyncTree_,e,n):r=l0(t.serverSyncTree_,e,n),mT(t.eventQueue_,e._path,r)}function p0(t,e,n){let r;F(e._path)===".info"?r=Bg(t.infoSyncTree_,e,n):r=Bg(t.serverSyncTree_,e,n),mT(t.eventQueue_,e._path,r)}function rL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(QF)}function Im(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),je(n,...e)}function iL(t,e,n,r){e&&ds(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,e(o)}})}function vT(t,e,n){return dm(t.serverSyncTree_,e,n)||N.EMPTY_NODE}function Em(t,e=t.transactionQueueTree_){if(e||il(t,e),hs(e)){let n=IT(t,e);m(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&sL(t,Zo(e),n)}else dT(e)&&nl(e,n=>{Em(t,n)})}function sL(t,e,n){let r=n.map(u=>u.currentWriteId),i=vT(t,e,r),s=i,o=i.hash();for(let u=0;u<n.length;u++){let l=n[u];m(l.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;let d=Xe(e,l.path);s=s.updateChild(d,l.currentOutputSnapshotRaw)}let a=s.val(!0),c=e;t.server_.put(c.toString(),a,u=>{Im(t,"transaction put response",{path:c.toString(),status:u});let l=[];if(u==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,l=l.concat($r(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();il(t,mm(t.transactionQueueTree_,e)),Em(t,t.transactionQueueTree_),En(t.eventQueue_,e,l);for(let h=0;h<d.length;h++)ds(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{et("transaction at "+c.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}rl(t,e)}},o)}function rl(t,e){let n=wT(t,e),r=Zo(n),i=IT(t,n);return oL(t,i,r),r}function oL(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],u=Xe(n,c.path),l=!1,d;if(m(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)l=!0,d=c.abortReason,i=i.concat($r(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=YF)l=!0,d="maxretry",i=i.concat($r(t.serverSyncTree_,c.currentWriteId,!0));else{let h=vT(t,c.path,o);c.currentInputSnapshot=h;let f=e[a].update(h.val());if(f!==void 0){ym("transaction failed: Data returned ",f,c.path);let g=Ne(f);typeof f=="object"&&f!=null&&Qt(f,".priority")||(g=g.updatePriority(h.getPriority()));let M=c.currentWriteId,$=vm(t),Se=uT(g,h,$);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=Se,c.currentWriteId=_T(t),o.splice(o.indexOf(M),1),i=i.concat(sT(t.serverSyncTree_,c.path,Se,c.currentWriteId,c.applyLocally)),i=i.concat($r(t.serverSyncTree_,M,!0))}else l=!0,d="nodata",i=i.concat($r(t.serverSyncTree_,c.currentWriteId,!0))}En(t.eventQueue_,n,i),i=[],l&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}il(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ds(r[a]);Em(t,t.transactionQueueTree_)}function wT(t,e){let n,r=t.transactionQueueTree_;for(n=F(e);n!==null&&hs(r)===void 0;)r=mm(r,n),e=ie(e),n=F(e);return r}function IT(t,e){let n=[];return ET(t,e,n),n.sort((r,i)=>r.order-i.order),n}function ET(t,e,n){let r=hs(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);nl(e,i=>{ET(t,i,n)})}function il(t,e){let n=hs(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,lT(e,n.length>0?n:void 0)}nl(e,r=>{il(t,r)})}function CT(t,e){let n=Zo(wT(t,e)),r=mm(t.transactionQueueTree_,e);return UF(r,i=>{tg(t,i)}),tg(t,r),hT(r,i=>{tg(t,i)}),n}function tg(t,e){let n=hs(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(m(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(m(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat($r(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?lT(e,void 0):n.length=s+1,En(t.eventQueue_,Zo(e),i);for(let o=0;o<r.length;o++)ds(r[o])}}function aL(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function cL(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):et(`Invalid query segment '${n}' in query '${t}'`)}return e}var g0=function(t,e){let n=uL(t),r=n.namespace;n.domain==="firebase.com"&&wn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&wn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||HO();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Nu(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new X(n.pathString)}},uL=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let l=t.indexOf("/");l===-1&&(l=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(l,d)),l<d&&(i=aL(t.substring(l,d)));let h=cL(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;let f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var Qu=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+_e(this.snapshot.exportVal())}},Yu=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Gg=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return m(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Kg=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return U(this._path)?null:F0(this._path)}get ref(){return new Cn(this._repo,this._path)}get _queryIdentifier(){let e=XC(this._queryParams),n=em(e);return n==="{}"?"default":n}get _queryObject(){return XC(this._queryParams)}isEqual(e){if(e=Je(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=nm(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Ek(this._path)}};var Cn=class t extends Kg{constructor(e,n){super(e,n,new Tg,!1)}get parent(){let e=V0(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Ju=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new X(e),r=Go(this.ref,e);return new t(this._node.getChild(n),r,de)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,Go(this.ref,r),de)))}hasChild(e){let n=new X(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function tr(t,e){return t=Je(t),t._checkNotDeleted("ref"),e!==void 0?Go(t._root,e):t._root}function Go(t,e){return t=Je(t),F(t._path)===null?zF("child","path",e,!1):gT("child","path",e,!1),new Cn(t._repo,ve(t._path,e))}function Cm(t,e){t=Je(t),WF("set",t._path),qF("set",e,t._path,!1);let n=new Qn;return eL(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}var Qg=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new Qu("value",this,new Ju(e.snapshotNode,new Cn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Yu(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Yg=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Yu(this,e,n):null}createEvent(e,n){m(e.childName!=null,"Child events should have a childName.");let r=Go(new Cn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Qu(e.type,this,new Ju(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function lL(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){let c=n,u=(l,d)=>{p0(t._repo,t,a),c(l,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}let o=new Gg(n,s||void 0),a=e==="value"?new Qg(o):new Yg(e,o);return nL(t._repo,t,a),()=>p0(t._repo,t,a)}function Gr(t,e,n,r){return lL(t,"value",e,n,r)}mF(Cn);EF(Cn);var dL="FIREBASE_DATABASE_EMULATOR_HOST",Jg={},hL=!1;function fL(t,e,n,r){t.repoInfo_=new Nu(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function pL(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||wn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),je("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=g0(s,i),a=o.repoInfo,c,u;typeof process<"u"&&process.env&&(u=process.env[dL]),u?(c=!0,s=`http://${u}?ns=${a.namespace}`,o=g0(s,i),a=o.repoInfo):c=!o.repoInfo.secure;let l=i&&c?new Vo(Vo.OWNER):new ag(t.name,t.options,e);GF("Invalid Firebase Database URL",o),U(o.path)||wn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=mL(a,t,l,new og(t.name,n));return new Zg(d,t)}function gL(t,e){let n=Jg[e];(!n||n[t.key]!==t)&&wn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),rL(t),delete n[t.key]}function mL(t,e,n,r){let i=Jg[e.name];i||(i={},Jg[e.name]=i);let s=i[t.toURLString()];return s&&wn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Wg(t,hL,n,r),i[t.toURLString()]=s,s}var Zg=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(JF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Cn(this._repo,Y())),this._rootInternal}_delete(){return this._rootInternal!==null&&(gL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&wn("Cannot call "+e+" on a deleted database.")}};function nr(t=Jn(),e){let n=Ur(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=Eu("database");r&&TT(n,...r)}return n}function TT(t,e,n,r={}){t=Je(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&wn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&wn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Vo(Vo.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:Cu(r.mockUserToken,t.app.options.projectId);s=new Vo(o)}fL(i,e,n,s)}function yL(t){jO(Xt),Zt(new Ze("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return pL(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ue(FC,LC,t),ue(FC,LC,"esm2017")}rm.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};rm.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};yL();var sl=(()=>{let e=class e{constructor(){}writeTittleData(r){let i=nr(),s=tr(i,"mangas/"+r.titleId);Cm(s,{description:r.description,image:r.image,last_chapter:r.last_chapter,last_update:r.last_update,name:r.name,status:r.status,total_chapter:r.total_chapter,type:r.type,update_chapter:r.update_chapter})}readTittleData(r){return new j(i=>{let s=nr(),o=tr(s,"mangas/"+r),a=Gr(o,c=>{let u=c.val();i.next(u)});return{unsubscribe(){a()}}})}readAddTittlesData(){let r=[],i=[],s=nr(),o=tr(s,"mangas");return Gr(o,a=>{r=a.val();for(let c=0;c<r.length;c++)i.push({titleId:c.toString(),description:r[c].description,image:r[c].image,last_chapter:r[c].last_chapter,last_update:r[c].last_update,name:r[c].name,status:r[c].status,total_chapter:r[c].total_chapter,type:r[c].type,update_chapter:r[c].update_chapter});console.log(i)}),i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vL(t,e){if(t&1&&(C(0,"div",18)(1,"div",19)(2,"div",4),ae(3,"img",20),S(),C(4,"div",21)(5,"h3",10),ne(6),S(),C(7,"div",6)(8,"span",7),ne(9),S(),C(10,"span",8),ne(11),S()(),C(12,"div",22)(13,"span",23),ne(14),S(),ae(15,"div",24),C(16,"div",25),ne(17),S()()()()()),t&2){let n=e.$implicit;br("routerLink","/title/",n.titleId,""),Z(3),br("src","/assets/test-list/",n.image,"",Dr),Z(3),st(n.name),Z(3),st(n.type),Z(2),st(n.last_chapter),Z(3),st(n.status),Z(3),st(n.last_update)}}function wL(t,e){if(t&1&&(C(0,"div",16),zt(1,vL,18,9,"div",17),S()),t&2){let n=GI();Z(),ze("ngForOf",n.titles())}}var Tm=(()=>{let e=class e{constructor(r){this.titleService=r,this.titles=Wc(null)}ngOnInit(){this.titles.set(this.titleService.readAddTittlesData()),console.log(this.titles())}};e.\u0275fac=function(i){return new(i||e)(Q(sl))},e.\u0275cmp=Ve({type:e,selectors:[["bido-titleslist"]],standalone:!0,features:[Ue],decls:25,vars:1,consts:[[1,"background_preview"],[1,"blured"],[1,"container"],[1,"intro"],[1,"cover"],["alt","2","src","/assets/test-list/MHA_Volume_Cover.webp"],[1,"tags"],[1,"tag","type"],[1,"tag","last"],[1,"info"],[1,"info_name"],[1,"info_descr"],["routerLink","/chapter/mah_420",1,"all"],["routerLink","/title/0"],[1,"previous"],["class","items",4,"ngIf"],[1,"items"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],[1,"item"],["alt","2",3,"src"],[1,"content"],[1,"detail"],[1,"status"],[1,"line"],[1,"time"]],template:function(i,s){i&1&&(C(0,"div",0),ae(1,"div",1),C(2,"div",2)(3,"div",3)(4,"div",4),ae(5,"img",5),S(),C(6,"div",6)(7,"span",7),ne(8,"\u041C\u0430\u043D\u0491\u0430"),S(),C(9,"span",8),ne(10,"\u0420\u043E\u0437\u0434\u0456\u043B: 420"),S()()(),C(11,"div",9)(12,"h3",10),ne(13,"\u041C\u043E\u044F \u0413\u0435\u0440\u043E\u0439\u0441\u044C\u043A\u0430 \u0410\u043A\u0430\u0434\u0435\u043C\u0456\u044F"),S(),C(14,"div",11),ne(15,"\u041B\u044E\u0434\u0438 \u043D\u0435 \u043D\u0430\u0440\u043E\u0434\u0436\u0443\u044E\u0442\u044C\u0441\u044F \u0440\u0456\u0432\u043D\u0438\u043C\u0438. \u0406\u0437\u0443\u043A\u0443 \u041C\u0456\u0434\u043E\u0440\u0456\u044F \u0443\u0441\u0432\u0456\u0434\u043E\u043C\u0438\u0432 \u0446\u0435 \u0449\u0435 \u0443 \u0447\u043E\u0442\u0438\u0440\u044C\u043E\u0445\u0440\u0456\u0447\u043D\u043E\u043C\u0443 \u0432\u0456\u0446\u0456. \u0422\u0430 \u0446\u0435 \u043D\u0435 \u0437\u0430\u0432\u0430\u0434\u0438\u0442\u044C \u0439\u043E\u043C\u0443 \u0437\u0434\u0456\u0439\u0441\u043D\u0438\u0442\u0438 \u0441\u0432\u043E\u044E \u043C\u0440\u0456\u044E \u2014 \u0441\u0442\u0430\u0442\u0438 \u0432\u0435\u043B\u0438\u043A\u0438\u043C \u0433\u0435\u0440\u043E\u0454\u043C, \u044F\u043A \u043B\u0435\u0433\u0435\u043D\u0434\u0430\u0440\u043D\u0438\u0439 \u0412\u0441\u0435\u043C\u043E\u0433\u0443\u0442\u043D\u0456\u0439. "),S()(),C(16,"a",12),ne(17,"\u0427\u0438\u0442\u0430\u0442\u0438 \u043D\u043E\u0432\u0438\u0439 \u0440\u043E\u0437\u0434\u0456\u043B"),S(),C(18,"a",13),ne(19,"\u0423\u0441\u0456 \u0440\u043E\u0437\u0434\u0456\u043B\u0438"),S()()(),C(20,"div",14)(21,"div",2)(22,"h2",10),ne(23,"\u041E\u0441\u0442\u0430\u043D\u043D\u0456 \u043E\u043D\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),S(),zt(24,wL,2,1,"div",15),S()()),i&2&&(Z(24),ze("ngIf",s.titles()))},dependencies:[Zc,vu,Xc],styles:[".background_preview[_ngcontent-%COMP%]{width:100vw}.blured[_ngcontent-%COMP%]{width:100%;height:80vh;opacity:60%;position:absolute;z-index:-1;-webkit-transition:opacity .3s ease-in-out;-moz-transition:opacity .3s ease-in-out;transition:opacity .3s ease-in-out;background:linear-gradient(180deg,rgba(0,0,0,0) 0%,var(--background) 80.27%),url(/assets/test-list/MHA_Volume_Cover.webp),#d3d3d3 no-repeat;background-size:cover;background-position:50% center;filter:blur(10px)}.container[_ngcontent-%COMP%]{padding:100px 20px 20px;display:flex;flex-direction:column;align-items:flex-start}.intro[_ngcontent-%COMP%]{display:flex}.tags[_ngcontent-%COMP%]{padding:0 20px;display:flex;flex-flow:column wrap;gap:10px;align-items:flex-start;color:#e6f5fd;font-family:UZSansB;font-weight:400}.tag[_ngcontent-%COMP%]{display:inline-block;padding:8px 6px 6px;margin:2px;font-size:14px;line-height:6px;background:var(--accent);border-radius:5px}.intro[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;border-radius:5px}.background_preview[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{outline:none;text-decoration:none;color:var(--background);background:var(--primary);margin:15px 0;padding:7px 19px;border-radius:5px;box-shadow:0 0 80px -5px var(--primary);font-family:UZSansB;font-weight:400}.background_preview[_ngcontent-%COMP%]   .all[_ngcontent-%COMP%]{margin-bottom:0;color:#f4f9fb;background:var(--secondary);box-shadow:0 0 80px -5px var(--secondary)}.previous[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 20px}.items[_ngcontent-%COMP%]{display:grid;gap:36px 15px;grid-template-columns:repeat(auto-fill,minmax(210px,1fr))}.item[_ngcontent-%COMP%]{background:var(--background);-webkit-box-shadow:0px 9px 19px -10px var(--text-3);box-shadow:0 9px 19px -10px var(--text-3);position:relative;padding-bottom:40px}.item[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:auto;width:100%}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;margin-top:10px;z-index:2;bottom:2%;background:linear-gradient(180deg,rgba(0,0,0,0) 65%,var(--background) 90%);width:100%;height:100%;align-content:flex-end;justify-content:flex-end}.content[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{flex-flow:row wrap}.item[_ngcontent-%COMP%]   .info_name[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%], .detail[_ngcontent-%COMP%]{padding:0 8px;margin:2px 0}.detail[_ngcontent-%COMP%]{align-self:center;display:grid;grid-template-columns:.5fr 3fr 1fr;align-items:center;width:90%;font-size:14px;color:var(--gray-400);font-family:UZSansB;font-weight:400}.dot[_ngcontent-%COMP%]{display:inline-block;background:var(--gray-400);margin:0 7px;width:5px;height:5px;border-radius:10px}.line[_ngcontent-%COMP%]{border-bottom:dashed var(--gray-400) 1px;height:1px;margin:6px 10px 0;opacity:30%}.time[_ngcontent-%COMP%]{white-space:nowrap}"]});let t=e;return t})();var ol=(()=>{let e=class e{constructor(){this.currentPageIndexSubject=new pe(0),this.currentPageIndex$=this.currentPageIndexSubject.asObservable()}getAllPagesChapter(){return["/assets/test-webp-chapter/bnha_420_a_001-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_002-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_003-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_004-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_005-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_006-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_007-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_008-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_009-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_010-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_011-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_012-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_013-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_014-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_015.webp"]}setCurrentPageIndex(r){this.currentPageIndexSubject.next(r)}getAllPagesCount(){return this.getAllPagesChapter().length}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var IL=t=>({rotated:t}),bT=(()=>{let e=class e{refreshPages(){this.rotatin=!this.rotatin}constructor(r){this.chapterService=r,this.rotatin=!1,this.currentPageIndex=1,this.name="\u041C\u043E\u044F \u0433\u0435\u0440\u043E\u0439\u0441\u044C\u043A\u0430 \u0430\u043A\u0430\u0434\u0435\u043C\u0456\u044F 420",this.pages=["\u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430 1","\u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430 2","\u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430 3"],this.allPages=this.chapterService.getAllPagesCount()}ngOnInit(){this.chapterService.currentPageIndex$.subscribe(r=>{this.currentPageIndex=r})}};e.\u0275fac=function(i){return new(i||e)(Q(ol))},e.\u0275cmp=Ve({type:e,selectors:[["app-navbar"]],standalone:!0,features:[Ue],decls:11,vars:5,consts:[[1,"nav-content"],[1,"chapters_button"],["viewBox","3 3 18 18"],["d","M4 7a1 1 0 0 1 1-1h1a1 1 0 0 1 0 2H5a1 1 0 0 1-1-1zm5 0a1 1 0 0 1 1-1h9a1 1 0 1 1 0 2h-9a1 1 0 0 1-1-1zm-5 5a1 1 0 0 1 1-1h1a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1zm5 0a1 1 0 0 1 1-1h9a1 1 0 1 1 0 2h-9a1 1 0 0 1-1-1zm-5 5a1 1 0 0 1 1-1h1a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1zm5 0a1 1 0 0 1 1-1h9a1 1 0 1 1 0 2h-9a1 1 0 0 1-1-1z"],[1,"pages"],[1,"reload_button",3,"click"],["viewBox","0 0 24 24",1,"reload_arrow",3,"ngClass"],["d","M14.55 22.42C14.22 22.42 13.91 22.2 13.82 21.86C13.72 21.46 13.95 21.05 14.35 20.94C18.41 19.87 21.24 16.19 21.24 11.99C21.24 6.89 17.09 2.74 11.99 2.74C7.66 2.74 4.82 5.27 3.49 6.8H6.43C6.84 6.8 7.18 7.14 7.18 7.55C7.18 7.96 6.86 8.31 6.44 8.31H2.01C1.94 8.31 1.87 8.3 1.8 8.28C1.71 8.25 1.63 8.21 1.56 8.16C1.47 8.1 1.4 8.02 1.35 7.93C1.3 7.83 1.26 7.73 1.25 7.62C1.25 7.59 1.25 7.57 1.25 7.54V3C1.25 2.59 1.59 2.25 2 2.25C2.41 2.25 2.75 2.59 2.75 3V5.39C4.38 3.64 7.45 1.25 12 1.25C17.93 1.25 22.75 6.07 22.75 12C22.75 16.88 19.46 21.16 14.74 22.4C14.68 22.41 14.61 22.42 14.55 22.42Z"],["d","M11.29 22.73C11.27 22.73 11.24 22.73 11.22 22.72C10.15 22.65 9.1 22.41 8.1 22.02C7.81 21.91 7.62 21.62 7.62 21.31C7.62 21.22 7.64 21.13 7.67 21.05C7.82 20.67 8.26 20.47 8.64 20.62C9.5 20.96 10.41 21.16 11.33 21.23H11.34C11.74 21.25 12.04 21.59 12.04 21.99C12.04 22 12.04 22.02 12.04 22.03C12.01 22.42 11.68 22.73 11.29 22.73ZM5.78 20.58C5.61 20.58 5.45 20.53 5.31 20.42C4.47 19.75 3.74 18.96 3.13 18.07C3.04 17.94 2.99 17.8 2.99 17.65C2.99 17.4 3.11 17.17 3.32 17.03C3.65 16.8 4.14 16.89 4.36 17.22C4.89 17.99 5.52 18.67 6.25 19.24C6.42 19.38 6.53 19.59 6.53 19.82C6.53 19.99 6.48 20.16 6.37 20.3C6.23 20.48 6.01 20.58 5.78 20.58ZM2.44 15.7C2.11 15.7 1.82 15.49 1.73 15.18C1.41 14.15 1.25 13.08 1.25 12C1.25 11.59 1.59 11.25 2 11.25C2.41 11.25 2.75 11.59 2.75 12C2.75 12.93 2.89 13.85 3.16 14.73C3.18 14.8 3.19 14.88 3.19 14.96C3.19 15.29 2.98 15.57 2.67 15.67C2.59 15.69 2.52 15.7 2.44 15.7Z"],["d","M12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16Z"]],template:function(i,s){i&1&&(C(0,"div",0)(1,"div",1),Oi(),C(2,"svg",2),ae(3,"path",3),S()(),Fc(),C(4,"div",4),ne(5),S(),C(6,"div",5),yn("click",function(){return s.refreshPages()}),Oi(),C(7,"svg",6),ae(8,"path",7)(9,"path",8)(10,"path",9),S()()()),i&2&&(Z(5),vf("",s.currentPageIndex,"/",s.allPages,""),Z(2),ze("ngClass",Vi(3,IL,s.rotatin)))},dependencies:[Jc],styles:[".nav-content[_ngcontent-%COMP%]{background:var(--background);color:var(--text);position:fixed;bottom:0;width:100%;display:flex;justify-content:space-around;align-items:center;-webkit-box-shadow:0px -9px 19px -10px var(--text-3);box-shadow:0 -9px 19px -10px var(--text-3)}.nav-content[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--text);padding:7px;height:30px}.rotated[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_reloadSpin 1s}@keyframes _ngcontent-%COMP%_reloadSpin{to{transform:rotate(-360deg)}}"]});let t=e;return t})();function EL(t,e){if(t&1&&(C(0,"div"),ae(1,"img",1),S()),t&2){let n=e.$implicit;Z(),_f("src",n,Dr)}}var ST=(()=>{let e=class e{constructor(r){this.chapterService=r,this.pages=[],this.currentPageIndex=0,this.allPagesCount=0}ngOnInit(){this.pages=this.chapterService.getAllPagesChapter(),this.allPagesCount=this.pages.length}onScroll(r){let i=window.scrollY,s=window.innerHeight,o=document.body.scrollHeight,a=s+i,c=0,u=0;for(let l=0;l<this.pages.length;l++)if(u+=document.querySelector("img")?.clientHeight??0,u>=a){c=l;break}this.currentPageIndex!==c&&(this.currentPageIndex=c,this.chapterService.setCurrentPageIndex(c))}};e.\u0275fac=function(i){return new(i||e)(Q(ol))},e.\u0275cmp=Ve({type:e,selectors:[["bido-chapter"]],hostBindings:function(i,s){i&1&&yn("scroll",function(a){return s.onScroll(a)},!1,dI)},standalone:!0,features:[Ue],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["alt","","loading","lazy",3,"src"]],template:function(i,s){i&1&&(zt(0,EL,2,1,"div",0),ae(1,"app-navbar")),i&2&&ze("ngForOf",s.pages)},dependencies:[Zc,bT],styles:["img[_ngcontent-%COMP%]{max-width:100%;display:block}"]});let t=e;return t})();var CL=t=>({background:t,"background-size":"cover","background-position":"50% center"});function TL(t,e){if(t&1&&(C(0,"div",1),ae(1,"div",2),C(2,"div",3)(3,"div",4)(4,"div",5),ae(5,"img",6),S(),C(6,"div",7)(7,"span",8),ne(8),S(),C(9,"span",9),ne(10),S(),C(11,"span",10),ne(12),S()()(),C(13,"div",11)(14,"h3",12),ne(15),S(),C(16,"div",13),ne(17),S()()()()),t&2){let n=e.ngIf;Z(),ze("ngStyle",Vi(8,CL,"linear-gradient(180deg, rgba(0, 0, 0, 0.00) 0%, var(--background) 80.27%), url(/assets/test-list/"+n.image+"), lightgray no-repeat")),Z(4),br("src","/assets/test-list/",n.image,"",Dr),Z(3),st(n.type),Z(2),st(n.last_chapter),Z(2),st(n.status),Z(3),st(n.name),Z(2),st(n.description)}}var AT=(()=>{let e=class e{constructor(){this.title=Wc(null),this.titleService=v(sl),this.details$=qe}ngOnInit(){this.id&&(console.log(this.id),this.details$=this.titleService.readTittleData(this.id))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ve({type:e,selectors:[["bido-title"]],inputs:{id:"id"},standalone:!0,features:[Ue],decls:2,vars:3,consts:[["class","background_preview",4,"ngIf"],[1,"background_preview"],[1,"blured",3,"ngStyle"],[1,"container"],[1,"intro"],[1,"cover"],["alt","2",3,"src"],[1,"tags"],[1,"tag","type"],[1,"tag","last"],[1,"tag"],[1,"info"],[1,"info_name"],[1,"info_descr"]],template:function(i,s){i&1&&(zt(0,TL,18,10,"div",0),QI(1,"async")),i&2&&ze("ngIf",YI(1,1,s.details$))},dependencies:[Xc,mE,gE],styles:[".background_preview[_ngcontent-%COMP%]{width:100vw}.blured[_ngcontent-%COMP%]{width:100%;height:80vh;opacity:60%;position:absolute;z-index:-1;-webkit-transition:opacity .3s ease-in-out;-moz-transition:opacity .3s ease-in-out;transition:opacity .3s ease-in-out;background:linear-gradient(180deg,rgba(0,0,0,0) 0%,var(--background) 80.27%),url(/assets/test-list/MHA_Volume_Cover.webp),#d3d3d3 no-repeat;background-size:cover;background-position:50% center;filter:blur(10px)}.container[_ngcontent-%COMP%]{padding:100px 20px;display:flex;flex-direction:column;align-items:flex-start}.intro[_ngcontent-%COMP%]{display:flex}.tags[_ngcontent-%COMP%]{padding:0 20px;display:flex;flex-flow:column wrap;gap:10px;align-items:flex-start;color:#e6f5fd;font-family:UZSansB;font-weight:400}.tag[_ngcontent-%COMP%]{display:inline-block;padding:8px 6px 6px;margin:2px;font-size:14px;line-height:6px;background:var(--accent);border-radius:5px}.cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;border-radius:5px}.previous[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 20px}.items[_ngcontent-%COMP%]{display:grid;gap:36px 15px;grid-template-columns:repeat(auto-fill,minmax(210px,1fr))}.item[_ngcontent-%COMP%]{background:#edf5f808;border-radius:10px;position:relative;padding-bottom:40px}.item[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:auto;width:100%}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;margin-top:10px;z-index:2;bottom:0;background:linear-gradient(180deg,rgba(0,0,0,0) 0%,var(--background) 90%);width:100%;height:100%;align-content:flex-end;justify-content:flex-end}.content[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{flex-flow:row wrap}.item[_ngcontent-%COMP%]   .info_name[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%], .detail[_ngcontent-%COMP%]{padding:0 8px;margin:2px 0}.detail[_ngcontent-%COMP%]{display:grid;grid-template-columns:.5fr 3fr 1fr;align-items:center;width:100%;font-size:14px;color:gray;font-family:UZSansB;font-weight:400}.dot[_ngcontent-%COMP%]{display:inline-block;background:gray;margin:0 7px;width:5px;height:5px;border-radius:10px}.line[_ngcontent-%COMP%]{border-bottom:dashed gray 1px;height:1px;margin:6px 10px 0;opacity:30%}.time[_ngcontent-%COMP%]{text-wrap:nowrap;white-space:nowrap}"]});let t=e;return t})();var DL="firebase",bL="10.11.0";ue(DL,bL,"app");var Qr=new Un("ANGULARFIRE2_VERSION");function cl(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Xo=(t,e)=>{let n=e?[e]:Au(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ps=class{constructor(){return Xo(SL)}},SL="app-check";function fs(){}var al=class{zone;delegate;constructor(e,n=Dd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Dm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fs,{},fs,fs)),n.pipe(ye({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},gs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new al(Zone.current)),this.insideAngular=n.run(()=>new al(Zone.current,Td)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(k(te))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ul(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function AL(t){return ul().ngZone.runOutsideAngular(()=>t())}function Kr(t){return ul().ngZone.run(()=>t())}function RL(t){return xL(ul())(t)}function xL(t){return function(n){return n=n.lift(new Dm(t.ngZone)),n.pipe(Pn(t.outsideAngular),Nn(t.insideAngular))}}var NL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Kr(()=>t.apply(void 0,r))},ms=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Kr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fs,{},fs,fs))),r[s]=NL(r[s],n));let i=AL(()=>t.apply(this,r));if(!e)if(i instanceof j){let s=ul();return i.pipe(Pn(s.outsideAngular),Nn(s.insideAngular))}else return Kr(()=>i);return i instanceof j?i.pipe(RL):i instanceof Promise?Kr(()=>new Promise((s,o)=>i.then(a=>Kr(()=>s(a)),a=>Kr(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Kr(()=>i)};var Tn=class{constructor(e){return e}},Yr=class{constructor(){return Au()}};function PL(t){return t&&t.length===1?t[0]:new Tn(Jn())}var bm=new P("angularfire2._apps"),ML={provide:Tn,useFactory:PL,deps:[[new Le,bm]]},OL={provide:Yr,deps:[[new Le,bm]]};function kL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Tn(r)}}var FL=(()=>{class t{constructor(n){ue("angularfire",Qr.full,"core"),ue("angularfire",Qr.full,"app"),ue("angular",JI.full,n.toString())}static \u0275fac=function(r){return new(r||t)(k($n))};static \u0275mod=pn({type:t});static \u0275inj=fn({providers:[ML,OL]})}return t})();function RT(t,...e){return{ngModule:FL,providers:[{provide:bm,useFactory:kL(t),multi:!0,deps:[te,Rt,gs,...e]}]}}var xT=ms(No,!0);function zT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var WT=zT,GT=new _n("auth","Firebase",zT());var gl=new Yt("@firebase/auth");function LL(t,...e){gl.logLevel<=K.WARN&&gl.warn(`Auth (${Xt}): ${t}`,...e)}function dl(t,...e){gl.logLevel<=K.ERROR&&gl.error(`Auth (${Xt}): ${t}`,...e)}function ir(t,...e){throw Wm(t,...e)}function Zr(t,...e){return Wm(t,...e)}function KT(t,e,n){let r=Object.assign(Object.assign({},WT()),{[e]:n});return new _n("auth","Firebase",r).create(e,{appName:t.name})}function Jr(t){return KT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GT.create(t,...e)}function D(t,e,...n){if(!t)throw Wm(e,...n)}function Dn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw dl(e),new Error(e)}function sr(t,e){t||Dn(e)}function xm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function VL(){return NT()==="http:"||NT()==="https:"}function NT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function UL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VL()||pC()||"connection"in navigator)?navigator.onLine:!0}function jL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Xr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,sr(n>e,"Short delay should be less than long delay!"),this.isMobile=To()||Tu()}get(){return UL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Gm(t,e){sr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ml=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var BL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var $L=new Xr(3e4,6e4);function Km(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function _s(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return QT(t,i,()=>p(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=Fr(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),ml.fetch()(YT(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function QT(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},BL),e);try{let i=new Nm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw ll(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ll(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ll(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ll(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw KT(t,l,u);ir(t,l)}}catch(i){if(i instanceof ct)throw i;ir(t,"network-request-failed",{message:String(i)})}})}function HL(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){let u=yield _s(t,e,n,r,i);return"mfaPendingCredential"in u&&ir(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function YT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Gm(t.config,i):`${t.config.apiScheme}://${i}`}var Nm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zr(this.auth,"network-request-failed")),$L.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ll(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Zr(t,e,r);return i.customData._tokenResponse=n,i}function qL(t,e){return p(this,null,function*(){return _s(t,"POST","/v1/accounts:delete",e)})}function JT(t,e){return p(this,null,function*(){return _s(t,"POST","/v1/accounts:lookup",e)})}function ea(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Qm(t,e=!1){return p(this,null,function*(){let n=Je(t),r=yield n.getIdToken(e),i=Ym(r);D(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ea(Sm(i.auth_time)),issuedAtTime:ea(Sm(i.iat)),expirationTime:ea(Sm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Sm(t){return Number(t)*1e3}function Ym(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Co(n);return i?JSON.parse(i):(dl("Failed to decode base64 JWT payload"),null)}catch(i){return dl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function PT(t){let e=Ym(t);return D(e,"internal-error"),D(typeof e.exp<"u","internal-error"),D(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function na(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof ct&&zL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function zL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Pm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ra=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ea(this.lastLoginAt),this.creationTime=ea(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function yl(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield na(t,JT(n,{idToken:r}));D(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ZT(s.providerUserInfo):[],a=WL(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ra(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function Jm(t){return p(this,null,function*(){let e=Je(t);yield yl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function WL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZT(t){return t.map(e=>{var{providerId:n}=e,r=bd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function GL(t,e){return p(this,null,function*(){let n=yield QT(t,{},()=>p(this,null,function*(){let r=Fr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=YT(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ml.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function KL(t,e){return p(this,null,function*(){return _s(t,"POST","/v2/accounts:revokeToken",Km(t,e))})}var ta=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){D(e.idToken,"internal-error"),D(typeof e.idToken<"u","internal-error"),D(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){D(e.length!==0,"internal-error");let n=PT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return p(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(D(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield GL(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(D(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(D(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(D(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Dn("not implemented")}};function rr(t,e){D(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ys=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=bd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ra(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield na(this,this.stsTokenManager.getToken(this.auth,e));return D(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Qm(this,e)}reload(){return Jm(this)}_assign(e){this!==e&&(D(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){D(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield yl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if(vn(this.auth.app))return Promise.reject(Jr(this.auth));let e=yield this.getIdToken();return yield na(this,qL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,$=(u=n.createdAt)!==null&&u!==void 0?u:void 0,Se=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:le,emailVerified:Ge,isAnonymous:cn,providerData:He,stsTokenManager:un}=n;D(le&&un,e,"internal-error");let Rs=ta.fromJSON(this.name,un);D(typeof le=="string",e,"internal-error"),rr(d,e.name),rr(h,e.name),D(typeof Ge=="boolean",e,"internal-error"),D(typeof cn=="boolean",e,"internal-error"),rr(f,e.name),rr(g,e.name),rr(_,e.name),rr(M,e.name),rr($,e.name),rr(Se,e.name);let xs=new t({uid:le,auth:e,email:h,emailVerified:Ge,displayName:d,isAnonymous:cn,photoURL:g,phoneNumber:f,tenantId:_,stsTokenManager:Rs,createdAt:$,lastLoginAt:Se});return He&&Array.isArray(He)&&(xs.providerData=He.map(ld=>Object.assign({},ld))),M&&(xs._redirectEventId=M),xs}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new ta;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield yl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return p(this,null,function*(){let i=n.users[0];D(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?ZT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new ta;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ra(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var MT=new Map;function bn(t){sr(t instanceof Function,"Expected a class definition");let e=MT.get(t);return e?(sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MT.set(t,e),e)}var QL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Mm=QL;function hl(t,e,n){return`firebase:${t}:${e}:${n}`}var _l=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=hl(this.userKey,i.apiKey,s),this.fullPersistenceKey=hl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ys._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(bn(Mm),e,r);let i=(yield Promise.all(n.map(u=>p(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||bn(Mm),o=hl(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=ys._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>p(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function OT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rD(e))return"Blackberry";if(iD(e))return"Webos";if(Zm(e))return"Safari";if((e.includes("chrome/")||eD(e))&&!e.includes("edge/"))return"Chrome";if(nD(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function XT(t=Ce()){return/firefox\//i.test(t)}function Zm(t=Ce()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eD(t=Ce()){return/crios\//i.test(t)}function tD(t=Ce()){return/iemobile/i.test(t)}function nD(t=Ce()){return/android/i.test(t)}function rD(t=Ce()){return/blackberry/i.test(t)}function iD(t=Ce()){return/webos/i.test(t)}function bl(t=Ce()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function YL(t=Ce()){var e;return bl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function JL(){return gC()&&document.documentMode===10}function sD(t=Ce()){return bl(t)||nD(t)||iD(t)||rD(t)||/windows phone/i.test(t)||tD(t)}function ZL(){try{return!!(window&&window!==window.top)}catch{return!1}}function oD(t,e=[]){let n;switch(t){case"Browser":n=OT(Ce());break;case"Worker":n=`${OT(Ce())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xt}/${r}`}var Om=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function XL(n){return p(this,arguments,function*(t,e={}){return _s(t,"GET","/v2/passwordPolicy",Km(t,e))})}var eV=6,km=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:eV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Fm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vl(this),this.idTokenSubscription=new vl(this),this.beforeStateQueue=new Om(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bn(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield _l.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return p(this,null,function*(){try{let n=yield JT(this,{idToken:e}),r=yield ys._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;if(vn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return D(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield yl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=jL()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){if(vn(this.app))return Promise.reject(Jr(this));let n=e?Je(e):null;return n&&D(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&D(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return vn(this.app)?Promise.reject(Jr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return vn(this.app)?Promise.reject(Jr(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(bn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield XL(this),n=new km(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _n("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield KL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&bn(e)||this._popupRedirectResolver;D(n,this,"argument-error"),this.redirectPersistenceManager=yield _l.create(this,[bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(D(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return D(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&LL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Xm(t){return Je(t)}var vl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=wC(n=>this.observer=n)}get next(){return D(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ey={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tV(t){ey=t}function nV(t){return ey.loadJS(t)}function rV(){return ey.gapiScript}function aD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function ty(t,e){let n=Ur(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(kr(s,e??{}))return i;ir(i,"already-initialized")}return n.initialize({options:e})}function iV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(bn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ny(t,e,n){let r=Xm(t);D(r._canInitEmulator,r,"emulator-config-failed"),D(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=cD(e),{host:o,port:a}=sV(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||oV()}function cD(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sV(t){let e=cD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:kT(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:kT(o)}}}function kT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function oV(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var wl=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dn("not implemented")}_getIdTokenResponse(e){return Dn("not implemented")}_linkToIdToken(e,n){return Dn("not implemented")}_getReauthenticationResolver(e){return Dn("not implemented")}};function Am(t,e){return p(this,null,function*(){return HL(t,"POST","/v1/accounts:signInWithIdp",Km(t,e))})}var Il=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Lm=class extends Il{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var ia=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(this,null,function*(){let s=yield ys._fromIdTokenResponse(e,r,i),o=FT(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return p(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=FT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function FT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Vm=class t extends ct{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function uD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Vm._fromErrorAndOperation(t,s,e,r):s})}function aV(t,e,n=!1){return p(this,null,function*(){let r=yield na(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ia._forOperation(t,"link",r)})}function cV(t,e,n=!1){return p(this,null,function*(){let{auth:r}=t;if(vn(r.app))return Promise.reject(Jr(r));let i="reauthenticate";try{let s=yield na(t,uD(r,i,e,t),n);D(s.idToken,r,"internal-error");let o=Ym(s.idToken);D(o,r,"internal-error");let{sub:a}=o;return D(t.uid===a,r,"user-mismatch"),ia._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ir(r,"user-mismatch"),s}})}function uV(t,e,n=!1){return p(this,null,function*(){if(vn(t.app))return Promise.reject(Jr(t));let r="signIn",i=yield uD(t,r,e),s=yield ia._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function ry(t,e,n,r){return Je(t).onIdTokenChanged(e,n,r)}function iy(t,e,n){return Je(t).beforeAuthStateChanged(e,n)}var El="__sak";var Cl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(El,"1"),this.storage.removeItem(El),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function lV(){let t=Ce();return Zm(t)||bl(t)}var dV=1e3,hV=10,fV=(()=>{class t extends Cl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=lV()&&ZL(),this.fallbackToPolling=sD(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);JL()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,hV):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},dV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield Rn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield Rn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield Rn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),lD=fV;var pV=(()=>{class t extends Cl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),sy=pV;function gV(t){return Promise.all(t.map(e=>p(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var mV=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>p(this,null,function*(){return l(r.origin,o)})),u=yield gV(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function dD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Um=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=dD("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function tn(){return window}function yV(t){tn().location.href=t}function hD(){return typeof tn().WorkerGlobalScope<"u"&&typeof tn().importScripts=="function"}function _V(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function vV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wV(){return hD()?self:null}var fD="firebaseLocalStorageDb",IV=1,Tl="firebaseLocalStorage",pD="fbase_key",ei=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Sl(t,e){return t.transaction([Tl],e?"readwrite":"readonly").objectStore(Tl)}function EV(){let t=indexedDB.deleteDatabase(fD);return new ei(t).toPromise()}function jm(){let t=indexedDB.open(fD,IV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Tl,{keyPath:pD})}catch(i){n(i)}}),t.addEventListener("success",()=>p(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Tl)?e(r):(r.close(),yield EV(),e(yield jm()))}))})}function LT(t,e,n){return p(this,null,function*(){let r=Sl(t,!0).put({[pD]:e,value:n});return new ei(r).toPromise()})}function CV(t,e){return p(this,null,function*(){let n=Sl(t,!1).get(e),r=yield new ei(n).toPromise();return r===void 0?null:r.value})}function VT(t,e){let n=Sl(t,!0).delete(e);return new ei(n).toPromise()}var TV=800,DV=3,bV=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield jm(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>DV)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return hD()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=mV._getInstance(wV()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield _V(),!this.activeServiceWorker)return;this.sender=new Um(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||vV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield jm();return yield LT(n,El,"1"),yield VT(n,El),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>LT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>CV(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>VT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(s=>{let o=Sl(s,!1).getAll();return new ei(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),TV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),gD=bV;var q9=aD("rcb"),z9=new Xr(3e4,6e4);function SV(t,e){return e?bn(e):(D(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var sa=class extends wl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Am(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Am(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Am(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function AV(t){return uV(t.auth,new sa(t),t.bypassAuthState)}function RV(t){let{auth:e,user:n}=t;return D(n,e,"internal-error"),cV(n,new sa(t),t.bypassAuthState)}function xV(t){return p(this,null,function*(){let{auth:e,user:n}=t;return D(n,e,"internal-error"),aV(n,new sa(t),t.bypassAuthState)})}var Bm=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>p(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AV;case"linkViaPopup":case"linkViaRedirect":return xV;case"reauthViaPopup":case"reauthViaRedirect":return RV;default:ir(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var W9=new Xr(2e3,1e4);var NV="pendingRedirect",fl=new Map,$m=class t extends Bm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let e=fl.get(this.auth._key());if(!e){try{let r=(yield PV(this.resolver,this.auth))?yield Rn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fl.set(this.auth._key(),e)}return this.bypassAuthState||fl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return p(this,null,function*(){if(e.type==="signInViaRedirect")return Rn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Rn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function PV(t,e){return p(this,null,function*(){let n=kV(e),r=OV(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function MV(t,e){fl.set(t._key(),e)}function OV(t){return bn(t._redirectPersistence)}function kV(t){return hl(NV,t.config.apiKey,t.name)}function FV(t,e,n=!1){return p(this,null,function*(){if(vn(t.app))return Promise.reject(Jr(t));let r=Xm(t),i=SV(r,e),o=yield new $m(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var LV=10*60*1e3,Hm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mD(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LV&&this.cachedEventUids.clear(),this.cachedEventUids.has(UT(e))}saveEventToCache(e){this.cachedEventUids.add(UT(e)),this.lastProcessedEventTime=Date.now()}};function UT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function VV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mD(t);default:return!1}}function UV(n){return p(this,arguments,function*(t,e={}){return _s(t,"GET","/v1/projects",e)})}var jV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BV=/^https?/;function $V(t){return p(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield UV(t);for(let n of e)try{if(HV(n))return}catch{}ir(t,"unauthorized-domain")})}function HV(t){let e=xm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!BV.test(n))return!1;if(jV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var qV=new Xr(3e4,6e4);function jT(){let t=tn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zV(t){return new Promise((e,n)=>{var r,i,s;function o(){jT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jT(),n(Zr(t,"network-request-failed"))},timeout:qV.get()})}if(!((i=(r=tn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=tn().gapi)===null||s===void 0)&&s.load)o();else{let a=aD("iframefcb");return tn()[a]=()=>{gapi.load?o():n(Zr(t,"network-request-failed"))},nV(`${rV()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw pl=null,e})}var pl=null;function WV(t){return pl=pl||zV(t),pl}var GV=new Xr(5e3,15e3),KV="__/auth/iframe",QV="emulator/auth/iframe",YV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZV(t){let e=t.config;D(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Gm(e,QV):`https://${t.config.authDomain}/${KV}`,r={apiKey:e.apiKey,appName:t.name,v:Xt},i=JV.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Fr(r).slice(1)}`}function XV(t){return p(this,null,function*(){let e=yield WV(t),n=tn().gapi;return D(n,t,"internal-error"),e.open({where:document.body,url:ZV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YV,dontclear:!0},r=>new Promise((i,s)=>p(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Zr(t,"network-request-failed"),a=tn().setTimeout(()=>{s(o)},GV.get());function c(){tn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var e2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t2=500,n2=600,r2="_blank",i2="http://localhost",Dl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function s2(t,e,n,r=t2,i=n2){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},e2),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ce().toLowerCase();n&&(a=eD(u)?r2:n),XT(u)&&(e=e||i2,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(YL(u)&&a!=="_self")return o2(e||"",a),new Dl(null);let d=window.open(e||"",a,l);D(d,t,"popup-blocked");try{d.focus()}catch{}return new Dl(d)}function o2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var a2="__/auth/handler",c2="emulator/auth/handler",u2=encodeURIComponent("fac");function BT(t,e,n,r,i,s){return p(this,null,function*(){D(t.config.authDomain,t,"auth-domain-config-required"),D(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xt,eventId:i};if(e instanceof Il){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Do(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof Lm){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${u2}=${encodeURIComponent(c)}`:"";return`${l2(t)}?${Fr(a).slice(1)}${u}`})}function l2({config:t}){return t.emulator?Gm(t,c2):`https://${t.authDomain}/${a2}`}var Rm="webStorageSupport",qm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sy,this._completeRedirectFn=FV,this._overrideRedirectResult=MV}_openPopup(e,n,r,i){return p(this,null,function*(){var s;sr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield BT(e,n,r,xm(),i);return s2(e,o,dD())})}_openRedirect(e,n,r,i){return p(this,null,function*(){yield this._originValidation(e);let s=yield BT(e,n,r,xm(),i);return yV(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(sr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return p(this,null,function*(){let n=yield XV(e),r=new Hm(e);return n.register("authEvent",i=>(D(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rm,{type:Rm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Rm];o!==void 0&&n(!!o),ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$V(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sD()||Zm()||bl()}},yD=qm;var $T="@firebase/auth",HT="1.7.1";var zm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){D(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function d2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function h2(t){Zt(new Ze("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;D(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oD(t)},u=new Fm(r,i,s,c);return iV(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zt(new Ze("auth-internal",e=>{let n=Xm(e.getProvider("auth").getImmediate());return(r=>new zm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ue($T,HT,d2(t)),ue($T,HT,"esm2017")}var f2=5*60,p2=Op("authIdTokenMaxAge")||f2,qT=null,g2=t=>e=>p(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>p2)return;let i=n?.token;qT!==i&&(qT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function oy(t=Jn()){let e=Ur(t,"auth");if(e.isInitialized())return e.getImmediate();let n=ty(t,{popupRedirectResolver:yD,persistence:[gD,lD,sy]}),r=Op("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=g2(s.toString());iy(n,o,()=>o(n.currentUser)),ry(n,a=>o(a))}}let i=Pp("auth");return i&&ny(n,`http://${i}`),n}function m2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}tV({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Zr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",m2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});h2("Browser");var _D="auth",oa=class{constructor(e){return e}},aa=class{constructor(){return Xo(_D)}};var ay=new P("angularfire2.auth-instances");function uU(t,e){let n=cl(_D,t,e);return n&&new oa(n)}function lU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new oa(r)}}var dU={provide:aa,deps:[[new Le,ay]]},hU={provide:oa,useFactory:uU,deps:[[new Le,ay],Tn]},fU=(()=>{class t{constructor(){ue("angularfire",Qr.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=pn({type:t});static \u0275inj=fn({providers:[hU,dU]})}return t})();function vD(t,...e){return{ngModule:fU,providers:[{provide:ay,useFactory:lU(t),multi:!0,deps:[te,Rt,gs,Yr,[new Le,ps],...e]}]}}var wD=ms(oy,!0);var Al=class{constructor(e){return e}};var ID=(()=>{let e=class e{constructor(){}readTittleData(r){return new j(i=>{let s=nr(),o=tr(s,"mangas/"+r),a=Gr(o,c=>{let u=c.val();i.next(u)});return{unsubscribe(){a()}}})}readAddTittlesData(){let r=[],i=[],s=nr(),o=tr(s,"mangas");return Gr(o,a=>{r=a.val();for(let c=0;c<r.length;c++)i.push({titleId:c.toString(),description:r[c].description,image:r[c].image,last_chapter:r[c].last_chapter,last_update:r[c].last_update,name:r[c].name,status:r[c].status,total_chapter:r[c].total_chapter,type:r[c].type,update_chapter:r[c].update_chapter});console.log(i)}),i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function gU(t,e){if(t&1&&(C(0,"div")(1,"p"),ne(2),S(),C(3,"p"),ne(4),S(),C(5,"p"),ne(6),S()()),t&2){let n=e.$implicit;Z(2),Li(" Name: ",n.name," "),Z(2),Li(" Number in stock: ",n.inStock," "),Z(2),Li(" Price: $",n.price," ")}}var ED=(()=>{let e=class e{constructor(r){this.searchService=r,this.database=v(Al)}ngOnInit(){this.getMangas()}getMangas(){return p(this,null,function*(){})}};e.\u0275fac=function(i){return new(i||e)(Q(ID))},e.\u0275cmp=Ve({type:e,selectors:[["app-bido-search"]],standalone:!0,features:[Ue],decls:3,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(i,s){i&1&&(C(0,"h2"),ne(1,' Products with lowest stock from "Arts and Crafts Supplier" '),S(),zt(2,gU,7,3,"div",0)),i&2&&(Z(2),ze("ngForOf",s.titles))}});let t=e;return t})();var CD=[{path:"",component:Tm},{path:"chapter/:name",loadComponent:()=>p(void 0,null,function*(){return ST})},{path:"title/:id",loadComponent:()=>p(void 0,null,function*(){return AT})},{path:"search/:searchTerm",component:ED},{path:"**",component:Tm}];var mU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ot={},y,Ry=Ry||{},b=mU||self;function $l(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ia(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function yU(t){return Object.prototype.hasOwnProperty.call(t,cy)&&t[cy]||(t[cy]=++_U)}var cy="closure_uid_"+(1e9*Math.random()>>>0),_U=0;function vU(t,e,n){return t.call.apply(t.bind,arguments)}function wU(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Be(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Be=vU:Be=wU,Be.apply(null,arguments)}function Rl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function De(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function or(){this.s=this.s,this.o=this.o}var IU=0;or.prototype.s=!1;or.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),IU!=0)&&yU(this)};or.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var FD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function xy(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function TD(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if($l(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function $e(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}$e.prototype.h=function(){this.defaultPrevented=!0};var EU=function(){if(!b.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};b.addEventListener("test",n,e),b.removeEventListener("test",n,e)}catch{}return t}();function fa(t){return/^[\s\xa0]*$/.test(t)}function Hl(){var t=b.navigator;return t&&(t=t.userAgent)?t:""}function nn(t){return Hl().indexOf(t)!=-1}function Ny(t){return Ny[" "](t),t}Ny[" "]=function(){};function CU(t,e){var n=dj;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var TU=nn("Opera"),Es=nn("Trident")||nn("MSIE"),LD=nn("Edge"),fy=LD||Es,VD=nn("Gecko")&&!(Hl().toLowerCase().indexOf("webkit")!=-1&&!nn("Edge"))&&!(nn("Trident")||nn("MSIE"))&&!nn("Edge"),DU=Hl().toLowerCase().indexOf("webkit")!=-1&&!nn("Edge");function UD(){var t=b.document;return t?t.documentMode:void 0}var py;e:{if(xl="",Nl=function(){var t=Hl();if(VD)return/rv:([^\);]+)(\)|;)/.exec(t);if(LD)return/Edge\/([\d\.]+)/.exec(t);if(Es)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(DU)return/WebKit\/(\S+)/.exec(t);if(TU)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Nl&&(xl=Nl?Nl[1]:""),Es&&(Pl=UD(),Pl!=null&&Pl>parseFloat(xl))){py=String(Pl);break e}py=xl}var xl,Nl,Pl,gy;b.document&&Es?(uy=UD(),gy=uy||parseInt(py,10)||void 0):gy=void 0;var uy,bU=gy;function pa(t,e){if($e.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(VD){e:{try{Ny(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:SU[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&pa.$.h.call(this)}}De(pa,$e);var SU={2:"touch",3:"pen",4:"mouse"};pa.prototype.h=function(){pa.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ea="closure_listenable_"+(1e6*Math.random()|0),AU=0;function RU(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++AU,this.fa=this.ia=!1}function ql(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Py(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function xU(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function jD(t){let e={};for(let n in t)e[n]=t[n];return e}var DD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function BD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<DD.length;s++)n=DD[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function zl(t){this.src=t,this.g={},this.h=0}zl.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=yy(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new RU(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function my(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=FD(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ql(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function yy(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var My="closure_lm_"+(1e6*Math.random()|0),ly={};function $D(t,e,n,r,i){if(r&&r.once)return qD(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)$D(t,e[s],n,r,i);return null}return n=Fy(n),t&&t[Ea]?t.O(e,n,Ia(r)?!!r.capture:!!r,i):HD(t,e,n,!1,r,i)}function HD(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ia(i)?!!i.capture:!!i,a=ky(t);if(a||(t[My]=a=new zl(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=NU(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)EU||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(WD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function NU(){function t(n){return e.call(t.src,t.listener,n)}let e=PU;return t}function qD(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)qD(t,e[s],n,r,i);return null}return n=Fy(n),t&&t[Ea]?t.P(e,n,Ia(r)?!!r.capture:!!r,i):HD(t,e,n,!0,r,i)}function zD(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)zD(t,e[s],n,r,i);else r=Ia(r)?!!r.capture:!!r,n=Fy(n),t&&t[Ea]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=yy(s,n,r,i),-1<n&&(ql(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=ky(t))&&(e=t.g[e.toString()],t=-1,e&&(t=yy(e,n,r,i)),(n=-1<t?e[t]:null)&&Oy(n))}function Oy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ea])my(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(WD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ky(e))?(my(n,t),n.h==0&&(n.src=null,e[My]=null)):ql(t)}}}function WD(t){return t in ly?ly[t]:ly[t]="on"+t}function PU(t,e){if(t.fa)t=!0;else{e=new pa(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Oy(t),t=n.call(r,e)}return t}function ky(t){return t=t[My],t instanceof zl?t:null}var dy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fy(t){return typeof t=="function"?t:(t[dy]||(t[dy]=function(e){return t.handleEvent(e)}),t[dy])}function Te(){or.call(this),this.i=new zl(this),this.S=this,this.J=null}De(Te,or);Te.prototype[Ea]=!0;Te.prototype.removeEventListener=function(t,e,n,r){zD(this,t,e,n,r)};function Me(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new $e(e,t);else if(e instanceof $e)e.target=e.target||t;else{var i=e;e=new $e(r,t),BD(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ml(o,r,!0,e)&&i}if(o=e.g=t,i=Ml(o,r,!0,e)&&i,i=Ml(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Ml(o,r,!1,e)&&i}Te.prototype.N=function(){if(Te.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ql(n[r]);delete t.g[e],t.h--}}this.J=null};Te.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Te.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ml(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&my(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Ly=b.JSON.stringify,_y=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function MU(){var t=Vy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var vy=class{constructor(){this.h=this.g=null}add(e,n){let r=GD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},GD=new _y(()=>new wy,t=>t.reset()),wy=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function OU(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function kU(t){b.setTimeout(()=>{throw t},0)}var ga,ma=!1,Vy=new vy,KD=()=>{let t=b.Promise.resolve(void 0);ga=()=>{t.then(FU)}},FU=()=>{for(var t;t=MU();){try{t.h.call(t.g)}catch(n){kU(n)}var e=GD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ma=!1};function Wl(t,e){Te.call(this),this.h=t||1,this.g=e||b,this.j=Be(this.qb,this),this.l=Date.now()}De(Wl,Te);y=Wl.prototype;y.ga=!1;y.T=null;y.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Me(this,"tick"),this.ga&&(Uy(this),this.start()))}};y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Uy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}y.N=function(){Wl.$.N.call(this),Uy(this),delete this.g};function jy(t,e,n){if(typeof t=="function")n&&(t=Be(t,n));else if(t&&typeof t.handleEvent=="function")t=Be(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:b.setTimeout(t,e||0)}function QD(t){t.g=jy(()=>{t.g=null,t.i&&(t.i=!1,QD(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Iy=class extends or{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:QD(this)}N(){super.N(),this.g&&(b.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function ya(t){or.call(this),this.h=t,this.g={}}De(ya,or);var bD=[];function YD(t,e,n,r){Array.isArray(n)||(n&&(bD[0]=n.toString()),n=bD);for(var i=0;i<n.length;i++){var s=$D(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function JD(t){Py(t.g,function(e,n){this.g.hasOwnProperty(n)&&Oy(e)},t),t.g={}}ya.prototype.N=function(){ya.$.N.call(this),JD(this)};ya.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gl(){this.g=!0}Gl.prototype.Ea=function(){this.g=!1};function LU(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function VU(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ws(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+jU(t,n)+(r?" "+r:"")})}function UU(t,e){t.info(function(){return"TIMEOUT: "+e})}Gl.prototype.info=function(){};function jU(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Ly(n)}catch{return e}}var ii={},SD=null;function Kl(){return SD=SD||new Te}ii.Ta="serverreachability";function ZD(t){$e.call(this,ii.Ta,t)}De(ZD,$e);function _a(t){let e=Kl();Me(e,new ZD(e))}ii.STAT_EVENT="statevent";function XD(t,e){$e.call(this,ii.STAT_EVENT,t),this.stat=e}De(XD,$e);function We(t){let e=Kl();Me(e,new XD(e,t))}ii.Ua="timingevent";function eb(t,e){$e.call(this,ii.Ua,t),this.size=e}De(eb,$e);function Ca(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return b.setTimeout(function(){t()},e)}var Ql={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function By(){}By.prototype.h=null;function AD(t){return t.h||(t.h=t.i())}function nb(){}var Ta={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $y(){$e.call(this,"d")}De($y,$e);function Hy(){$e.call(this,"c")}De(Hy,$e);var Ey;function Yl(){}De(Yl,By);Yl.prototype.g=function(){return new XMLHttpRequest};Yl.prototype.i=function(){return{}};Ey=new Yl;function Da(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ya(this),this.P=BU,t=fy?125:void 0,this.V=new Wl(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new rb}function rb(){this.i=null,this.g="",this.h=!1}var BU=45e3,ib={},Cy={};y=Da.prototype;y.setTimeout=function(t){this.P=t};function Ty(t,e,n){t.L=1,t.A=Zl(An(e)),t.u=n,t.S=!0,sb(t,null)}function sb(t,e){t.G=Date.now(),ba(t),t.B=An(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),fb(n.i,"t",r),t.o=0,n=t.l.J,t.h=new rb,t.g=Ob(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Iy(Be(t.Pa,t,t.g),t.O)),YD(t.U,t.g,"readystatechange",t.nb),e=t.I?jD(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),_a(),LU(t.j,t.v,t.B,t.m,t.W,t.u)}y.nb=function(t){t=t.target;let e=this.M;e&&rn(t)==3?e.l():this.Pa(t)};y.Pa=function(t){try{if(t==this.g)e:{let l=rn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||fy||this.g&&(this.h.h||this.g.ja()||PD(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?_a(3):_a(2)),Jl(this);var n=this.g.da();this.ca=n;t:if(ob(this)){var r=PD(this.g);t="";var i=r.length,s=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ti(this),ha(this);var o="";break t}this.h.i=new b.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,VU(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fa(a)){var u=a;break t}}u=null}if(n=u)ws(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dy(this,n);else{this.i=!1,this.s=3,We(12),ti(this),ha(this);break e}}this.S?(ab(this,l,o),fy&&this.i&&l==3&&(YD(this.U,this.V,"tick",this.mb),this.V.start())):(ws(this.j,this.m,o,null),Dy(this,o)),l==4&&ti(this),this.i&&!this.J&&(l==4?xb(this.l,this):(this.i=!1,ba(this)))}else cj(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,We(12)):(this.s=0,We(13)),ti(this),ha(this)}}}catch{}finally{}};function ob(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function ab(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=$U(t,n),i==Cy){e==4&&(t.s=4,We(14),r=!1),ws(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ib){t.s=4,We(15),ws(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ws(t.j,t.m,i,null),Dy(t,i);ob(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,We(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qy(e),e.M=!0,We(11))):(ws(t.j,t.m,n,"[Invalid Chunked Response]"),ti(t),ha(t))}y.mb=function(){if(this.g){var t=rn(this.g),e=this.g.ja();this.o<e.length&&(Jl(this),ab(this,t,e),this.i&&t!=4&&ba(this))}};function $U(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Cy:(n=Number(e.substring(n,r)),isNaN(n)?ib:(r+=1,r+n>e.length?Cy:(e=e.slice(r,r+n),t.o=r+n,e)))}y.cancel=function(){this.J=!0,ti(this)};function ba(t){t.Y=Date.now()+t.P,cb(t,t.P)}function cb(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ca(Be(t.lb,t),e)}function Jl(t){t.C&&(b.clearTimeout(t.C),t.C=null)}y.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(UU(this.j,this.B),this.L!=2&&(_a(),We(17)),ti(this),this.s=2,ha(this)):cb(this,this.Y-t)};function ha(t){t.l.H==0||t.J||xb(t.l,t)}function ti(t){Jl(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Uy(t.V),JD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Dy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||by(n.i,t))){if(!t.K&&by(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Vl(n),td(n);else break e;Ky(n),We(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ca(Be(n.ib,n),6e3));if(1>=mb(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ni(n,11)}else if((t.K||n.g==t)&&Vl(n),!fa(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(qy(s,s.h),s.h=null))}if(r.F){let _=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,oe(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Mb(r,r.J?r.pa:null,r.Y),o.K){yb(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Jl(a),ba(a)),r.g=o}else Ab(r);0<n.j.length&&nd(n)}else u[0]!="stop"&&u[0]!="close"||ni(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ni(n,7):Gy(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}_a(4)}catch{}}function HU(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if($l(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function qU(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if($l(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function ub(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if($l(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=qU(t),r=HU(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var lb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ri(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ri){this.h=t.h,Fl(this,t.j),this.s=t.s,this.g=t.g,Ll(this,t.m),this.l=t.l;var e=t.i,n=new va;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),RD(this,n),this.o=t.o}else t&&(e=String(t).match(lb))?(this.h=!1,Fl(this,e[1]||"",!0),this.s=la(e[2]||""),this.g=la(e[3]||"",!0),Ll(this,e[4]),this.l=la(e[5]||"",!0),RD(this,e[6]||"",!0),this.o=la(e[7]||"")):(this.h=!1,this.i=new va(null,this.h))}ri.prototype.toString=function(){var t=[],e=this.j;e&&t.push(da(e,xD,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(da(e,xD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(da(n,n.charAt(0)=="/"?KU:GU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",da(n,YU)),t.join("")};function An(t){return new ri(t)}function Fl(t,e,n){t.j=n?la(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ll(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function RD(t,e,n){e instanceof va?(t.i=e,JU(t.i,t.h)):(n||(e=da(e,QU)),t.i=new va(e,t.h))}function oe(t,e,n){t.i.set(e,n)}function Zl(t){return oe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function la(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function da(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,WU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function WU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var xD=/[#\/\?@]/g,GU=/[#\?:]/g,KU=/[#\?]/g,QU=/[#\?@]/g,YU=/#/g;function va(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ar(t){t.g||(t.g=new Map,t.h=0,t.i&&zU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}y=va.prototype;y.add=function(t,e){ar(this),this.i=null,t=Cs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function db(t,e){ar(t),e=Cs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function hb(t,e){return ar(t),e=Cs(t,e),t.g.has(e)}y.forEach=function(t,e){ar(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};y.ta=function(){ar(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};y.Z=function(t){ar(this);let e=[];if(typeof t=="string")hb(this,t)&&(e=e.concat(this.g.get(Cs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};y.set=function(t,e){return ar(this),this.i=null,t=Cs(this,t),hb(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};y.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function fb(t,e,n){db(t,e),0<n.length&&(t.i=null,t.g.set(Cs(t,e),xy(n)),t.h+=n.length)}y.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Cs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function JU(t,e){e&&!t.j&&(ar(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(db(this,r),fb(this,i,n))},t)),t.j=e}var ZU=class{constructor(t,e){this.g=t,this.map=e}};function pb(t){this.l=t||XU,b.PerformanceNavigationTiming?(t=b.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(b.g&&b.g.Ka&&b.g.Ka()&&b.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var XU=10;function gb(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function mb(t){return t.h?1:t.g?t.g.size:0}function by(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function qy(t,e){t.g?t.g.add(e):t.h=e}function yb(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}pb.prototype.cancel=function(){if(this.i=_b(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function _b(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return xy(t.i)}var ej=class{stringify(t){return b.JSON.stringify(t,void 0)}parse(t){return b.JSON.parse(t,void 0)}};function tj(){this.g=new ej}function nj(t,e,n){let r=n||"";try{ub(t,function(i,s){let o=i;Ia(i)&&(o=Ly(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function rj(t,e){let n=new Gl;if(b.Image){let r=new Image;r.onload=Rl(Ol,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Rl(Ol,n,r,"TestLoadImage: error",!1,e),r.onabort=Rl(Ol,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Rl(Ol,n,r,"TestLoadImage: timeout",!1,e),b.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ol(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Sa(t){this.l=t.ec||null,this.j=t.ob||!1}De(Sa,By);Sa.prototype.g=function(){return new Xl(this.l,this.j)};Sa.prototype.i=function(t){return function(){return t}}({});function Xl(t,e){Te.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=zy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}De(Xl,Te);var zy=0;y=Xl.prototype;y.open=function(t,e){if(this.readyState!=zy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,wa(this)};y.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||b).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Aa(this)),this.readyState=zy};y.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,wa(this)),this.g&&(this.readyState=3,wa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof b.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vb(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function vb(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}y.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Aa(this):wa(this),this.readyState==3&&vb(this)}};y.Za=function(t){this.g&&(this.response=this.responseText=t,Aa(this))};y.Ya=function(t){this.g&&(this.response=t,Aa(this))};y.ka=function(){this.g&&Aa(this)};function Aa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,wa(t)}y.setRequestHeader=function(t,e){this.v.append(t,e)};y.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};y.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function wa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Xl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var ij=b.JSON.parse;function he(t){Te.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wb,this.L=this.M=!1}De(he,Te);var wb="",sj=/^https?$/i,oj=["POST","PUT"];y=he.prototype;y.Oa=function(t){this.M=t};y.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ey.g(),this.C=this.u?AD(this.u):AD(Ey),this.g.onreadystatechange=Be(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){ND(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=b.FormData&&t instanceof b.FormData,!(0<=FD(oj,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Cb(this),0<this.B&&((this.L=aj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Be(this.ua,this)):this.A=jy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ND(this,s)}};function aj(t){return Es&&typeof t.timeout=="number"&&t.ontimeout!==void 0}y.ua=function(){typeof Ry<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Me(this,"timeout"),this.abort(8))};function ND(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Ib(t),ed(t)}function Ib(t){t.F||(t.F=!0,Me(t,"complete"),Me(t,"error"))}y.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Me(this,"complete"),Me(this,"abort"),ed(this))};y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ed(this,!0)),he.$.N.call(this)};y.La=function(){this.s||(this.G||this.v||this.l?Eb(this):this.kb())};y.kb=function(){Eb(this)};function Eb(t){if(t.h&&typeof Ry<"u"&&(!t.C[1]||rn(t)!=4||t.da()!=2)){if(t.v&&rn(t)==4)jy(t.La,0,t);else if(Me(t,"readystatechange"),rn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(lb)[1]||null;!i&&b.self&&b.self.location&&(i=b.self.location.protocol.slice(0,-1)),r=!sj.test(i?i.toLowerCase():"")}n=r}if(n)Me(t,"complete"),Me(t,"success");else{t.m=6;try{var s=2<rn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Ib(t)}}finally{ed(t)}}}}function ed(t,e){if(t.g){Cb(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Me(t,"ready");try{n.onreadystatechange=r}catch{}}}function Cb(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(b.clearTimeout(t.A),t.A=null)}y.isActive=function(){return!!this.g};function rn(t){return t.g?t.g.readyState:0}y.da=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}};y.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};y.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),ij(e)}};function PD(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case wb:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function cj(t){let e={};t=(t.g&&2<=rn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(fa(t[r]))continue;var n=OU(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}xU(e,function(r){return r.join(", ")})}y.Ia=function(){return this.m};y.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Tb(t){let e="";return Py(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Wy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Tb(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):oe(t,e,n))}function ca(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Db(t){this.Ga=0,this.j=[],this.l=new Gl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ca("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ca("baseRetryDelayMs",5e3,t),this.hb=ca("retryDelaySeedMs",1e4,t),this.eb=ca("forwardChannelMaxRetries",2,t),this.xa=ca("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new pb(t&&t.concurrentRequestLimit),this.Ja=new tj,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}y=Db.prototype;y.ra=8;y.H=1;function Gy(t){if(bb(t),t.H==3){var e=t.W++,n=An(t.I);if(oe(n,"SID",t.K),oe(n,"RID",e),oe(n,"TYPE","terminate"),Ra(t,n),e=new Da(t,t.l,e),e.L=2,e.A=Zl(An(n)),n=!1,b.navigator&&b.navigator.sendBeacon)try{n=b.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&b.Image&&(new Image().src=e.A,n=!0),n||(e.g=Ob(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ba(e)}Pb(t)}function td(t){t.g&&(Qy(t),t.g.cancel(),t.g=null)}function bb(t){td(t),t.u&&(b.clearTimeout(t.u),t.u=null),Vl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&b.clearTimeout(t.m),t.m=null)}function nd(t){if(!gb(t.i)&&!t.m){t.m=!0;var e=t.Na;ga||KD(),ma||(ga(),ma=!0),Vy.add(e,t),t.C=0}}function uj(t,e){return mb(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ca(Be(t.Na,t,e),Nb(t,t.C)),t.C++,!0)}y.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Da(this,this.l,t),s=this.s;if(this.U&&(s?(s=jD(s),BD(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Sb(this,i,e),n=An(this.I),oe(n,"RID",t),oe(n,"CVER",22),this.F&&oe(n,"X-HTTP-Session-Id",this.F),Ra(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Tb(s)))+"&"+e:this.o&&Wy(n,this.o,s)),qy(this.i,i),this.bb&&oe(n,"TYPE","init"),this.P?(oe(n,"$req",e),oe(n,"SID","null"),i.aa=!0,Ty(i,n,null)):Ty(i,n,e),this.H=2}}else this.H==3&&(t?MD(this,t):this.j.length==0||gb(this.i)||MD(this))};function MD(t,e){var n;e?n=e.m:n=t.W++;let r=An(t.I);oe(r,"SID",t.K),oe(r,"RID",n),oe(r,"AID",t.V),Ra(t,r),t.o&&t.s&&Wy(r,t.o,t.s),n=new Da(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Sb(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),qy(t.i,n),Ty(n,r,e)}function Ra(t,e){t.na&&Py(t.na,function(n,r){oe(e,r,n)}),t.h&&ub({},function(n,r){oe(e,r,n)})}function Sb(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Be(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{nj(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Ab(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ga||KD(),ma||(ga(),ma=!0),Vy.add(e,t),t.A=0}}function Ky(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ca(Be(t.Ma,t),Nb(t,t.A)),t.A++,!0)}y.Ma=function(){if(this.u=null,Rb(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ca(Be(this.jb,this),t)}};y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,We(10),td(this),Rb(this))};function Qy(t){t.B!=null&&(b.clearTimeout(t.B),t.B=null)}function Rb(t){t.g=new Da(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=An(t.wa);oe(e,"RID","rpc"),oe(e,"SID",t.K),oe(e,"AID",t.V),oe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&oe(e,"TO",t.qa),oe(e,"TYPE","xmlhttp"),Ra(t,e),t.o&&t.s&&Wy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Zl(An(e)),n.u=null,n.S=!0,sb(n,t)}y.ib=function(){this.v!=null&&(this.v=null,td(this),Ky(this),We(19))};function Vl(t){t.v!=null&&(b.clearTimeout(t.v),t.v=null)}function xb(t,e){var n=null;if(t.g==e){Vl(t),Qy(t),t.g=null;var r=2}else if(by(t.i,e))n=e.F,yb(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Kl(),Me(r,new eb(r,n)),nd(t)}else Ab(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&uj(t,e)||r==2&&Ky(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ni(t,5);break;case 4:ni(t,10);break;case 3:ni(t,6);break;default:ni(t,2)}}}function Nb(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ni(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Be(t.pb,t);n||(n=new ri("//www.google.com/images/cleardot.gif"),b.location&&b.location.protocol=="http"||Fl(n,"https"),Zl(n)),rj(n.toString(),r)}else We(2);t.H=0,t.h&&t.h.za(e),Pb(t),bb(t)}y.pb=function(t){t?(this.l.info("Successfully pinged google.com"),We(2)):(this.l.info("Failed to ping google.com"),We(1))};function Pb(t){if(t.H=0,t.ma=[],t.h){let e=_b(t.i);(e.length!=0||t.j.length!=0)&&(TD(t.ma,e),TD(t.ma,t.j),t.i.i.length=0,xy(t.j),t.j.length=0),t.h.ya()}}function Mb(t,e,n){var r=n instanceof ri?An(n):new ri(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ll(r,r.m);else{var i=b.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ri(null);r&&Fl(s,r),e&&(s.g=e),i&&Ll(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&oe(r,n,e),oe(r,"VER",t.ra),Ra(t,r),r}function Ob(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new he(new Sa({ob:n})):new he(t.va),e.Oa(t.J),e}y.isActive=function(){return!!this.h&&this.h.isActive(this)};function kb(){}y=kb.prototype;y.Ba=function(){};y.Aa=function(){};y.za=function(){};y.ya=function(){};y.isActive=function(){return!0};y.Va=function(){};function Ul(){if(Es&&!(10<=Number(bU)))throw Error("Environmental error: no available transport.")}Ul.prototype.g=function(t,e){return new ut(t,e)};function ut(t,e){Te.call(this),this.g=new Db(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!fa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fa(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ts(this)}De(ut,Te);ut.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;We(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Mb(t,null,t.Y),nd(t)};ut.prototype.close=function(){Gy(this.g)};ut.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Ly(t),t=n);e.j.push(new ZU(e.fb++,t)),e.H==3&&nd(e)};ut.prototype.N=function(){this.g.h=null,delete this.j,Gy(this.g),delete this.g,ut.$.N.call(this)};function Fb(t){$y.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}De(Fb,$y);function Lb(){Hy.call(this),this.status=1}De(Lb,Hy);function Ts(t){this.g=t}De(Ts,kb);Ts.prototype.Ba=function(){Me(this.g,"a")};Ts.prototype.Aa=function(t){Me(this.g,new Fb(t))};Ts.prototype.za=function(t){Me(this.g,new Lb)};Ts.prototype.ya=function(){Me(this.g,"b")};function lj(){this.blockSize=-1}function Mt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}De(Mt,lj);Mt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function hy(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Mt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)hy(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){hy(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){hy(this,r),i=0;break}}this.h=i,this.i+=e};Mt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ee(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var dj={};function Yy(t){return-128<=t&&128>t?CU(t,function(e){return new ee([e|0],0>e?-1:0)}):new ee([t|0],0>t?-1:0)}function sn(t){if(isNaN(t)||!isFinite(t))return Is;if(0>t)return Pe(sn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Sy;return new ee(e,0)}function Vb(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Pe(Vb(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=sn(Math.pow(e,8)),r=Is,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=sn(Math.pow(e,s)),r=r.R(s).add(sn(o))):(r=r.R(n),r=r.add(sn(o)))}return r}var Sy=4294967296,Is=Yy(0),Ay=Yy(1),OD=Yy(16777216);y=ee.prototype;y.ea=function(){if(It(this))return-Pe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Sy+r)*e,e*=Sy}return t};y.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Sn(this))return"0";if(It(this))return"-"+Pe(this).toString(t);for(var e=sn(Math.pow(t,6)),n=this,r="";;){var i=Bl(n,e).g;n=jl(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Sn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};y.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Sn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function It(t){return t.h==-1}y.X=function(t){return t=jl(this,t),It(t)?-1:Sn(t)?0:1};function Pe(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ee(n,~t.h).add(Ay)}y.abs=function(){return It(this)?Pe(this):this};y.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ee(n,n[n.length-1]&-2147483648?-1:0)};function jl(t,e){return t.add(Pe(e))}y.R=function(t){if(Sn(this)||Sn(t))return Is;if(It(this))return It(t)?Pe(this).R(Pe(t)):Pe(Pe(this).R(t));if(It(t))return Pe(this.R(Pe(t)));if(0>this.X(OD)&&0>t.X(OD))return sn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,kl(n,2*r+2*i),n[2*r+2*i+1]+=s*c,kl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,kl(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,kl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ee(n,0)};function kl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ua(t,e){this.g=t,this.h=e}function Bl(t,e){if(Sn(e))throw Error("division by zero");if(Sn(t))return new ua(Is,Is);if(It(t))return e=Bl(Pe(t),e),new ua(Pe(e.g),Pe(e.h));if(It(e))return e=Bl(t,Pe(e)),new ua(Pe(e.g),e.h);if(30<t.g.length){if(It(t)||It(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ay,r=e;0>=r.X(t);)n=kD(n),r=kD(r);var i=vs(n,1),s=vs(r,1);for(r=vs(r,2),n=vs(n,2);!Sn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=vs(r,1),n=vs(n,1)}return e=jl(t,i.R(e)),new ua(i,e)}for(i=Is;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=sn(n),o=s.R(e);It(o)||0<o.X(t);)n-=r,s=sn(n),o=s.R(e);Sn(s)&&(s=Ay),i=i.add(s),t=jl(t,o)}return new ua(i,t)}y.gb=function(t){return Bl(this,t).h};y.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ee(n,this.h&t.h)};y.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ee(n,this.h|t.h)};y.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ee(n,this.h^t.h)};function kD(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ee(n,t.h)}function vs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ee(i,t.h)}Ul.prototype.createWebChannel=Ul.prototype.g;ut.prototype.send=ut.prototype.u;ut.prototype.open=ut.prototype.m;ut.prototype.close=ut.prototype.close;Ql.NO_ERROR=0;Ql.TIMEOUT=8;Ql.HTTP_ERROR=6;tb.COMPLETE="complete";nb.EventType=Ta;Ta.OPEN="a";Ta.CLOSE="b";Ta.ERROR="c";Ta.MESSAGE="d";Te.prototype.listen=Te.prototype.O;he.prototype.listenOnce=he.prototype.P;he.prototype.getLastError=he.prototype.Sa;he.prototype.getLastErrorCode=he.prototype.Ia;he.prototype.getStatus=he.prototype.da;he.prototype.getResponseJson=he.prototype.Wa;he.prototype.getResponseText=he.prototype.ja;he.prototype.send=he.prototype.ha;he.prototype.setWithCredentials=he.prototype.Oa;Mt.prototype.digest=Mt.prototype.l;Mt.prototype.reset=Mt.prototype.reset;Mt.prototype.update=Mt.prototype.j;ee.prototype.add=ee.prototype.add;ee.prototype.multiply=ee.prototype.R;ee.prototype.modulo=ee.prototype.gb;ee.prototype.compare=ee.prototype.X;ee.prototype.toNumber=ee.prototype.ea;ee.prototype.toString=ee.prototype.toString;ee.prototype.getBits=ee.prototype.D;ee.fromNumber=sn;ee.fromString=Vb;var hj=Ot.createWebChannelTransport=function(){return new Ul},fj=Ot.getStatEventTarget=function(){return Kl()},pj=Ot.ErrorCode=Ql,gj=Ot.EventType=tb,mj=Ot.Event=ii,yj=Ot.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},NW=Ot.FetchXmlHttpFactory=Sa,_j=Ot.WebChannel=nb,vj=Ot.XhrIo=he,wj=Ot.Md5=Mt,Ub=Ot.Integer=ee;var jb="@firebase/firestore";var be=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};be.UNAUTHENTICATED=new be(null),be.GOOGLE_CREDENTIALS=new be("google-credentials-uid"),be.FIRST_PARTY=new be("first-party-uid"),be.MOCK_USER=new be("mock-user");var Na="10.11.0";var bs=new Yt("@firebase/firestore");function lt(t,...e){if(bs.logLevel<=K.DEBUG){let n=e.map(y_);bs.debug(`Firestore (${Na}): ${t}`,...n)}}function m_(t,...e){if(bs.logLevel<=K.ERROR){let n=e.map(y_);bs.error(`Firestore (${Na}): ${t}`,...n)}}function Ij(t,...e){if(bs.logLevel<=K.WARN){let n=e.map(y_);bs.warn(`Firestore (${Na}): ${t}`,...n)}}function y_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function rt(t="Unexpected state"){let e=`FIRESTORE (${Na}) INTERNAL ASSERTION FAILED: `+t;throw m_(e),new Error(e)}function xa(t,e){t||rt()}var Oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},we=class extends ct{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ur=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var rd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Zy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(be.UNAUTHENTICATED))}shutdown(){}},Xy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},e_=class{constructor(e){this.t=e,this.currentUser=be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ur,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ur)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xa(typeof r.accessToken=="string"),new rd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return xa(e===null||typeof e=="string"),new be(e)}},t_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=be.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},n_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new t_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(be.FIRST_PARTY))}shutdown(){}invalidateToken(){}},r_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},i_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,lt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xa(typeof n.token=="string"),this.R=n.token,new r_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Ej(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var s_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Ej(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function zb(t,e){return t<e?-1:t>e?1:0}var o_=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&rt(),r===void 0?r=e.length-n:r>e.length-n&&rt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},cr=class t extends o_{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new we(Oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var si=class t{constructor(e){this.path=e}static fromPath(e){return new t(cr.fromString(e))}static fromName(e){return new t(cr.fromString(e).popFirst(5))}static empty(){return new t(cr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&cr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return cr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new cr(e.slice()))}};var a_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};a_.UNKNOWN_ID=-1;function Wb(t){return t.name==="IndexedDbTransactionError"}function Cj(t){return t===0&&1/t==-1/0}var Tj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$W=[...Tj,"documentOverlays"],Dj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bj=Dj,HW=[...bj,"indexConfiguration","indexState","indexEntries"];var Ss=class t{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ds(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ds(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ds(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ds(this.root,e,this.comparator,!0)}},Ds=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},an=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();let e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}};an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var id=class t{constructor(e){this.comparator=e,this.data=new Ss(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sd(this.data.getIterator())}getIteratorFrom(e){return new sd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},sd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var c_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var As=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new c_("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zb(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};As.EMPTY_BYTE_STRING=new As("");var Sj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Aj(t){if(xa(!!t),typeof t=="string"){let e=0,n=Sj.exec(t);if(xa(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:od(t.seconds),nanos:od(t.nanos)}}function od(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rj(t){return typeof t=="string"?As.fromBase64String(t):As.fromUint8Array(t)}var u_=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},l_=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function xj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var zW=new Ss(si.comparator);var WW=new Ss(si.comparator);var GW=new Ss(si.comparator),KW=new id(si.comparator);var QW=new id(zb);var Bb,W;(W=Bb||(Bb={}))[W.OK=0]="OK",W[W.CANCELLED=1]="CANCELLED",W[W.UNKNOWN=2]="UNKNOWN",W[W.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",W[W.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",W[W.NOT_FOUND=5]="NOT_FOUND",W[W.ALREADY_EXISTS=6]="ALREADY_EXISTS",W[W.PERMISSION_DENIED=7]="PERMISSION_DENIED",W[W.UNAUTHENTICATED=16]="UNAUTHENTICATED",W[W.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",W[W.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",W[W.ABORTED=10]="ABORTED",W[W.OUT_OF_RANGE=11]="OUT_OF_RANGE",W[W.UNIMPLEMENTED=12]="UNIMPLEMENTED",W[W.INTERNAL=13]="INTERNAL",W[W.UNAVAILABLE=14]="UNAVAILABLE",W[W.DATA_LOSS=15]="DATA_LOSS";var YW=new Ub([4294967295,4294967295],0);var ad=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(od(e.integerValue));else if("doubleValue"in e){let r=od(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Cj(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=Aj(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Rj(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?xj(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):rt()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),si.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};ad.bt=new ad;var JW=new Uint8Array(0);var on=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(41943040,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);function Jy(){return typeof document<"u"?document:null}var d_=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&lt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var h_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(Oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Nj(t,e){if(m_("AsyncQueue",`${e}: ${t}`),Wb(t))return new we(Oe.UNAVAILABLE,`${e}: ${t}`);throw t}var $b,Hb;(Hb=$b||($b={})).j_="default",Hb.Cache="cache";var f_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=be.UNAUTHENTICATED,this.clientId=s_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>p(this,null,function*(){lt("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(lt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new we(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Nj(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Gb(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var qb=new Map;function Pj(t,e,n,r){if(e===!0&&r===!0)throw new we(Oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Mj(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rt()}function Oj(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(Oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Mj(t);throw new we(Oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var cd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(Oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Pj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new we(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new we(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new we(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ud=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new we(Oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new we(Oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Zy;switch(r.type){case"firstParty":return new n_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(Oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=qb.get(n);r&&(lt("ComponentProvider","Removing Datastore"),qb.delete(n),r.terminate())}(this),Promise.resolve()}};function Kb(t,e,n,r={}){var i;let s=(t=Oj(t,ud))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ij("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=be.MOCK_USER;else{a=Cu(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new we(Oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new be(u)}t._authCredentials=new Xy(new rd(a,c))}}var p_=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new d_(this,"async_queue_retry"),this.cu=()=>{let n=Jy();n&&lt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Jy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=Jy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new ur;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return p(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Wb(e))throw e;lt("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw m_("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let i=h_.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&rt()}verifyOperationInProgress(){}Tu(){return p(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};var g_=class extends ud{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new p_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||kj(this),this._firestoreClient.terminate()}};function Qb(t,e){let n=typeof t=="object"?t:Jn(),r=typeof t=="string"?t:e||"(default)",i=Ur(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Eu("firestore");s&&Kb(i,...s)}return i}function kj(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new u_(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Gb(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new f_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var ZW=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){Na=i})(Xt),Zt(new Ze("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new g_(new e_(r.getProvider("auth-internal")),new i_(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new we(Oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new l_(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ue(jb,"4.6.0",e),ue(jb,"4.6.0","esm2017")})();var Pa=class{constructor(e){return e}},Yb="firestore",__=class{constructor(){return Xo(Yb)}};var v_=new P("angularfire2.firestore-instances");function Fj(t,e){let n=cl(Yb,t,e);return n&&new Pa(n)}function Lj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Pa(r)}}var Vj={provide:__,deps:[[new Le,v_]]},Uj={provide:Pa,useFactory:Fj,deps:[[new Le,v_],Tn]},jj=(()=>{class t{constructor(){ue("angularfire",Qr.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=pn({type:t});static \u0275inj=fn({providers:[Uj,Vj]})}return t})();function Jb(t,...e){return{ngModule:jj,providers:[{provide:v_,useFactory:Lj(t),multi:!0,deps:[te,Rt,gs,Yr,[new Le,aa],[new Le,ps],...e]}]}}var Zb=ms(Qb,!0);var Bj={apiKey:"AIzaSyCK_XbyASoW2HE3dFyFtEXnQXASTVzilqQ",authDomain:"bidosi-manga.firebaseapp.com",databaseURL:"https://bidosi-manga-default-rtdb.europe-west1.firebasedatabase.app",projectId:"bidosi-manga",storageBucket:"bidosi-manga.appspot.com",messagingSenderId:"24335793429",appId:"1:24335793429:web:c9616afea73ecf763dfd1c"},Xb={providers:[cC(CD,uC()),kh([RT(()=>xT(Bj)),vD(()=>wD()),Jb(()=>Zb())])]};var eS={firebase:{apiKey:"AIzaSyCK_XbyASoW2HE3dFyFtEXnQXASTVzilqQ",authDomain:"bidosi-manga.firebaseapp.com",databaseURL:"https://bidosi-manga-default-rtdb.europe-west1.firebasedatabase.app",projectId:"bidosi-manga",storageBucket:"bidosi-manga.appspot.com",messagingSenderId:"24335793429",appId:"1:24335793429:web:c9616afea73ecf763dfd1c"}};var $j=t=>({navigate_to:t}),tS=(()=>{let e=class e{constructor(r,i){this._location=r,this.router=i,this.ifThisPageHome=!0,i.events.subscribe(s=>{this.router.url==="/"?this.ifThisPageHome=!0:this.ifThisPageHome=!1})}goBackPage(){this._location.back(),console.log(this.router.url)}};e.\u0275fac=function(i){return new(i||e)(Q(Ar),Q(Io))},e.\u0275cmp=Ve({type:e,selectors:[["bido-dom-nav"]],standalone:!0,features:[Ue],decls:13,vars:3,consts:[[1,"nav-content"],[1,"chapters","button",3,"ngClass"],[1,"home_back_buttons"],["viewBox","-2 -4 35 36",1,"back_b",3,"click"],["d","m24 2c3.3137085 0 6 2.6862915 6 6v16c0 3.3137085-2.6862915 6-6 6h-16c-3.3137085 0-6-2.6862915-6-6v-16c0-3.3137085 2.6862915-6 6-6zm-1.7573593 7.92893219c-.3905243-.39052429-1.0236893-.39052429-1.4142136 0l-8.6558932 8.65706781-.000961-4.586c0-.5522847-.4477153-1-1-1-.5522848 0-1 .4477153-1 1v7c0 .5522847.4477152 1 1 1h7c.5522847 0 1-.4477153 1-1s-.4477153-1-1-1l-4.586039.001 8.6571068-8.6578542c.3905243-.3905243.3905243-1.0236893 0-1.41421361z"],["routerLink","/","viewBox","0 0 35 35"],["d","m19.5548639 2.6028224 8.9944388 6.59912643c1.5405939 1.13031777 2.4506973 2.92683637 2.4506973 4.83760787v11.9604433c0 3.3137085-2.6862915 6-6 6h-18c-3.3137085 0-6-2.6862915-6-6v-11.958697c0-1.9117507.91103125-3.7090683 2.45293825-4.83925127l9.00556125-6.60087271c2.1123042-1.54827125 4.9847775-1.54760604 7.0963644.00164338zm-3.5548639 13.3971776c-2.209139 0-4 1.790861-4 4v3c0 .5522847.4477153 1 1 1h6c.5522847 0 1-.4477153 1-1v-3c0-2.209139-1.790861-4-4-4z"],["routerLink","/",1,"color-effect","logo"],[1,"reload","button"],["viewBox","0 0 24 24"],["d","M2.25 10C2.25 5.71979 5.71979 2.25 10 2.25C14.2802 2.25 17.75 5.71979 17.75 10C17.75 14.2802 14.2802 17.75 10 17.75C5.71979 17.75 2.25 14.2802 2.25 10Z"],["d","M16.8214 15.618C17.1645 15.2749 17.7044 15.2276 18.1019 15.5059L21.9536 18.2021C22.8451 18.8261 22.957 20.1037 22.1875 20.8731L21.8731 21.1875C21.1037 21.957 19.8261 21.8451 19.2021 20.9536L16.5059 17.1019C16.2276 16.7044 16.2749 16.1645 16.618 15.8214L16.8214 15.618Z"]],template:function(i,s){i&1&&(C(0,"div",0)(1,"div",1)(2,"div",2),Oi(),C(3,"svg",3),yn("click",function(){return s.goBackPage()}),ae(4,"path",4),S(),C(5,"svg",5),ae(6,"path",6),S()(),Fc(),C(7,"span",7),ne(8,"\u0411\u0456\u0434\u043E\u0441\u0456"),S()(),C(9,"div",8),Oi(),C(10,"svg",9),ae(11,"path",10)(12,"path",11),S()()()),i&2&&(Z(),ze("ngClass",Vi(1,$j,!s.ifThisPageHome)))},dependencies:[vu,Jc],styles:["@font-face{font-family:PopB;src:url(/assets/fonts/Poppins-ExtraBold.ttf);font-weight:800}.nav-content[_ngcontent-%COMP%]{background:var(--background);color:var(--text);position:fixed;top:0;left:0;width:100vw;z-index:3;display:flex;justify-content:space-between;align-items:center;-webkit-box-shadow:0px 9px 50px -10px var(--text-3);box-shadow:0 9px 50px -10px var(--text-3);overflow:hidden}.nav-content[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--text);padding:7px;height:30px}.nav-content[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{background:url(/assets/favicon.ico) no-repeat center;background-size:90% 100%;width:35px;height:30px;margin:5px}.chapters[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;transition:top .2s ease-in 0s;top:0}.home_back_buttons[_ngcontent-%COMP%]{display:flex;top:-50px;position:absolute}.home_back_buttons[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{padding-left:0}.navigate_to[_ngcontent-%COMP%]{top:46px}.navigate_to[_ngcontent-%COMP%]   .back_b[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_hithere 1s ease 1}.button[_ngcontent-%COMP%]{padding:0 20px}.color-effect[_ngcontent-%COMP%]{font-family:PopB;font-weight:800;font-size:22px;background:linear-gradient(120deg,var(--primary),var(--accent));background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.back_b[_ngcontent-%COMP%]{transform:rotate(47deg);animation:_ngcontent-%COMP%_hithere 1s ease 1}@keyframes _ngcontent-%COMP%_hithere{30%{transform:scale(1.2) rotate(47deg)}40%,60%{transform:rotate(42deg) scale(1.2)}50%{transform:rotate(47deg) scale(1.2)}70%{transform:rotate(42deg) scale(1.2)}to{transform:scale(1) rotate(47deg)}}"]});let t=e;return t})();var nS=(()=>{let e=class e{constructor(){this.title="Mabido Manga \u0434\u043B\u044F \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0456\u0432 ",this.app=No(eS.firebase)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ve({type:e,selectors:[["app-root"]],standalone:!0,features:[Ue],decls:3,vars:0,consts:[[1,"main"]],template:function(i,s){i&1&&(C(0,"main",0),ae(1,"bido-dom-nav"),S(),ae(2,"router-outlet"))},dependencies:[wp,tS],styles:['[_nghost-%COMP%]{--bright-blue: oklch(51.01% .274 263.83);--electric-violet: oklch(53.18% .28 296.97);--french-violet: oklch(47.66% .246 305.88);--vivid-pink: oklch(69.02% .277 332.77);--hot-red: oklch(61.42% .238 15.34);--orange-red: oklch(63.32% .24 31.68);--gray-900: oklch(19.37% .006 300.98);--gray-700: oklch(36.98% .014 302.71);--gray-400: oklch(70.9% .015 304.04);--red-to-pink-to-purple-vertical-gradient: linear-gradient( 180deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--red-to-pink-to-purple-horizontal-gradient: linear-gradient( 90deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--pill-accent: var(--bright-blue);font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,UZ Sans;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.light_theme   [_nghost-%COMP%]{--text: #021018;--text-3: rgba(2, 16, 24, .3);--background: #f4f9fb;--primary: #0b6484;--secondary: #f15fd2;--accent: #c5112c}[_nghost-%COMP%]{--text: #f4f9fb;--text-3: rgba(244, 249, 251, .1);--background: #04090b;--primary: #7ad3f4;--secondary: #a00e80;--accent: #ee3854}@font-face{font-family:UZSansB;src:url(/assets/fonts/UZSans-SemiBold.ttf);font-weight:400}body[_ngcontent-%COMP%]{margin:0;padding:0;background:var(--background);color:var(--text)}h1[_ngcontent-%COMP%]{font-size:3.125rem;color:var(--text);font-weight:500;line-height:100%;letter-spacing:-.125rem;margin:0;font-family:Inter Tight,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol}p[_ngcontent-%COMP%]{margin:0;color:var(--gray-700)}main[_ngcontent-%COMP%]{width:100%;min-height:100%;display:flex;align-items:center;padding:1rem;box-sizing:inherit;position:relative}.angular-logo[_ngcontent-%COMP%]{max-width:9.2rem}.content[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;max-width:700px;margin-bottom:3rem}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:1.75rem}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1.5rem}.divider[_ngcontent-%COMP%]{width:1px;background:var(--red-to-pink-to-purple-vertical-gradient);margin-inline:.5rem}.pill-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;flex-wrap:wrap;gap:1.25rem}.pill[_ngcontent-%COMP%]{display:flex;align-items:center;--pill-accent: var(--bright-blue);background:color-mix(in srgb,var(--pill-accent) 5%,transparent);color:var(--pill-accent);padding-inline:.75rem;padding-block:.375rem;border-radius:2.75rem;border:0;transition:background .3s ease;font-family:var(--inter-font);font-size:.875rem;font-style:normal;font-weight:500;line-height:1.4rem;letter-spacing:-.00875rem;text-decoration:none}.pill[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--pill-accent) 15%,transparent)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+1){--pill-accent: var(--bright-blue)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+2){--pill-accent: var(--french-violet)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+3), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+4), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+5){--pill-accent: var(--hot-red)}.pill-group[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-inline-start:.25rem}.social-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.73rem;margin-top:1.5rem}.social-links[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:fill .3s ease;fill:var(--gray-400)}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--gray-900)}@media screen and (max-width: 650px){.content[_ngcontent-%COMP%]{flex-direction:column;width:max-content}.divider[_ngcontent-%COMP%]{height:1px;width:100%;background:var(--red-to-pink-to-purple-horizontal-gradient);margin-block:1.5rem}.main[_ngcontent-%COMP%]{padding:0}}']});let t=e;return t})();bE(nS,Xb).catch(t=>console.error(t));
