var Xb=Object.defineProperty,eS=Object.defineProperties;var tS=Object.getOwnPropertyDescriptors;var m_=Object.getOwnPropertySymbols,nS=Object.getPrototypeOf,rS=Object.prototype.hasOwnProperty,iS=Object.prototype.propertyIsEnumerable,sS=Reflect.get;var y_=(t,e,n)=>e in t?Xb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w=(t,e)=>{for(var n in e||={})rS.call(e,n)&&y_(t,n,e[n]);if(m_)for(var n of m_(e))iS.call(e,n)&&y_(t,n,e[n]);return t},ae=(t,e)=>eS(t,tS(e));var Rn=(t,e,n)=>sS(nS(t),n,e);var p=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});function oS(t,e){return Object.is(t,e)}var Ie=null,Aa=!1,Ra=1,ii=Symbol("SIGNAL");function G(t){let e=Ie;return Ie=t,e}var cd={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function __(t){if(Aa)throw new Error("");if(Ie===null)return;Ie.consumerOnSignalRead(t);let e=Ie.nextProducerIndex++;if(ri(Ie),e<Ie.producerNode.length&&Ie.producerNode[e]!==t&&Ss(Ie)){let n=Ie.producerNode[e];xa(n,Ie.producerIndexOfThis[e])}Ie.producerNode[e]!==t&&(Ie.producerNode[e]=t,Ie.producerIndexOfThis[e]=Ss(Ie)?T_(t,Ie,e):0),Ie.producerLastReadVersion[e]=t.version}function aS(){Ra++}function cS(t){if(!(Ss(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ra)){if(!t.producerMustRecompute(t)&&!ud(t)){t.dirty=!1,t.lastCleanEpoch=Ra;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ra}}function v_(t){if(t.liveConsumerNode===void 0)return;let e=Aa;Aa=!0;try{for(let n of t.liveConsumerNode)n.dirty||uS(n)}finally{Aa=e}}function w_(){return Ie?.consumerAllowSignalWrites!==!1}function uS(t){t.dirty=!0,v_(t),t.consumerMarkedDirty?.(t)}function I_(t){return t&&(t.nextProducerIndex=0),G(t)}function E_(t,e){if(G(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ss(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)xa(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ud(t){ri(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(cS(n),r!==n.version))return!0}return!1}function C_(t){if(ri(t),Ss(t))for(let e=0;e<t.producerNode.length;e++)xa(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function T_(t,e,n){if(D_(t),ri(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=T_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function xa(t,e){if(D_(t),ri(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)xa(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ri(i),i.producerIndexOfThis[r]=e}}function Ss(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ri(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function D_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function lS(){throw new Error}var b_=lS;function S_(){b_()}function A_(t){b_=t}var dS=null;function R_(t){let e=Object.create(N_);e.value=t;let n=()=>(__(e),e.value);return n[ii]=e,n}function ld(t,e){w_()||S_(),t.equal(t.value,e)||(t.value=e,hS(t))}function x_(t,e){w_()||S_(),ld(t,e(t.value))}var N_=ae(w({},cd),{equal:oS,value:void 0});function hS(t){t.version++,aS(),v_(t),dS?.()}function S(t){return typeof t=="function"}function si(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Na=si(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function cr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var fe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(S(r))try{r()}catch(s){e=s instanceof Na?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{P_(s)}catch(o){e=e??[],o instanceof Na?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Na(e)}}add(e){var n;if(e&&e!==this)if(this.closed)P_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&cr(n,e)}remove(e){let{_finalizers:n}=this;n&&cr(n,e),e instanceof t&&e._removeParent(this)}};fe.EMPTY=(()=>{let t=new fe;return t.closed=!0,t})();var dd=fe.EMPTY;function Pa(t){return t instanceof fe||t&&"closed"in t&&S(t.remove)&&S(t.add)&&S(t.unsubscribe)}function P_(t){S(t)?t():t.unsubscribe()}var Et={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var oi={setTimeout(t,e,...n){let{delegate:r}=oi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=oi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ma(t){oi.setTimeout(()=>{let{onUnhandledError:e}=Et;if(e)e(t);else throw t})}function As(){}var M_=hd("C",void 0,void 0);function k_(t){return hd("E",void 0,t)}function O_(t){return hd("N",t,void 0)}function hd(t,e,n){return{kind:t,value:e,error:n}}var ur=null;function ai(t){if(Et.useDeprecatedSynchronousErrorHandling){let e=!ur;if(e&&(ur={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ur;if(ur=null,n)throw r}}else t()}function F_(t){Et.useDeprecatedSynchronousErrorHandling&&ur&&(ur.errorThrown=!0,ur.error=t)}var lr=class extends fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Pa(e)&&e.add(this)):this.destination=gS}static create(e,n,r){return new ci(e,n,r)}next(e){this.isStopped?pd(O_(e),this):this._next(e)}error(e){this.isStopped?pd(k_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?pd(M_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},fS=Function.prototype.bind;function fd(t,e){return fS.call(t,e)}var gd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ka(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ka(r)}else ka(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ka(n)}}},ci=class extends lr{constructor(e,n,r){super();let i;if(S(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Et.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&fd(e.next,s),error:e.error&&fd(e.error,s),complete:e.complete&&fd(e.complete,s)}):i=e}this.destination=new gd(i)}};function ka(t){Et.useDeprecatedSynchronousErrorHandling?F_(t):Ma(t)}function pS(t){throw t}function pd(t,e){let{onStoppedNotification:n}=Et;n&&oi.setTimeout(()=>n(t,e))}var gS={closed:!0,next:As,error:pS,complete:As};var ui=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rt(t){return t}function md(...t){return yd(t)}function yd(t){return t.length===0?rt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var $=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=yS(n)?n:new ci(n,r,i);return ai(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=L_(r),new r((i,s)=>{let o=new ci({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ui](){return this}pipe(...n){return yd(n)(this)}toPromise(n){return n=L_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function L_(t){var e;return(e=t??Et.Promise)!==null&&e!==void 0?e:Promise}function mS(t){return t&&S(t.next)&&S(t.error)&&S(t.complete)}function yS(t){return t&&t instanceof lr||mS(t)&&Pa(t)}function _d(t){return S(t?.lift)}function H(t){return e=>{if(_d(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function q(t,e,n,r,i){return new vd(t,e,n,r,i)}var vd=class extends lr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function li(){return H((t,e)=>{let n=null;t._refCount++;let r=q(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var di=class extends ${constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,_d(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new fe;let n=this.getSubject();e.add(this.source.subscribe(q(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=fe.EMPTY)}return e}refCount(){return li()(this)}};var V_=si(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ke=(()=>{class t extends ${constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Oa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new V_}next(n){ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?dd:(this.currentObservers=null,s.push(n),new fe(()=>{this.currentObservers=null,cr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new $;return n.source=this,n}}return t.create=(e,n)=>new Oa(e,n),t})(),Oa=class extends ke{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:dd}};var pe=class extends ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var wd={now(){return(wd.delegate||Date).now()},delegate:void 0};var Fa=class extends fe{constructor(e,n){super()}schedule(e,n=0){return this}};var Rs={setInterval(t,e,...n){let{delegate:r}=Rs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Rs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var hi=class extends Fa{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Rs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Rs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,cr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var fi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};fi.now=wd.now;var pi=class extends fi{constructor(e,n=fi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Id=new pi(hi);var La=class extends hi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Va=class extends pi{};var Ed=new Va(La);var Be=new $(t=>t.complete());function U_(t){return t&&S(t.schedule)}function j_(t){return t[t.length-1]}function B_(t){return S(j_(t))?t.pop():void 0}function xn(t){return U_(j_(t))?t.pop():void 0}function Cd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function H_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function $_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function dr(t){return this instanceof dr?(this.v=t,this):new dr(t)}function q_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,_){s.push([h,f,g,_])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof dr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function z_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof $_=="function"?$_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Ua=t=>t&&typeof t.length=="number"&&typeof t!="function";function ja(t){return S(t?.then)}function Ba(t){return S(t[ui])}function $a(t){return Symbol.asyncIterator&&S(t?.[Symbol.asyncIterator])}function Ha(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function _S(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var qa=_S();function za(t){return S(t?.[qa])}function Wa(t){return q_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield dr(n.read());if(i)return yield dr(void 0);yield yield dr(r)}}finally{n.releaseLock()}})}function Ga(t){return S(t?.getReader)}function Ee(t){if(t instanceof $)return t;if(t!=null){if(Ba(t))return vS(t);if(Ua(t))return wS(t);if(ja(t))return IS(t);if($a(t))return W_(t);if(za(t))return ES(t);if(Ga(t))return CS(t)}throw Ha(t)}function vS(t){return new $(e=>{let n=t[ui]();if(S(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function wS(t){return new $(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function IS(t){return new $(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ma)})}function ES(t){return new $(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function W_(t){return new $(e=>{TS(t,e).catch(n=>e.error(n))})}function CS(t){return W_(Wa(t))}function TS(t,e){var n,r,i,s;return H_(this,void 0,void 0,function*(){try{for(n=z_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function ze(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Nn(t,e=0){return H((n,r)=>{n.subscribe(q(r,i=>ze(r,t,()=>r.next(i),e),()=>ze(r,t,()=>r.complete(),e),i=>ze(r,t,()=>r.error(i),e)))})}function Pn(t,e=0){return H((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function G_(t,e){return Ee(t).pipe(Pn(e),Nn(e))}function K_(t,e){return Ee(t).pipe(Pn(e),Nn(e))}function Q_(t,e){return new $(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Y_(t,e){return new $(n=>{let r;return ze(n,e,()=>{r=t[qa](),ze(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>S(r?.return)&&r.return()})}function Ka(t,e){if(!t)throw new Error("Iterable cannot be null");return new $(n=>{ze(n,e,()=>{let r=t[Symbol.asyncIterator]();ze(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function J_(t,e){return Ka(Wa(t),e)}function Z_(t,e){if(t!=null){if(Ba(t))return G_(t,e);if(Ua(t))return Q_(t,e);if(ja(t))return K_(t,e);if($a(t))return Ka(t,e);if(za(t))return Y_(t,e);if(Ga(t))return J_(t,e)}throw Ha(t)}function ge(t,e){return e?Z_(t,e):Ee(t)}function A(...t){let e=xn(t);return ge(t,e)}function gi(t,e){let n=S(t)?t:()=>t,r=i=>i.error(n());return new $(e?i=>e.schedule(r,0,i):r)}function Td(t){return!!t&&(t instanceof $||S(t.lift)&&S(t.subscribe))}var ln=si(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function z(t,e){return H((n,r)=>{let i=0;n.subscribe(q(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:DS}=Array;function bS(t,e){return DS(e)?t(...e):t(e)}function X_(t){return z(e=>bS(t,e))}var{isArray:SS}=Array,{getPrototypeOf:AS,prototype:RS,keys:xS}=Object;function ev(t){if(t.length===1){let e=t[0];if(SS(e))return{args:e,keys:null};if(NS(e)){let n=xS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function NS(t){return t&&typeof t=="object"&&AS(t)===RS}function tv(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function xs(...t){let e=xn(t),n=B_(t),{args:r,keys:i}=ev(t);if(r.length===0)return ge([],e);let s=new $(PS(r,e,i?o=>tv(i,o):rt));return n?s.pipe(X_(n)):s}function PS(t,e,n=rt){return r=>{nv(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)nv(e,()=>{let u=ge(t[c],e),l=!1;u.subscribe(q(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function nv(t,e,n){t?ze(n,t,e):e()}function rv(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=_=>u<r?g(_):c.push(_),g=_=>{s&&e.next(_),u++;let P=!1;Ee(n(_,l++)).subscribe(q(e,B=>{i?.(B),s?f(B):e.next(B)},()=>{P=!0},void 0,()=>{if(P)try{for(u--;c.length&&u<r;){let B=c.shift();o?ze(e,o,()=>g(B)):g(B)}h()}catch(B){e.error(B)}}))};return t.subscribe(q(e,f,()=>{d=!0,h()})),()=>{a?.()}}function me(t,e,n=1/0){return S(e)?me((r,i)=>z((s,o)=>e(r,s,i,o))(Ee(t(r,i))),n):(typeof e=="number"&&(n=e),H((r,i)=>rv(r,i,t,n)))}function Dd(t=1/0){return me(rt,t)}function iv(){return Dd(1)}function mi(...t){return iv()(ge(t,xn(t)))}function Qa(t){return new $(e=>{Ee(t()).subscribe(e)})}function Ct(t,e){return H((n,r)=>{let i=0;n.subscribe(q(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Mn(t){return H((e,n)=>{let r=null,i=!1,s;r=e.subscribe(q(n,void 0,void 0,o=>{s=Ee(t(o,Mn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function sv(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(q(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function yi(t,e){return S(e)?me(t,e,1):me(t,1)}function kn(t){return H((e,n)=>{let r=!1;e.subscribe(q(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function dn(t){return t<=0?()=>Be:H((e,n)=>{let r=0;e.subscribe(q(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function bd(t){return z(()=>t)}function Ya(t=MS){return H((e,n)=>{let r=!1;e.subscribe(q(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function MS(){return new ln}function Ns(t){return H((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ot(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ct((i,s)=>t(i,s,r)):rt,dn(1),n?kn(e):Ya(()=>new ln))}function _i(t){return t<=0?()=>Be:H((e,n)=>{let r=[];e.subscribe(q(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Sd(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ct((i,s)=>t(i,s,r)):rt,_i(1),n?kn(e):Ya(()=>new ln))}function Ad(t,e){return H(sv(t,e,arguments.length>=2,!0))}function Rd(...t){let e=xn(t);return H((n,r)=>{(e?mi(t,n,e):mi(t,n)).subscribe(r)})}function dt(t,e){return H((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(q(r,c=>{i?.unsubscribe();let u=0,l=s++;Ee(t(c,l)).subscribe(i=q(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function xd(t){return H((e,n)=>{Ee(t).subscribe(q(n,()=>n.complete(),As)),!n.closed&&e.subscribe(n)})}function ye(t,e,n){let r=S(t)||e||n?{next:t,error:e,complete:n}:t;return r?H((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(q(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):rt}var $v="https://g.co/ng/security#xss",I=class extends Error{constructor(e,n){super(bh(e,n)),this.code=e}};function bh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function qs(t){return{toString:t}.toString()}var Ja="__parameters__";function kS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Hv(t,e,n){return qs(()=>{let r=kS(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(Ja)?c[Ja]:Object.defineProperty(c,Ja,{value:[]})[Ja];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var hr=globalThis;function te(t){for(let e in t)if(t[e]===te)return e;throw Error("Could not find renamed property on target object.")}function Ge(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ge).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function ov(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var OS=te({__forward_ref__:te});function qv(t){return t.__forward_ref__=qv,t.toString=function(){return Ge(this())},t}function ht(t){return zv(t)?t():t}function zv(t){return typeof t=="function"&&t.hasOwnProperty(OS)&&t.__forward_ref__===qv}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function fn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Cc(t){return av(t,Gv)||av(t,Kv)}function Wv(t){return Cc(t)!==null}function av(t,e){return t.hasOwnProperty(e)?t[e]:null}function FS(t){let e=t&&(t[Gv]||t[Kv]);return e||null}function cv(t){return t&&(t.hasOwnProperty(uv)||t.hasOwnProperty(LS))?t[uv]:null}var Gv=te({\u0275prov:te}),uv=te({\u0275inj:te}),Kv=te({ngInjectableDef:te}),LS=te({ngInjectorDef:te}),N=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Qv(t){return t&&!!t.\u0275providers}var VS=te({\u0275cmp:te}),US=te({\u0275dir:te}),jS=te({\u0275pipe:te}),BS=te({\u0275mod:te}),ic=te({\u0275fac:te}),Ps=te({__NG_ELEMENT_ID__:te}),lv=te({__NG_ENV_ID__:te});function Ti(t){return typeof t=="string"?t:t==null?"":String(t)}function $S(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ti(t)}function HS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new I(-200,t)}function Sh(t,e){throw new I(-201,!1)}var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(k||{}),Bd;function Yv(){return Bd}function We(t){let e=Bd;return Bd=t,e}function Jv(t,e,n){let r=Cc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&k.Optional)return null;if(e!==void 0)return e;Sh(t,"Injector")}var qS={},Ms=qS,$d="__NG_DI_FLAG__",sc="ngTempTokenPath",zS="ngTokenPath",WS=/\n/gm,GS="\u0275",dv="__source",Ei;function KS(){return Ei}function On(t){let e=Ei;return Ei=t,e}function QS(t,e=k.Default){if(Ei===void 0)throw new I(-203,!1);return Ei===null?Jv(t,void 0,e):Ei.get(t,e&k.Optional?null:void 0,e)}function O(t,e=k.Default){return(Yv()||QS)(ht(t),e)}function v(t,e=k.Default){return O(t,Tc(e))}function Tc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Hd(t){let e=[];for(let n=0;n<t.length;n++){let r=ht(t[n]);if(Array.isArray(r)){if(r.length===0)throw new I(900,!1);let i,s=k.Default;for(let o=0;o<r.length;o++){let a=r[o],c=YS(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(O(i,s))}else e.push(O(r))}return e}function Zv(t,e){return t[$d]=e,t.prototype[$d]=e,t}function YS(t){return t[$d]}function JS(t,e,n,r){let i=t[sc];throw e[dv]&&i.unshift(e[dv]),t.message=ZS(`
`+t.message,i,n,r),t[zS]=i,t[sc]=null,t}function ZS(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==GS?t.slice(2):t;let i=Ge(e);if(Array.isArray(e))i=e.map(Ge).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ge(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(WS,`
  `)}`}var Fe=Zv(Hv("Optional"),8);var Ah=Zv(Hv("SkipSelf"),4);function gr(t,e){let n=t.hasOwnProperty(ic);return n?t[ic]:null}function Rh(t,e){t.forEach(n=>Array.isArray(n)?Rh(n,e):e(n))}function Xv(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function oc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var ks={},Ft=[],Di=new N(""),ew=new N("",-1),tw=new N(""),ac=class{get(e,n=Ms){if(n===Ms){let r=new Error(`NullInjectorError: No provider for ${Ge(e)}!`);throw r.name="NullInjectorError",r}return n}},nw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(nw||{}),Ut=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ut||{}),pt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(pt||{});function XS(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function qd(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];eA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function rw(t){return t===3||t===4||t===6}function eA(t){return t.charCodeAt(0)===64}function xh(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?hv(t,n,i,null,e[++r]):hv(t,n,i,null,null))}}return t}function hv(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var iw="ng-template";function tA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&XS(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Nh(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Nh(t){return t.type===4&&t.value!==iw}function nA(t,e,n){let r=t.type===4&&!n?iw:t.value;return e===r}function rA(t,e,n){let r=4,i=t.attrs,s=i!==null?oA(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Tt(r)&&!Tt(c))return!1;if(o&&Tt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!nA(t,c,n)||c===""&&e.length===1){if(Tt(r))return!1;o=!0}}else if(r&8){if(i===null||!tA(t,i,c,n)){if(Tt(r))return!1;o=!0}}else{let u=e[++a],l=iA(c,i,Nh(t),n);if(l===-1){if(Tt(r))return!1;o=!0;continue}if(u!==""){let d;if(l>s?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(Tt(r))return!1;o=!0}}}}return Tt(r)||o}function Tt(t){return(t&1)===0}function iA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return aA(e,t)}function sA(t,e,n=!1){for(let r=0;r<e.length;r++)if(rA(t,e[r],n))return!0;return!1}function oA(t){for(let e=0;e<t.length;e++){let n=t[e];if(rw(n))return e}return t.length}function aA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function fv(t,e){return t?":not("+e.trim()+")":e}function cA(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Tt(o)&&(e+=fv(s,i),i=""),r=o,s=s||!Tt(r);n++}return i!==""&&(e+=fv(s,i)),e}function uA(t){return t.map(cA).join(",")}function lA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Tt(i))break;i=s}r++}return{attrs:e,classes:n}}function Ke(t){return qs(()=>{let e=lw(t),n=ae(w({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===nw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ut.Emulated,styles:t.styles||Ft,_:null,schemas:t.schemas||null,tView:null,id:""});dw(n);let r=t.dependencies;return n.directiveDefs=gv(r,!1),n.pipeDefs=gv(r,!0),n.id=fA(n),n})}function dA(t){return Ln(t)||ow(t)}function hA(t){return t!==null}function pn(t){return qs(()=>({type:t.type,bootstrap:t.bootstrap||Ft,declarations:t.declarations||Ft,imports:t.imports||Ft,exports:t.exports||Ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function pv(t,e){if(t==null)return ks;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=pt.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==pt.None?[r,a]:r,e[s]=o):n[s]=r}return n}function jn(t){return qs(()=>{let e=lw(t);return dw(e),e})}function sw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ln(t){return t[VS]||null}function ow(t){return t[US]||null}function aw(t){return t[jS]||null}function cw(t){let e=Ln(t)||ow(t)||aw(t);return e!==null?e.standalone:!1}function uw(t,e){let n=t[BS]||null;if(!n&&e===!0)throw new Error(`Type ${Ge(t)} does not have '\u0275mod' property.`);return n}function lw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ks,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ft,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pv(t.inputs,e),outputs:pv(t.outputs),debugInfo:null}}function dw(t){t.features?.forEach(e=>e(t))}function gv(t,e){if(!t)return null;let n=e?aw:dA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(hA)}function fA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Dc(t){return{\u0275providers:t}}function Ph(...t){return{\u0275providers:hw(!0,t),\u0275fromNgModule:!0}}function hw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Rh(e,o=>{let a=o;zd(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&fw(i,s),n}function fw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Mh(i,s=>{e(s,r)})}}function zd(t,e,n,r){if(t=ht(t),!t)return!1;let i=null,s=cv(t),o=!s&&Ln(t);if(!s&&!o){let c=t.ngModule;if(s=cv(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)zd(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Rh(s.imports,l=>{zd(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&fw(u,e)}if(!a){let u=gr(i)||(()=>new i);e({provide:i,useFactory:u,deps:Ft},i),e({provide:tw,useValue:i,multi:!0},i),e({provide:Di,useValue:()=>O(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Mh(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Mh(t,e){for(let n of t)Qv(n)&&(n=n.\u0275providers),Array.isArray(n)?Mh(n,e):e(n)}var pA=te({provide:String,useValue:te});function pw(t){return t!==null&&typeof t=="object"&&pA in t}function gA(t){return!!(t&&t.useExisting)}function mA(t){return!!(t&&t.useFactory)}function Wd(t){return typeof t=="function"}var bc=new N(""),Xa={},yA={},Nd;function kh(){return Nd===void 0&&(Nd=new ac),Nd}var gt=class{},Os=class extends gt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kd(e,o=>this.processProvider(o)),this.records.set(ew,vi(void 0,this)),i.has("environment")&&this.records.set(gt,vi(void 0,this));let s=this.records.get(bc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(tw,Ft,k.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=G(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=On(this),r=We(void 0),i;try{return e()}finally{On(n),We(r)}}get(e,n=Ms,r=k.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(lv))return e[lv](this);r=Tc(r);let i,s=On(this),o=We(void 0);try{if(!(r&k.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=CA(e)&&Cc(e);u&&this.injectableDefInScope(u)?c=vi(Gd(e),Xa):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&k.Self?kh():this.parent;return n=r&k.Optional&&n===Ms?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[sc]=a[sc]||[]).unshift(Ge(e)),s)throw a;return JS(a,e,"R3InjectorError",this.source)}else throw a}finally{We(o),On(s)}}resolveInjectorInitializers(){let e=G(null),n=On(this),r=We(void 0),i;try{let s=this.get(Di,Ft,k.Self);for(let o of s)o()}finally{On(n),We(r),G(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ge(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(e){e=ht(e);let n=Wd(e)?e:ht(e&&e.provide),r=vA(e);if(!Wd(e)&&e.multi===!0){let i=this.records.get(n);i||(i=vi(void 0,Xa,!0),i.factory=()=>Hd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=G(null);try{return n.value===Xa&&(n.value=yA,n.value=n.factory()),typeof n.value=="object"&&n.value&&EA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{G(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ht(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Gd(t){let e=Cc(t),n=e!==null?e.factory:gr(t);if(n!==null)return n;if(t instanceof N)throw new I(204,!1);if(t instanceof Function)return _A(t);throw new I(204,!1)}function _A(t){if(t.length>0)throw new I(204,!1);let n=FS(t);return n!==null?()=>n.factory(t):()=>new t}function vA(t){if(pw(t))return vi(void 0,t.useValue);{let e=wA(t);return vi(e,Xa)}}function wA(t,e,n){let r;if(Wd(t)){let i=ht(t);return gr(i)||Gd(i)}else if(pw(t))r=()=>ht(t.useValue);else if(mA(t))r=()=>t.useFactory(...Hd(t.deps||[]));else if(gA(t))r=()=>O(ht(t.useExisting));else{let i=ht(t&&(t.useClass||t.provide));if(IA(t))r=()=>new i(...Hd(t.deps));else return gr(i)||Gd(i)}return r}function vi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function IA(t){return!!t.deps}function EA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function CA(t){return typeof t=="function"||typeof t=="object"&&t instanceof N}function Kd(t,e){for(let n of t)Array.isArray(n)?Kd(n,e):n&&Qv(n)?Kd(n.\u0275providers,e):e(n)}function Ir(t,e){t instanceof Os&&t.assertNotDestroyed();let n,r=On(t),i=We(void 0);try{return e()}finally{On(r),We(i)}}function TA(){return Yv()!==void 0||KS()!=null}function DA(t){return typeof t=="function"}var gn=0,j=1,C=2,Oe=3,bt=4,At=5,cc=6,Fs=7,jt=8,bi=9,St=10,Ae=11,Ls=12,mv=13,xi=14,Bt=15,Sc=16,wi=17,Si=18,Ac=19,gw=20,Fn=21,Pd=22,mr=23,$t=25,mw=1;var yr=7,uc=8,lc=9,ft=10,Oh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Oh||{});function fr(t){return Array.isArray(t)&&typeof t[mw]=="object"}function mn(t){return Array.isArray(t)&&t[mw]===!0}function yw(t){return(t.flags&4)!==0}function Rc(t){return t.componentOffset>-1}function Fh(t){return(t.flags&1)===1}function zs(t){return!!t.template}function bA(t){return(t[C]&512)!==0}var Qd=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function _w(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Ws(){return vw}function vw(t){return t.type.prototype.ngOnChanges&&(t.setInput=AA),SA}Ws.ngInherit=!0;function SA(){let t=Iw(this),e=t?.current;if(e){let n=t.previous;if(n===ks)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function AA(t,e,n,r,i){let s=this.declaredInputs[r],o=Iw(t)||RA(t,{previous:ks,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Qd(u&&u.currentValue,n,c===ks),_w(t,e,i,n)}var ww="__ngSimpleChanges__";function Iw(t){return t[ww]||null}function RA(t,e){return t[ww]=e}var yv=null;var Lt=function(t,e,n){yv?.(t,e,n)},Ew="svg",xA="math",NA=!1;function PA(){return NA}function Ht(t){for(;Array.isArray(t);)t=t[gn];return t}function MA(t,e){return Ht(e[t])}function mt(t,e){return Ht(e[t.index])}function Cw(t,e){return t.data[e]}function kA(t,e){return t[e]}function Bn(t,e){let n=e[t];return fr(n)?n:n[gn]}function Lh(t){return(t[C]&128)===128}function OA(t){return mn(t[Oe])}function dc(t,e){return e==null?null:t[e]}function Tw(t){t[wi]=0}function FA(t){t[C]&1024||(t[C]|=1024,Lh(t)&&Vs(t))}function LA(t,e){for(;t>0;)e=e[xi],t--;return e}function Vh(t){return!!(t[C]&9216||t[mr]?.dirty)}function Yd(t){t[St].changeDetectionScheduler?.notify(1),Vh(t)?Vs(t):t[C]&64&&(PA()?(t[C]|=1024,Vs(t)):t[St].changeDetectionScheduler?.notify())}function Vs(t){t[St].changeDetectionScheduler?.notify();let e=Us(t);for(;e!==null&&!(e[C]&8192||(e[C]|=8192,!Lh(e)));)e=Us(e)}function Dw(t,e){if((t[C]&256)===256)throw new I(911,!1);t[Fn]===null&&(t[Fn]=[]),t[Fn].push(e)}function VA(t,e){if(t[Fn]===null)return;let n=t[Fn].indexOf(e);n!==-1&&t[Fn].splice(n,1)}function Us(t){let e=t[Oe];return mn(e)?e[Oe]:e}var V={lFrame:Mw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function UA(){return V.lFrame.elementDepthCount}function jA(){V.lFrame.elementDepthCount++}function BA(){V.lFrame.elementDepthCount--}function bw(){return V.bindingsEnabled}function $A(){return V.skipHydrationRootTNode!==null}function HA(t){return V.skipHydrationRootTNode===t}function qA(){V.skipHydrationRootTNode=null}function re(){return V.lFrame.lView}function qt(){return V.lFrame.tView}function yt(){let t=Sw();for(;t!==null&&t.type===64;)t=t.parent;return t}function Sw(){return V.lFrame.currentTNode}function zA(){let t=V.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Gs(t,e){let n=V.lFrame;n.currentTNode=t,n.isParent=e}function Aw(){return V.lFrame.isParent}function WA(){V.lFrame.isParent=!1}function Rw(){let t=V.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function GA(){return V.lFrame.bindingIndex}function KA(t){return V.lFrame.bindingIndex=t}function Uh(){return V.lFrame.bindingIndex++}function QA(t){let e=V.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function YA(){return V.lFrame.inI18n}function JA(t,e){let n=V.lFrame;n.bindingIndex=n.bindingRootIndex=t,Jd(e)}function ZA(){return V.lFrame.currentDirectiveIndex}function Jd(t){V.lFrame.currentDirectiveIndex=t}function xw(t){V.lFrame.currentQueryIndex=t}function XA(t){let e=t[j];return e.type===2?e.declTNode:e.type===1?t[At]:null}function Nw(t,e,n){if(n&k.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&k.Host);)if(i=XA(s),i===null||(s=s[xi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=V.lFrame=Pw();return r.currentTNode=e,r.lView=t,!0}function jh(t){let e=Pw(),n=t[j];V.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Pw(){let t=V.lFrame,e=t===null?null:t.child;return e===null?Mw(t):e}function Mw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function kw(){let t=V.lFrame;return V.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Ow=kw;function Bh(){let t=kw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function eR(t){return(V.lFrame.contextLView=LA(t,V.lFrame.contextLView))[jt]}function xc(){return V.lFrame.selectedIndex}function _r(t){V.lFrame.selectedIndex=t}function $h(){let t=V.lFrame;return Cw(t.tView,t.selectedIndex)}function Ni(){V.lFrame.currentNamespace=Ew}function Nc(){tR()}function tR(){V.lFrame.currentNamespace=null}function nR(){return V.lFrame.currentNamespace}var Fw=!0;function Hh(){return Fw}function qh(t){Fw=t}function rR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=vw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function zh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function ec(t,e,n){Lw(t,e,3,n)}function tc(t,e,n,r){(t[C]&3)===n&&Lw(t,e,n,r)}function Md(t,e){let n=t[C];(n&3)===e&&(n&=16383,n+=1,t[C]=n)}function Lw(t,e,n,r){let i=r!==void 0?t[wi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[wi]+=65536),(a<s||s==-1)&&(iR(t,n,e,c),t[wi]=(t[wi]&4294901760)+c+2),c++}function _v(t,e){Lt(4,t,e);let n=G(null);try{e.call(t)}finally{G(n),Lt(5,t,e)}}function iR(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[C]>>14<t[wi]>>16&&(t[C]&3)===e&&(t[C]+=16384,_v(a,s)):_v(a,s)}var Ci=-1,js=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function sR(t){return t instanceof js}function oR(t){return(t.flags&8)!==0}function aR(t){return(t.flags&16)!==0}function Vw(t){return t!==Ci}function hc(t){return t&32767}function cR(t){return t>>16}function fc(t,e){let n=cR(t),r=e;for(;n>0;)r=r[xi],n--;return r}var Zd=!0;function pc(t){let e=Zd;return Zd=t,e}var uR=256,Uw=uR-1,jw=5,lR=0,Vt={};function dR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ps)&&(r=n[Ps]),r==null&&(r=n[Ps]=lR++);let i=r&Uw,s=1<<i;e.data[t+(i>>jw)]|=s}function Bw(t,e){let n=$w(t,e);if(n!==-1)return n;let r=e[j];r.firstCreatePass&&(t.injectorIndex=e.length,kd(r.data,t),kd(e,null),kd(r.blueprint,null));let i=Wh(t,e),s=t.injectorIndex;if(Vw(i)){let o=hc(i),a=fc(i,e),c=a[j].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function kd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function $w(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Wh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Gw(i),r===null)return Ci;if(n++,i=i[xi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ci}function hR(t,e,n){dR(t,e,n)}function fR(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(rw(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Hw(t,e,n){if(n&k.Optional||t!==void 0)return t;Sh(e,"NodeInjector")}function qw(t,e,n,r){if(n&k.Optional&&r===void 0&&(r=null),!(n&(k.Self|k.Host))){let i=t[bi],s=We(void 0);try{return i?i.get(e,r,n&k.Optional):Jv(e,r,n&k.Optional)}finally{We(s)}}return Hw(r,e,n)}function zw(t,e,n,r=k.Default,i){if(t!==null){if(e[C]&2048&&!(r&k.Self)){let o=_R(t,e,n,r,Vt);if(o!==Vt)return o}let s=Ww(t,e,n,r,Vt);if(s!==Vt)return s}return qw(e,n,r,i)}function Ww(t,e,n,r,i){let s=mR(n);if(typeof s=="function"){if(!Nw(e,t,r))return r&k.Host?Hw(i,n,r):qw(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&k.Optional))Sh(n);else return o}finally{Ow()}}else if(typeof s=="number"){let o=null,a=$w(t,e),c=Ci,u=r&k.Host?e[Bt][At]:null;for((a===-1||r&k.SkipSelf)&&(c=a===-1?Wh(t,e):e[a+8],c===Ci||!wv(r,!1)?a=-1:(o=e[j],a=hc(c),e=fc(c,e)));a!==-1;){let l=e[j];if(vv(s,a,l.data)){let d=pR(a,e,n,o,r,u);if(d!==Vt)return d}c=e[a+8],c!==Ci&&wv(r,e[j].data[a+8]===u)&&vv(s,a,e)?(o=l,a=hc(c),e=fc(c,e)):a=-1}}return i}function pR(t,e,n,r,i,s){let o=e[j],a=o.data[t+8],c=r==null?Rc(a)&&Zd:r!=o&&(a.type&3)!==0,u=i&k.Host&&s===a,l=gR(a,o,n,c,u);return l!==null?Bs(e,o,l,a):Vt}function gR(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let g=o[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=o[c];if(f&&zs(f)&&f.type===n)return c}return null}function Bs(t,e,n,r){let i=t[n],s=e.data;if(sR(i)){let o=i;o.resolving&&HS($S(s[n]));let a=pc(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?We(o.injectImpl):null,l=Nw(t,r,k.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&rR(n,s[n],e)}finally{u!==null&&We(u),pc(a),o.resolving=!1,Ow()}}return i}function mR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ps)?t[Ps]:void 0;return typeof e=="number"?e>=0?e&Uw:yR:e}function vv(t,e,n){let r=1<<t;return!!(n[e+(t>>jw)]&r)}function wv(t,e){return!(t&k.Self)&&!(t&k.Host&&e)}var pr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return zw(this._tNode,this._lView,e,Tc(r),n)}};function yR(){return new pr(yt(),re())}function Gh(t){return qs(()=>{let e=t.prototype.constructor,n=e[ic]||Xd(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[ic]||Xd(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Xd(t){return zv(t)?()=>{let e=Xd(ht(t));return e&&e()}:gr(t)}function _R(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[C]&2048&&!(o[C]&512);){let a=Ww(s,o,n,r|k.Self,Vt);if(a!==Vt)return a;let c=s.parent;if(!c){let u=o[gw];if(u){let l=u.get(n,Vt,r);if(l!==Vt)return l}c=Gw(o),o=o[xi]}s=c}return i}function Gw(t){let e=t[j],n=e.type;return n===2?e.declTNode:n===1?t[At]:null}function Kh(t){return fR(yt(),t)}function Iv(t,e=null,n=null,r){let i=Kw(t,e,n,r);return i.resolveInjectorInitializers(),i}function Kw(t,e=null,n=null,r,i=new Set){let s=[n||Ft,Ph(t)];return r=r||(typeof t=="object"?void 0:Ge(t)),new Os(s,e||kh(),r||null,i)}var Rt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Iv({name:""},i,r,"");{let s=r.name??"";return Iv({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Ms,e.NULL=new ac,e.\u0275prov=E({token:e,providedIn:"any",factory:()=>O(ew)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var vR="ngOriginalError";function Od(t){return t[vR]}var hn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Od(e);for(;n&&Od(n);)n=Od(n);return n||null}},Qw=new N("",{providedIn:"root",factory:()=>v(hn).handleError.bind(void 0)}),Yw=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=wR,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),eh=class extends Yw{constructor(e){super(),this._lView=e}onDestroy(e){return Dw(this._lView,e),()=>VA(this._lView,e)}};function wR(){return new eh(re())}function IR(){return Pc(yt(),re())}function Pc(t,e){return new Er(mt(t,e))}var Er=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=IR;let t=e;return t})();var th=class extends ke{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,TA()&&(this.destroyRef=v(Yw,{optional:!0})??void 0)}emit(e){let n=G(null);try{super.next(e)}finally{G(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Fd(s),i&&(i=Fd(i)),o&&(o=Fd(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof fe&&e.add(a),a}};function Fd(t){return e=>{setTimeout(t,void 0,e)}}var Dt=th;function Jw(t){return(t.flags&128)===128}var Zw=new Map,ER=0;function CR(){return ER++}function TR(t){Zw.set(t[Ac],t)}function DR(t){Zw.delete(t[Ac])}var Ev="__ngContext__";function vr(t,e){fr(e)?(t[Ev]=e[Ac],TR(e)):t[Ev]=e}function Xw(t){return tI(t[Ls])}function eI(t){return tI(t[bt])}function tI(t){for(;t!==null&&!mn(t);)t=t[bt];return t}var nh;function nI(t){nh=t}function bR(){if(nh!==void 0)return nh;if(typeof document<"u")return document;throw new I(210,!1)}var Qh=new N("",{providedIn:"root",factory:()=>SR}),SR="ng",Yh=new N(""),$n=new N("",{providedIn:"platform",factory:()=>"unknown"});var Jh=new N("",{providedIn:"root",factory:()=>bR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var AR="h",RR="b";var xR=()=>null;function Zh(t,e,n=!1){return xR(t,e,n)}var rI=!1,NR=new N("",{providedIn:"root",factory:()=>rI});var Za;function PR(){if(Za===void 0&&(Za=null,hr.trustedTypes))try{Za=hr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Za}function Cv(t){return PR()?.createScriptURL(t)||t}var gc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$v})`}};function Mc(t){return t instanceof gc?t.changingThisBreaksApplicationSecurity:t}function Xh(t,e){let n=MR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${$v})`)}return n===e}function MR(t){return t instanceof gc&&t.getTypeName()||null}var kR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function iI(t){return t=String(t),t.match(kR)?t:"unsafe:"+t}var kc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(kc||{});function Cr(t){let e=oI();return e?e.sanitize(kc.URL,t)||"":Xh(t,"URL")?Mc(t):iI(Ti(t))}function OR(t){let e=oI();if(e)return Cv(e.sanitize(kc.RESOURCE_URL,t)||"");if(Xh(t,"ResourceURL"))return Cv(Mc(t));throw new I(904,!1)}function FR(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?OR:Cr}function sI(t,e,n){return FR(e,n)(t)}function oI(){let t=re();return t&&t[St].sanitizer}function aI(t){return t.ownerDocument.defaultView}function cI(t){return t instanceof Function?t():t}var Hn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Hn||{}),LR;function ef(t,e){return LR(t,e)}function Ii(t,e,n,r,i){if(r!=null){let s,o=!1;mn(r)?s=r:fr(r)&&(o=!0,r=r[gn]);let a=Ht(r);t===0&&n!==null?i==null?fI(e,n,a):mc(e,n,a,i||null,!0):t===1&&n!==null?mc(e,n,a,i||null,!0):t===2?ex(e,a,o):t===3&&e.destroyNode(a),s!=null&&nx(e,t,s,n,i)}}function VR(t,e){return t.createText(e)}function UR(t,e,n){t.setValue(e,n)}function uI(t,e,n){return t.createElement(e,n)}function jR(t,e){lI(t,e),e[gn]=null,e[At]=null}function BR(t,e,n,r,i,s){r[gn]=i,r[At]=e,Oc(t,r,n,1,i,s)}function lI(t,e){e[St].changeDetectionScheduler?.notify(1),Oc(t,e,e[Ae],2,null,null)}function $R(t){let e=t[Ls];if(!e)return Ld(t[j],t);for(;e;){let n=null;if(fr(e))n=e[Ls];else{let r=e[ft];r&&(n=r)}if(!n){for(;e&&!e[bt]&&e!==t;)fr(e)&&Ld(e[j],e),e=e[Oe];e===null&&(e=t),fr(e)&&Ld(e[j],e),n=e&&e[bt]}e=n}}function HR(t,e,n,r){let i=ft+r,s=n.length;r>0&&(n[i-1][bt]=e),r<s-ft?(e[bt]=n[i],Xv(n,ft+r,e)):(n.push(e),e[bt]=null),e[Oe]=n;let o=e[Sc];o!==null&&n!==o&&qR(o,e);let a=e[Si];a!==null&&a.insertView(t),Yd(e),e[C]|=128}function qR(t,e){let n=t[lc],i=e[Oe][Oe][Bt];e[Bt]!==i&&(t[C]|=Oh.HasTransplantedViews),n===null?t[lc]=[e]:n.push(e)}function dI(t,e){let n=t[lc],r=n.indexOf(e);n.splice(r,1)}function rh(t,e){if(t.length<=ft)return;let n=ft+e,r=t[n];if(r){let i=r[Sc];i!==null&&i!==t&&dI(i,r),e>0&&(t[n-1][bt]=r[bt]);let s=oc(t,ft+e);jR(r[j],r);let o=s[Si];o!==null&&o.detachView(s[j]),r[Oe]=null,r[bt]=null,r[C]&=-129}return r}function hI(t,e){if(!(e[C]&256)){let n=e[Ae];n.destroyNode&&Oc(t,e,n,3,null,null),$R(e)}}function Ld(t,e){if(e[C]&256)return;let n=G(null);try{e[C]&=-129,e[C]|=256,e[mr]&&C_(e[mr]),WR(t,e),zR(t,e),e[j].type===1&&e[Ae].destroy();let r=e[Sc];if(r!==null&&mn(e[Oe])){r!==e[Oe]&&dI(r,e);let i=e[Si];i!==null&&i.detachView(t)}DR(e)}finally{G(n)}}function zR(t,e){let n=t.cleanup,r=e[Fs];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Fs]=null);let i=e[Fn];if(i!==null){e[Fn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function WR(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof js)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Lt(4,a,c);try{c.call(a)}finally{Lt(5,a,c)}}else{Lt(4,i,s);try{s.call(i)}finally{Lt(5,i,s)}}}}}function GR(t,e,n){return KR(t,e.parent,n)}function KR(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[gn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Ut.None||s===Ut.Emulated)return null}return mt(r,n)}}function mc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function fI(t,e,n){t.appendChild(e,n)}function Tv(t,e,n,r,i){r!==null?mc(t,e,n,r,i):fI(t,e,n)}function QR(t,e,n,r){t.removeChild(e,n,r)}function tf(t,e){return t.parentNode(e)}function YR(t,e){return t.nextSibling(e)}function JR(t,e,n){return XR(t,e,n)}function ZR(t,e,n){return t.type&40?mt(t,n):null}var XR=ZR,Dv;function nf(t,e,n,r){let i=GR(t,r,e),s=e[Ae],o=r.parent||e[At],a=JR(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Tv(s,i,n[c],a,!1);else Tv(s,i,n,a,!1);Dv!==void 0&&Dv(s,r,e,n,i)}function nc(t,e){if(e!==null){let n=e.type;if(n&3)return mt(e,t);if(n&4)return ih(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return nc(t,r);{let i=t[e.index];return mn(i)?ih(-1,i):Ht(i)}}else{if(n&32)return ef(e,t)()||Ht(t[e.index]);{let r=pI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Us(t[Bt]);return nc(i,r)}else return nc(t,e.next)}}}return null}function pI(t,e){if(e!==null){let r=t[Bt][At],i=e.projection;return r.projection[i]}return null}function ih(t,e){let n=ft+t+1;if(n<e.length){let r=e[n],i=r[j].firstChild;if(i!==null)return nc(r,i)}return e[yr]}function ex(t,e,n){let r=tf(t,e);r&&QR(t,r,e,n)}function rf(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&vr(Ht(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)rf(t,e,n.child,r,i,s,!1),Ii(e,t,i,a,s);else if(c&32){let u=ef(n,r),l;for(;l=u();)Ii(e,t,i,l,s);Ii(e,t,i,a,s)}else c&16?tx(t,e,r,n,i,s):Ii(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Oc(t,e,n,r,i,s){rf(n,r,t.firstChild,e,i,s,!1)}function tx(t,e,n,r,i,s){let o=n[Bt],c=o[At].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Ii(e,t,i,l,s)}else{let u=c,l=o[Oe];Jw(r)&&(u.flags|=128),rf(t,e,u,l,i,s,!0)}}function nx(t,e,n,r,i){let s=n[yr],o=Ht(n);s!==o&&Ii(e,t,r,s,i);for(let a=ft;a<n.length;a++){let c=n[a];Oc(c[j],c,t,e,r,s)}}function rx(t,e,n){t.setAttribute(e,"style",n)}function gI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function mI(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&qd(t,e,r),i!==null&&gI(t,e,i),s!==null&&rx(t,e,s)}var qn={};function se(t=1){yI(qt(),re(),xc()+t,!1)}function yI(t,e,n,r){if(!r)if((e[C]&3)===3){let s=t.preOrderCheckHooks;s!==null&&ec(e,s,n)}else{let s=t.preOrderHooks;s!==null&&tc(e,s,0,n)}_r(n)}function J(t,e=k.Default){let n=re();if(n===null)return O(t,e);let r=yt();return zw(r,n,ht(t),e)}function _I(t,e,n,r,i,s){let o=G(null);try{let a=null;i&pt.SignalBased&&(a=e[r][ii]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&pt.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):_w(e,a,r,s)}finally{G(o)}}function ix(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)_r(~i);else{let s=i,o=n[++r],a=n[++r];JA(o,s);let c=e[s];a(2,c)}}}finally{_r(-1)}}function Fc(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[gn]=i,d[C]=r|4|128|8|64,(u!==null||t&&t[C]&2048)&&(d[C]|=2048),Tw(d),d[Oe]=d[xi]=t,d[jt]=n,d[St]=o||t&&t[St],d[Ae]=a||t&&t[Ae],d[bi]=c||t&&t[bi]||null,d[At]=s,d[Ac]=CR(),d[cc]=l,d[gw]=u,d[Bt]=e.type==2?t[Bt]:d,d}function Lc(t,e,n,r,i){let s=t.data[e];if(s===null)s=sx(t,e,n,r,i),YA()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=zA();s.injectorIndex=o===null?-1:o.injectorIndex}return Gs(s,!0),s}function sx(t,e,n,r,i){let s=Sw(),o=Aw(),a=o?s:s&&s.parent,c=t.data[e]=lx(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function vI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function wI(t,e,n,r,i){let s=xc(),o=r&2;try{_r(-1),o&&e.length>$t&&yI(t,e,$t,!1),Lt(o?2:0,i),n(r,i)}finally{_r(s),Lt(o?3:1,i)}}function II(t,e,n){if(yw(e)){let r=G(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{G(r)}}}function EI(t,e,n){bw()&&(mx(t,e,n,mt(n,e)),(n.flags&64)===64&&AI(t,e,n))}function CI(t,e,n=mt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function TI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=sf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function sf(t,e,n,r,i,s,o,a,c,u,l){let d=$t+r,h=d+i,f=ox(d,h),g=typeof u=="function"?u():u;return f[j]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function ox(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:qn);return n}function ax(t,e,n,r){let s=r.get(NR,rI)||n===Ut.ShadowDom,o=t.selectRootElement(e,s);return cx(o),o}function cx(t){ux(t)}var ux=()=>null;function lx(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return $A()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function bv(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=pt.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?Sv(r,n,u,a,c):Sv(r,n,u,a)}return r}function Sv(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function dx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=bv(0,d.inputs,l,c,f),u=bv(1,d.outputs,l,u,g);let _=c!==null&&o!==null&&!Nh(e)?Sx(c,l,o):null;a.push(_)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function hx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function DI(t,e,n,r,i,s,o,a){let c=mt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(of(t,n,l,r,i),Rc(e)&&fx(n,e.index)):e.type&3?(r=hx(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function fx(t,e){let n=Bn(e,t);n[C]&16||(n[C]|=64)}function bI(t,e,n,r){if(bw()){let i=r===null?null:{"":-1},s=_x(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&SI(t,e,n,o,i,a),i&&vx(n,r,i)}n.mergedAttrs=xh(n.mergedAttrs,n.attrs)}function SI(t,e,n,r,i,s){for(let u=0;u<r.length;u++)hR(Bw(n,e),t,r[u].type);Ix(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=vI(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=xh(n.mergedAttrs,l.hostAttrs),Ex(t,n,e,c,l),wx(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}dx(t,n,s)}function px(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;gx(o)!=a&&o.push(a),o.push(n,r,s)}}function gx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function mx(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Rc(n)&&Cx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Bw(n,e),vr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Bs(e,t,a,n);if(vr(u,e),o!==null&&bx(e,a-i,u,c,n,o),zs(c)){let l=Bn(n.index,e);l[jt]=Bs(e,t,a,n)}}}function AI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=ZA();try{_r(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Jd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&yx(c,u)}}finally{_r(-1),Jd(o)}}function yx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function _x(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(sA(e,o.selectors,!1))if(r||(r=[]),zs(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;sh(t,e,c)}else r.unshift(o),sh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function sh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function vx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new I(-301,!1);r.push(e[i],s)}}}function wx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;zs(e)&&(n[""]=t)}}function Ix(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ex(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=gr(i.type,!0)),o=new js(s,zs(i),J);t.blueprint[r]=o,n[r]=o,px(t,e,r,vI(t,n,i.hostVars,qn),i)}function Cx(t,e,n){let r=mt(e,t),i=TI(n),s=t[St].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Vc(t,Fc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function Tx(t,e,n,r,i,s){let o=mt(t,e);Dx(e[Ae],o,s,t.value,n,r,i)}function Dx(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Ti(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function bx(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];_I(r,n,c,u,l,d)}}function Sx(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function RI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function xI(t,e){let n=t.contentQueries;if(n!==null){let r=G(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];xw(s),a.contentQueries(2,e[o],o)}}}finally{G(r)}}}function Vc(t,e){return t[Ls]?t[mv][bt]=e:t[Ls]=e,t[mv]=e,e}function oh(t,e,n){xw(0);let r=G(null);try{e(t,n)}finally{G(r)}}function Ax(t){return t[Fs]||(t[Fs]=[])}function Rx(t){return t.cleanup||(t.cleanup=[])}function NI(t,e){let n=t[bi],r=n?n.get(hn,null):null;r&&r.handleError(e)}function of(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];_I(l,u,r,a,c,i)}}function PI(t,e,n){let r=MA(e,t);UR(t[Ae],r,n)}function xx(t,e){let n=Bn(e,t),r=n[j];Nx(r,n);let i=n[gn];i!==null&&n[cc]===null&&(n[cc]=Zh(i,n[bi])),af(r,n,n[jt])}function Nx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function af(t,e,n){jh(e);try{let r=t.viewQuery;r!==null&&oh(1,r,n);let i=t.template;i!==null&&wI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Si]?.finishViewCreation(t),t.staticContentQueries&&xI(t,e),t.staticViewQueries&&oh(2,t.viewQuery,n);let s=t.components;s!==null&&Px(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[C]&=-5,Bh()}}function Px(t,e){for(let n=0;n<e.length;n++)xx(t,e[n])}function Mx(t,e,n,r){let i=G(null);try{let s=e.tView,a=t[C]&4096?4096:16,c=Fc(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[Sc]=u;let l=t[Si];return l!==null&&(c[Si]=l.createEmbeddedView(s)),af(s,c,n),c}finally{G(i)}}function Av(t,e){return!e||e.firstChild===null||Jw(t)}function kx(t,e,n,r=!0){let i=e[j];if(HR(i,e,t,n),r){let o=ih(n,t),a=e[Ae],c=tf(a,t[yr]);c!==null&&BR(i,t[At],a,e,c,o)}let s=e[cc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function yc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Ht(s)),mn(s)&&Ox(s,r);let o=n.type;if(o&8)yc(t,e,n.child,r);else if(o&32){let a=ef(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=pI(e,n);if(Array.isArray(a))r.push(...a);else{let c=Us(e[Bt]);yc(c[j],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Ox(t,e){for(let n=ft;n<t.length;n++){let r=t[n],i=r[j].firstChild;i!==null&&yc(r[j],r,i,e)}t[yr]!==t[gn]&&e.push(t[yr])}var MI=[];function Fx(t){return t[mr]??Lx(t)}function Lx(t){let e=MI.pop()??Object.create(Ux);return e.lView=t,e}function Vx(t){t.lView[mr]!==t&&(t.lView=null,MI.push(t))}var Ux=ae(w({},cd),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Vs(t.lView)},consumerOnSignalRead(){this.lView[mr]=this}}),kI=100;function OI(t,e=!0,n=0){let r=t[St],i=r.rendererFactory,s=!1;s||i.begin?.();try{jx(t,n)}catch(o){throw e&&NI(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function jx(t,e){ah(t,e);let n=0;for(;Vh(t);){if(n===kI)throw new I(103,!1);n++,ah(t,1)}}function Bx(t,e,n,r){let i=e[C];if((i&256)===256)return;let s=!1;!s&&e[St].inlineEffectRunner?.flush(),jh(e);let o=null,a=null;!s&&$x(t)&&(a=Fx(e),o=I_(a));try{Tw(e),KA(t.bindingStartIndex),n!==null&&wI(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&ec(e,d,null)}else{let d=t.preOrderHooks;d!==null&&tc(e,d,0,null),Md(e,0)}if(Hx(e),FI(e,0),t.contentQueries!==null&&xI(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&ec(e,d)}else{let d=t.contentHooks;d!==null&&tc(e,d,1),Md(e,1)}ix(t,e);let u=t.components;u!==null&&VI(e,u,0);let l=t.viewQuery;if(l!==null&&oh(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&ec(e,d)}else{let d=t.viewHooks;d!==null&&tc(e,d,2),Md(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Pd]){for(let d of e[Pd])d();e[Pd]=null}s||(e[C]&=-73)}catch(c){throw Vs(e),c}finally{a!==null&&(E_(a,o),Vx(a)),Bh()}}function $x(t){return t.type!==2}function FI(t,e){for(let n=Xw(t);n!==null;n=eI(n))for(let r=ft;r<n.length;r++){let i=n[r];LI(i,e)}}function Hx(t){for(let e=Xw(t);e!==null;e=eI(e)){if(!(e[C]&Oh.HasTransplantedViews))continue;let n=e[lc];for(let r=0;r<n.length;r++){let i=n[r],s=i[Oe];FA(i)}}}function qx(t,e,n){let r=Bn(e,t);LI(r,n)}function LI(t,e){Lh(t)&&ah(t,e)}function ah(t,e){let r=t[j],i=t[C],s=t[mr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&ud(s)),s&&(s.dirty=!1),t[C]&=-9217,o)Bx(r,t,r.template,t[jt]);else if(i&8192){FI(t,1);let a=r.components;a!==null&&VI(t,a,1)}}function VI(t,e,n){for(let r=0;r<e.length;r++)qx(t,e[r],n)}function cf(t){for(t[St].changeDetectionScheduler?.notify();t;){t[C]|=64;let e=Us(t);if(bA(t)&&!e)return t;t=e}return null}var wr=class{get rootNodes(){let e=this._lView,n=e[j];return yc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jt]}set context(e){this._lView[jt]=e}get destroyed(){return(this._lView[C]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Oe];if(mn(e)){let n=e[uc],r=n?n.indexOf(this):-1;r>-1&&(rh(e,r),oc(n,r))}this._attachedToViewContainer=!1}hI(this._lView[j],this._lView)}onDestroy(e){Dw(this._lView,e)}markForCheck(){cf(this._cdRefInjectingView||this._lView)}detach(){this._lView[C]&=-129}reattach(){Yd(this._lView),this._lView[C]|=128}detectChanges(){this._lView[C]|=1024,OI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,lI(this._lView[j],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e,Yd(this._lView)}},Uc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Gx;let t=e;return t})(),zx=Uc,Wx=class extends zx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Mx(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new wr(i)}};function Gx(){return Kx(yt(),re())}function Kx(t,e){return t.type&4?new Wx(e,t,Pc(t,e)):null}var Qq=new RegExp(`^(\\d+)*(${RR}|${AR})*(.*)`);var Qx=()=>null;function Rv(t,e){return Qx(t,e)}var ch=class{},uh=class{},_c=class{};function Yx(t){let e=Error(`No component factory found for ${Ge(t)}.`);return e[Jx]=t,e}var Jx="ngComponent";var lh=class{resolveComponentFactory(e){throw Yx(e)}},jc=(()=>{let e=class e{};e.NULL=new lh;let t=e;return t})(),$s=class{},Pi=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Zx();let t=e;return t})();function Zx(){let t=re(),e=yt(),n=Bn(e.index,t);return(fr(n)?n:t)[Ae]}var Xx=(()=>{let e=class e{};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Vd={};var xv=new Set;function uf(t){xv.has(t)||(xv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Nv(...t){}function eN(){let t=typeof hr.requestAnimationFrame=="function",e=hr[t?"requestAnimationFrame":"setTimeout"],n=hr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ee=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dt(!1),this.onMicrotaskEmpty=new Dt(!1),this.onStable=new Dt(!1),this.onError=new Dt(!1),typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=eN().nativeRequestAnimationFrame,rN(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new I(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,tN,Nv,Nv);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},tN={};function lf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nN(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(hr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,dh(t),t.isCheckStableRunning=!0,lf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),dh(t))}function rN(t){let e=()=>{nN(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(iN(a))return n.invokeTask(i,s,o,a);try{return Pv(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Mv(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return Pv(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Mv(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,dh(t),lf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function dh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Pv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Mv(t){t._nesting--,lf(t)}function iN(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var UI=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function hh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=ov(i,a);else if(s==2){let c=a,u=e[++o];r=ov(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var vc=class extends jc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ln(e);return new Ai(n,this.ngModule)}};function kv(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function sN(t){let e=t.toLowerCase();return e==="svg"?Ew:e==="math"?xA:null}var fh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Tc(r);let i=this.injector.get(e,Vd,r);return i!==Vd||n===Vd?i:this.parentInjector.get(e,n,r)}},Ai=class extends _c{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=kv(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return kv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=uA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=G(null);try{i=i||this.ngModule;let o=i instanceof gt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new fh(e,o):e,c=a.get($s,null);if(c===null)throw new I(407,!1);let u=a.get(Xx,null),l=a.get(UI,null),d=a.get(ch,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",_=r?ax(f,r,this.componentDef.encapsulation,a):uI(f,g,sN(g)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let B=null;_!==null&&(B=Zh(_,a,!0));let Se=sf(0,null,null,1,0,null,null,null,null,null,null),ue=Fc(null,Se,null,P,null,null,h,f,a,null,B);jh(ue);let qe,cn;try{let je=this.componentDef,un,Ds=null;je.findHostDirectiveDefs?(un=[],Ds=new Map,je.findHostDirectiveDefs(je,un,Ds),un.push(je)):un=[je];let bs=oN(ue,_),ad=aN(bs,_,je,un,ue,h,f);cn=Cw(Se,$t),_&&lN(f,je,_,r),n!==void 0&&dN(cn,this.ngContentSelectors,n),qe=uN(ad,je,un,Ds,ue,[hN]),af(Se,ue,null)}finally{Bh()}return new ph(this.componentType,qe,Pc(cn,ue),ue,cn)}finally{G(s)}}},ph=class extends uh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new wr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;of(s[j],s,i,e,n),this.previousInputValues.set(e,n);let o=Bn(this._tNode.index,s);cf(o)}}get injector(){return new pr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function oN(t,e){let n=t[j],r=$t;return t[r]=e,Lc(n,r,2,"#host",null)}function aN(t,e,n,r,i,s,o){let a=i[j];cN(r,t,e,o);let c=null;e!==null&&(c=Zh(e,i[bi]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Fc(i,TI(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&sh(a,t,r.length-1),Vc(i,d),i[t.index]=d}function cN(t,e,n,r){for(let i of t)e.mergedAttrs=xh(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(hh(e,e.mergedAttrs,!0),n!==null&&mI(r,n,e))}function uN(t,e,n,r,i,s){let o=yt(),a=i[j],c=mt(o,i);SI(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=Bs(i,a,d,o);vr(h,i)}AI(a,i,o),c&&vr(c,i);let u=Bs(i,a,o.directiveStart+o.componentOffset,o);if(t[jt]=i[jt]=u,s!==null)for(let l of s)l(u,e);return II(a,o,i),u}function lN(t,e,n,r){if(r)qd(t,n,["ng-version","17.3.5"]);else{let{attrs:i,classes:s}=lA(e.selectors[0]);i&&qd(t,n,i),s&&s.length>0&&gI(t,n,s.join(" "))}}function dN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function hN(){let t=yt();zh(re()[j],t)}var Mi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=fN;let t=e;return t})();function fN(){let t=yt();return gN(t,re())}var pN=Mi,jI=class extends pN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Pc(this._hostTNode,this._hostLView)}get injector(){return new pr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Wh(this._hostTNode,this._hostLView);if(Vw(e)){let n=fc(e,this._hostLView),r=hc(e),i=n[j].data[r+8];return new pr(i,n)}else return new pr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Ov(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Rv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Av(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!DA(e),a;if(o)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new Ai(Ln(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let _=(o?u:this.parentInjector).get(gt,null);_&&(s=_)}let l=Ln(c.componentType??{}),d=Rv(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,Av(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(OA(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Oe],u=new jI(c,c[At],c[Oe]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return kx(o,i,s,r),e.attachToViewContainerRef(),Xv(Ud(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Ov(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=rh(this._lContainer,n);r&&(oc(Ud(this._lContainer),n),hI(r[j],r))}detach(e){let n=this._adjustIndex(e,-1),r=rh(this._lContainer,n);return r&&oc(Ud(this._lContainer),n)!=null?new wr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Ov(t){return t[uc]}function Ud(t){return t[uc]||(t[uc]=[])}function gN(t,e){let n,r=e[t.index];return mn(r)?n=r:(n=RI(r,e,null,t),e[t.index]=n,Vc(e,n)),yN(n,e,t,r),new jI(n,t,e)}function mN(t,e){let n=t[Ae],r=n.createComment(""),i=mt(e,t),s=tf(n,i);return mc(n,s,r,YR(n,i),!1),r}var yN=wN,_N=()=>!1;function vN(t,e,n){return _N(t,e,n)}function wN(t,e,n,r){if(t[yr])return;let i;n.type&8?i=Ht(r):i=mN(e,n),t[yr]=i}function Bc(t,e){uf("NgSignals");let n=R_(t),r=n[ii];return e?.equal&&(r.equal=e.equal),n.set=i=>ld(r,i),n.update=i=>x_(r,i),n.asReadonly=IN.bind(n),n}function IN(){let t=this[ii];if(t.readonlyFn===void 0){let e=()=>this();e[ii]=t,t.readonlyFn=e}return t.readonlyFn}function df(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Vn=class{},Hs=class{};var gh=class extends Vn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vc(this);let i=uw(e);this._bootstrapComponents=cI(i.bootstrap),this._r3Injector=Kw(e,n,[{provide:Vn,useValue:this},{provide:jc,useValue:this.componentFactoryResolver},...r],Ge(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},mh=class extends Hs{constructor(e){super(),this.moduleType=e}create(e){return new gh(this.moduleType,e,[])}};var wc=class extends Vn{constructor(e){super(),this.componentFactoryResolver=new vc(this),this.instance=null;let n=new Os([...e.providers,{provide:Vn,useValue:this},{provide:jc,useValue:this.componentFactoryResolver}],e.parent||kh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function hf(t,e,n=null){return new wc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var $c=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function BI(t){return ff(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function EN(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function ff(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function CN(t,e,n){return t[e]=n}function Ri(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function TN(t,e,n,r){let i=Ri(t,e,n);return Ri(t,e+1,r)||i}function DN(t){return(t.flags&32)===32}function bN(t,e,n,r,i,s,o,a,c){let u=e.consts,l=Lc(e,t,4,o||null,dc(u,a));bI(e,n,l,dc(u,c)),zh(e,l);let d=l.tView=sf(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function zn(t,e,n,r,i,s,o,a){let c=re(),u=qt(),l=t+$t,d=u.firstCreatePass?bN(l,u,c,e,n,r,i,s,o):u.data[l];Gs(d,!1);let h=SN(u,c,d,t);Hh()&&nf(u,c,h,d),vr(h,c);let f=RI(h,c,h,d);return c[l]=f,Vc(c,f),vN(f,d,c),Fh(d)&&EI(u,c,d),o!=null&&CI(c,d,a),zn}var SN=AN;function AN(t,e,n,r){return qh(!0),e[Ae].createComment("")}function pf(t,e,n,r){let i=re(),s=Uh();if(Ri(i,s,e)){let o=qt(),a=$h();Tx(a,i,t,e,n,r)}return pf}function $I(t,e,n,r){return Ri(t,Uh(),n)?e+Ti(n)+r:qn}function RN(t,e,n,r,i,s){let o=GA(),a=TN(t,o,n,i);return QA(2),a?e+Ti(n)+r+Ti(i)+s:qn}function it(t,e,n){let r=re(),i=Uh();if(Ri(r,i,e)){let s=qt(),o=$h();DI(s,o,r,t,e,r[Ae],n,!1)}return it}function Fv(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";of(t,n,s[o],o,r)}function xN(t,e,n,r,i,s){let o=e.consts,a=dc(o,i),c=Lc(e,t,2,r,a);return bI(e,n,c,dc(o,s)),c.attrs!==null&&hh(c,c.attrs,!1),c.mergedAttrs!==null&&hh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function b(t,e,n,r){let i=re(),s=qt(),o=$t+t,a=i[Ae],c=s.firstCreatePass?xN(o,s,i,e,n,r):s.data[o],u=NN(s,i,c,a,e,t);i[o]=u;let l=Fh(c);return Gs(c,!0),mI(a,u,c),!DN(c)&&Hh()&&nf(s,i,u,c),UA()===0&&vr(u,i),jA(),l&&(EI(s,i,c),II(s,c,i)),r!==null&&CI(i,c),b}function M(){let t=yt();Aw()?WA():(t=t.parent,Gs(t,!1));let e=t;HA(e)&&qA(),BA();let n=qt();return n.firstCreatePass&&(zh(n,t),yw(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&oR(e)&&Fv(n,e,re(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&aR(e)&&Fv(n,e,re(),e.stylesWithoutHost,!1),M}function oe(t,e,n,r){return b(t,e,n,r),M(),oe}var NN=(t,e,n,r,i,s)=>(qh(!0),uI(r,i,nR()));var Ic="en-US";var PN=Ic;function MN(t){typeof t=="string"&&(PN=t.toLowerCase().replace(/_/g,"-"))}function yn(t,e,n,r){let i=re(),s=qt(),o=yt();return ON(s,i,i[Ae],o,t,e,r),yn}function kN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Fs],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function ON(t,e,n,r,i,s,o){let a=Fh(r),u=t.firstCreatePass&&Rx(t),l=e[jt],d=Ax(e),h=!0;if(r.type&3||o){let _=mt(r,e),P=o?o(_):_,B=d.length,Se=o?qe=>o(Ht(qe[r.index])):r.index,ue=null;if(!o&&a&&(ue=kN(t,e,i,r.index)),ue!==null){let qe=ue.__ngLastListenerFn__||ue;qe.__ngNextListenerFn__=s,ue.__ngLastListenerFn__=s,h=!1}else{s=Vv(r,e,l,s,!1);let qe=n.listen(P,i,s);d.push(s,qe),u&&u.push(i,Se,B,B+1)}}else s=Vv(r,e,l,s,!1);let f=r.outputs,g;if(h&&f!==null&&(g=f[i])){let _=g.length;if(_)for(let P=0;P<_;P+=2){let B=g[P],Se=g[P+1],cn=e[B][Se].subscribe(s),je=d.length;d.push(s,cn),u&&u.push(i,r.index,je,-(je+1))}}}function Lv(t,e,n,r){let i=G(null);try{return Lt(6,e,n),n(r)!==!1}catch(s){return NI(t,s),!1}finally{Lt(7,e,n),G(i)}}function Vv(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Bn(t.index,e):e;cf(a);let c=Lv(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=Lv(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function HI(t=1){return eR(t)}function gf(t,e,n){return Tr(t,"",e,"",n),gf}function Tr(t,e,n,r,i){let s=re(),o=$I(s,e,n,r);if(o!==qn){let a=qt(),c=$h();DI(a,c,s,t,o,s[Ae],i,!1)}return Tr}function FN(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function ce(t,e=""){let n=re(),r=qt(),i=t+$t,s=r.firstCreatePass?Lc(r,i,1,e,null):r.data[i],o=LN(r,n,s,e,t);n[i]=o,Hh()&&nf(r,n,o,s),Gs(s,!1)}var LN=(t,e,n,r,i)=>(qh(!0),VR(e[Ae],r));function st(t){return qI("",t,""),st}function qI(t,e,n){let r=re(),i=$I(r,t,e,n);return i!==qn&&PI(r,xc(),i),qI}function mf(t,e,n,r,i){let s=re(),o=RN(s,t,e,n,r,i);return o!==qn&&PI(s,xc(),o),mf}var VN=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=hw(!1,r.type),s=i.length>0?hf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=E({token:e,providedIn:"environment",factory:()=>new e(O(gt))});let t=e;return t})();function Qe(t){uf("NgStandalone"),t.getStandaloneInjector=e=>e.get(VN).getOrCreateStandaloneInjector(t)}function ki(t,e,n,r){return zI(re(),Rw(),t,e,n,r)}function UN(t,e){let n=t[e];return n===qn?void 0:n}function zI(t,e,n,r,i,s){let o=e+n;return Ri(t,o,i)?CN(t,o+1,s?r.call(s,i):r(i)):UN(t,o+1)}function WI(t,e){let n=qt(),r,i=t+$t;n.firstCreatePass?(r=jN(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=gr(r.type,!0)),o,a=We(J);try{let c=pc(!1),u=s();return pc(c),FN(n,re(),i,u),u}finally{We(a)}}function jN(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function GI(t,e,n){let r=t+$t,i=re(),s=kA(i,r);return BN(i,r)?zI(i,Rw(),e,s.transform,n,s):s.transform(n)}function BN(t,e){return t[j].data[e].pure}var Un=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},KI=new Un("17.3.5"),Hc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var QI=new N("");function Oi(t){return!!t&&typeof t.then=="function"}function yf(t){return!!t&&typeof t.subscribe=="function"}var YI=new N(""),JI=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=v(YI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Oi(o))r.push(o);else if(yf(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_f=new N("");function $N(){A_(()=>{throw new I(600,!1)})}function HN(t){return t.isBoundToModule}function qN(t,e,n){try{let r=n();return Oi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Ks=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=v(Qw),this.afterRenderEffectManager=v(UI),this.externalTestViews=new Set,this.beforeRender=new ke,this.afterTick=new ke,this.componentTypes=[],this.components=[],this.isStable=v($c).hasPendingTasks.pipe(z(r=>!r)),this._injector=v(gt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof _c;if(!this._injector.get(JI).done){let f=!s&&cw(r),g=!1;throw new I(405,g)}let a;s?a=r:a=this._injector.get(jc).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=HN(a)?void 0:this._injector.get(Vn),u=i||a.selector,l=a.create(Rt.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(QI,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),jd(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new I(101,!1);let i=G(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,G(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===kI)throw new I(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)zN(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>yh(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>yh(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;jd(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(_f,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>jd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new I(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function zN(t,e,n){!e&&!yh(t)||WN(t,n,e)}function yh(t){return Vh(t)}function WN(t,e,n){let r;n?(r=0,t[C]|=1024):t[C]&64?r=0:r=1,OI(t,e,r)}var _h=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},vf=(()=>{let e=class e{compileModuleSync(r){return new mh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=uw(r),o=cI(s.declarations).reduce((a,c)=>{let u=Ln(c);return u&&a.push(new Ai(u)),a},[]);return new _h(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var GN=(()=>{let e=class e{constructor(){this.zone=v(ee),this.applicationRef=v(Ks)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KN(t){return[{provide:ee,useFactory:t},{provide:Di,multi:!0,useFactory:()=>{let e=v(GN,{optional:!0});return()=>e.initialize()}},{provide:Di,multi:!0,useFactory:()=>{let e=v(ZN);return()=>{e.initialize()}}},{provide:Qw,useFactory:QN}]}function QN(){let t=v(ee),e=v(hn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function YN(t){let e=KN(()=>new ee(JN(t)));return Dc([[],e])}function JN(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var ZN=(()=>{let e=class e{constructor(){this.subscription=new fe,this.initialized=!1,this.zone=v(ee),this.pendingTasks=v($c)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ee.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ee.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function XN(){return typeof $localize<"u"&&$localize.locale||Ic}var wf=new N("",{providedIn:"root",factory:()=>v(wf,k.Optional|k.SkipSelf)||XN()});var ZI=new N("");var rc=null;function eP(t=[],e){return Rt.create({name:e,providers:[{provide:bc,useValue:"platform"},{provide:ZI,useValue:new Set([()=>rc=null])},...t]})}function tP(t=[]){if(rc)return rc;let e=eP(t);return rc=e,$N(),nP(e),e}function nP(t){t.get(Yh,null)?.forEach(n=>n())}var Fi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rP;let t=e;return t})();function rP(t){return iP(yt(),re(),(t&16)===16)}function iP(t,e,n){if(Rc(t)&&!n){let r=Bn(t.index,e);return new wr(r,r)}else if(t.type&47){let r=e[Bt];return new wr(r,e)}return null}var vh=class{constructor(){}supports(e){return BI(e)}create(e){return new wh(e)}},sP=(t,e)=>e,wh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||sP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<Uv(r,i,s)?n:r,a=Uv(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let f=h<s.length?s[h]:s[h]=0,g=f+h;l<=g&&g<u&&(s[h]=f+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!BI(e))throw new I(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,EN(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Ih(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ec),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ec),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ih=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Eh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ec=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Eh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Uv(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Ch=class{constructor(){}supports(e){return e instanceof Map||ff(e)}create(){return new Th}},Th=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||ff(e)))throw new I(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new Dh(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Dh=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function jv(){return new If([new vh])}var If=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||jv()),deps:[[e,new Ah,new Fe]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new I(901,!1)}};e.\u0275prov=E({token:e,providedIn:"root",factory:jv});let t=e;return t})();function Bv(){return new Ef([new Ch])}var Ef=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Bv()),deps:[[e,new Ah,new Fe]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new I(901,!1)}};e.\u0275prov=E({token:e,providedIn:"root",factory:Bv});let t=e;return t})();function XI(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=tP(r),s=[YN(),...n||[]],a=new wc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(ee);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(hn,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get(ZI);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),qN(u,c,()=>{let f=a.get(JI);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(wf,Ic);MN(g||Ic);let _=a.get(Ks);return e!==void 0&&_.bootstrap(e),_})})})}catch(e){return Promise.reject(e)}}function Qs(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Cf(t){let e=G(null);try{return t()}finally{G(e)}}function eE(t){let e=Ln(t);if(!e)return null;let n=new Ai(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var oE=null;function Li(){return oE}function aE(t){oE??=t}var qc=class{};var _t=new N(""),cE=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(oP),providedIn:"platform"});let t=e;return t})();var oP=(()=>{let e=class e extends cE{constructor(){super(),this._doc=v(_t),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Li().getBaseHref(this._doc)}onPopState(r){let i=Li().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Li().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function uE(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function tE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Dr(t){return t&&t[0]!=="?"?"?"+t:t}var Vi=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(lE),providedIn:"root"});let t=e;return t})(),aP=new N(""),lE=(()=>{let e=class e extends Vi{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??v(_t).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return uE(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Dr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Dr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Dr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(O(cE),O(aP,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var br=(()=>{let e=class e{constructor(r){this._subject=new Dt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=lP(tE(nE(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Dr(i))}normalize(r){return e.stripTrailingSlash(uP(this._basePath,nE(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Dr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Dr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Dr,e.joinWithSlash=uE,e.stripTrailingSlash=tE,e.\u0275fac=function(i){return new(i||e)(O(Vi))},e.\u0275prov=E({token:e,factory:()=>cP(),providedIn:"root"});let t=e;return t})();function cP(){return new br(O(Vi))}function uP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function nE(t){return t.replace(/\/index.html$/,"")}function lP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function dE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Tf=/\s+/,rE=[],Wc=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=rE,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Tf):rE}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Tf):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Tf).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(J(Er),J(Pi))},e.\u0275dir=jn({type:e,selectors:[["","ngClass",""]],inputs:{klass:[pt.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Df=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Gc=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Df(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),iE(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);iE(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(J(Mi),J(Uc),J(If))},e.\u0275dir=jn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function iE(t,e){t.context.$implicit=e.item}var Kc=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new bf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){sE("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){sE("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(J(Mi),J(Uc))},e.\u0275dir=jn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),bf=class{constructor(){this.$implicit=null,this.ngIf=null}};function sE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ge(e)}'.`)}var hE=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,o]=r.split("."),a=s.indexOf("-")===-1?void 0:Hn.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(J(Er),J(Ef),J(Pi))},e.\u0275dir=jn({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})();function dP(t,e){return new I(2100,!1)}var Sf=class{createSubscription(e,n){return Cf(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Cf(()=>e.unsubscribe())}},Af=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},hP=new Af,fP=new Sf,fE=(()=>{let e=class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Oi(r))return hP;if(yf(r))return fP;throw dP(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(J(Fi,16))},e.\u0275pipe=sw({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var pE="browser",pP="server";function Rf(t){return t===pP}var zc=class{};var Pf=class extends qc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Mf=class t extends Pf{static makeCurrent(){aE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=gP();return n==null?null:mP(n)}resetBaseElement(){Ys=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return dE(document.cookie,e)}},Ys=null;function gP(){return Ys=Ys||document.querySelector("base"),Ys?Ys.getAttribute("href"):null}function mP(t){return new URL(t,document.baseURI).pathname}var yP=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),kf=new N(""),vE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new I(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(O(kf),O(ee))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Qc=class{constructor(e){this._doc=e}},xf="ng-app-id",wE=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Rf(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${xf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(xf),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(xf,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(O(_t),O(Qh),O(Jh,8),O($n))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Nf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ff=/%COMP%/g,IE="%COMP%",_P=`_nghost-${IE}`,vP=`_ngcontent-${IE}`,wP=!0,IP=new N("",{providedIn:"root",factory:()=>wP});function EP(t){return vP.replace(Ff,t)}function CP(t){return _P.replace(Ff,t)}function EE(t,e){return e.map(n=>n.replace(Ff,t))}var mE=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Rf(c),this.defaultRenderer=new Js(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ut.ShadowDom&&(i=ae(w({},i),{encapsulation:Ut.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Yc?s.applyToHost(r):s instanceof Zs&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Ut.Emulated:o=new Yc(u,l,i,this.appId,d,a,c,h);break;case Ut.ShadowDom:return new Of(u,l,r,i,a,c,this.nonce,h);default:o=new Zs(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(O(vE),O(wE),O(Qh),O(IP),O(_t),O($n),O(ee),O(Jh))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Js=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Nf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(yE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(yE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new I(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Nf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Nf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Hn.DashCase|Hn.Important)?e.style.setProperty(n,r,i&Hn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Hn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Li().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function yE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Of=class extends Js{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=EE(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Zs=class extends Js{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?EE(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Yc=class extends Zs{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=EP(u),this.hostAttr=CP(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},TP=(()=>{let e=class e extends Qc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(O(_t))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),_E=["alt","control","meta","shift"],DP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},SP=(()=>{let e=class e extends Qc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Li().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),_E.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=DP[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),_E.forEach(a=>{if(a!==s){let c=bP[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(O(_t))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function CE(t,e){return XI(w({rootComponent:t},AP(e)))}function AP(t){return{appProviders:[...MP,...t?.providers??[]],platformProviders:PP}}function RP(){Mf.makeCurrent()}function xP(){return new hn}function NP(){return nI(document),document}var PP=[{provide:$n,useValue:pE},{provide:Yh,useValue:RP,multi:!0},{provide:_t,useFactory:NP,deps:[]}];var MP=[{provide:bc,useValue:"root"},{provide:hn,useFactory:xP,deps:[]},{provide:kf,useClass:TP,multi:!0,deps:[_t,ee,$n]},{provide:kf,useClass:SP,multi:!0,deps:[_t]},mE,wE,vE,{provide:$s,useExisting:mE},{provide:zc,useClass:yP,deps:[]},[]];var TE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(O(_t))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var R="primary",po=Symbol("RouteTitle"),Bf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Hi(t){return new Bf(t)}function OP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function FP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!zt(t[n],e[n]))return!1;return!0}function zt(t,e){let n=t?$f(t):void 0,r=e?$f(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!NE(t[i],e[i]))return!1;return!0}function $f(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function NE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function PE(t){return t.length>0?t[t.length-1]:null}function Kn(t){return Td(t)?t:Oi(t)?ge(Promise.resolve(t)):A(t)}var LP={exact:kE,subset:OE},ME={exact:VP,subset:UP,ignored:()=>!0};function DE(t,e,n){return LP[n.paths](t.root,e.root,n.matrixParams)&&ME[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function VP(t,e){return zt(t,e)}function kE(t,e,n){if(!Ar(t.segments,e.segments)||!Xc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!kE(t.children[r],e.children[r],n))return!1;return!0}function UP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>NE(t[n],e[n]))}function OE(t,e,n){return FE(t,e,e.segments,n)}function FE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ar(i,n)||e.hasChildren()||!Xc(i,n,r))}else if(t.segments.length===n.length){if(!Ar(t.segments,n)||!Xc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!OE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Ar(t.segments,i)||!Xc(t.segments,i,r)||!t.children[R]?!1:FE(t.children[R],e,s,r)}}function Xc(t,e,n){return e.every((r,i)=>ME[n](t[i].parameters,r.parameters))}var Wn=class{constructor(e=new Y([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Hi(this.queryParams),this._queryParamMap}toString(){return $P.serialize(this)}},Y=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return eu(this)}},Sr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Hi(this.parameters),this._parameterMap}toString(){return VE(this)}};function jP(t,e){return Ar(t,e)&&t.every((n,r)=>zt(n.parameters,e[r].parameters))}function Ar(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function BP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===R&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==R&&(n=n.concat(e(i,r)))}),n}var pp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new nu,providedIn:"root"});let t=e;return t})(),nu=class{parse(e){let n=new qf(e);return new Wn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Xs(e.root,!0)}`,r=zP(e.queryParams),i=typeof e.fragment=="string"?`#${HP(e.fragment)}`:"";return`${n}${r}${i}`}},$P=new nu;function eu(t){return t.segments.map(e=>VE(e)).join("/")}function Xs(t,e){if(!t.hasChildren())return eu(t);if(e){let n=t.children[R]?Xs(t.children[R],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==R&&r.push(`${i}:${Xs(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=BP(t,(r,i)=>i===R?[Xs(t.children[R],!1)]:[`${i}:${Xs(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[R]!=null?`${eu(t)}/${n[0]}`:`${eu(t)}/(${n.join("//")})`}}function LE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jc(t){return LE(t).replace(/%3B/gi,";")}function HP(t){return encodeURI(t)}function Hf(t){return LE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tu(t){return decodeURIComponent(t)}function bE(t){return tu(t.replace(/\+/g,"%20"))}function VE(t){return`${Hf(t.path)}${qP(t.parameters)}`}function qP(t){return Object.entries(t).map(([e,n])=>`;${Hf(e)}=${Hf(n)}`).join("")}function zP(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Jc(n)}=${Jc(i)}`).join("&"):`${Jc(n)}=${Jc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var WP=/^[^\/()?;#]+/;function Lf(t){let e=t.match(WP);return e?e[0]:""}var GP=/^[^\/()?;=#]+/;function KP(t){let e=t.match(GP);return e?e[0]:""}var QP=/^[^=?&#]+/;function YP(t){let e=t.match(QP);return e?e[0]:""}var JP=/^[^&#]+/;function ZP(t){let e=t.match(JP);return e?e[0]:""}var qf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[R]=new Y(e,n)),r}parseSegment(){let e=Lf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(e),new Sr(tu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=KP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Lf(this.remaining);i&&(r=i,this.capture(r))}e[tu(n)]=tu(r)}parseQueryParam(e){let n=YP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=ZP(this.remaining);o&&(r=o,this.capture(r))}let i=bE(n),s=bE(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Lf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new I(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=R);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[R]:new Y([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new I(4011,!1)}};function UE(t){return t.segments.length>0?new Y([],{[R]:t}):t}function jE(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=jE(i);if(r===R&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Y(t.segments,e);return XP(n)}function XP(t){if(t.numberOfChildren===1&&t.children[R]){let e=t.children[R];return new Y(t.segments.concat(e.segments),e.children)}return t}function qi(t){return t instanceof Wn}function eM(t,e,n=null,r=null){let i=BE(t);return $E(i,e,n,r)}function BE(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new Y(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=UE(r);return e??i}function $E(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Vf(i,i,i,n,r);let s=tM(e);if(s.toRoot())return Vf(i,i,new Y([],{}),n,r);let o=nM(s,i,t),a=o.processChildren?no(o.segmentGroup,o.index,s.commands):qE(o.segmentGroup,o.index,s.commands);return Vf(i,o.segmentGroup,a,n,r)}function ru(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function so(t){return typeof t=="object"&&t!=null&&t.outlets}function Vf(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=HE(t,e,n);let a=UE(jE(o));return new Wn(a,s,i)}function HE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=HE(s,e,n)}),new Y(t.segments,r)}var iu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ru(r[0]))throw new I(4003,!1);let i=r.find(so);if(i&&i!==PE(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function tM(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new iu(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new iu(n,e,r)}var Bi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function nM(t,e,n){if(t.isAbsolute)return new Bi(e,!0,0);if(!n)return new Bi(e,!1,NaN);if(n.parent===null)return new Bi(n,!0,0);let r=ru(t.commands[0])?0:1,i=n.segments.length-1+r;return rM(n,i,t.numberOfDoubleDots)}function rM(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new Bi(r,!1,i-s)}function iM(t){return so(t[0])?t[0].outlets:{[R]:t}}function qE(t,e,n){if(t??=new Y([],{}),t.segments.length===0&&t.hasChildren())return no(t,e,n);let r=sM(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Y(t.segments.slice(0,r.pathIndex),{});return s.children[R]=new Y(t.segments.slice(r.pathIndex),t.children),no(s,0,i)}else return r.match&&i.length===0?new Y(t.segments,{}):r.match&&!t.hasChildren()?zf(t,e,n):r.match?no(t,0,i):zf(t,e,n)}function no(t,e,n){if(n.length===0)return new Y(t.segments,{});{let r=iM(n),i={};if(Object.keys(r).some(s=>s!==R)&&t.children[R]&&t.numberOfChildren===1&&t.children[R].segments.length===0){let s=no(t.children[R],e,n);return new Y(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=qE(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Y(t.segments,i)}}function sM(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(so(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!AE(c,u,o))return s;r+=2}else{if(!AE(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function zf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(so(s)){let c=oM(s.outlets);return new Y(r,c)}if(i===0&&ru(n[0])){let c=t.segments[e];r.push(new Sr(c.path,SE(n[0]))),i++;continue}let o=so(s)?s.outlets[R]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ru(a)?(r.push(new Sr(o,SE(a))),i+=2):(r.push(new Sr(o,{})),i++)}return new Y(r,{})}function oM(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=zf(new Y([],{}),0,r))}),e}function SE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function AE(t,e,n){return t==n.path&&zt(e,n.parameters)}var ro="imperative",Re=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Re||{}),vt=class{constructor(e,n){this.id=e,this.url=n}},oo=class extends vt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Re.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Wt=class extends vt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Re.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},at=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(at||{}),Wf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Wf||{}),Gn=class extends vt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Re.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Rr=class extends vt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Re.NavigationSkipped}},ao=class extends vt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Re.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},su=class extends vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Re.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gf=class extends vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Re.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kf=class extends vt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Re.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Qf=class extends vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Re.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yf=class extends vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Re.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jf=class{constructor(e){this.route=e,this.type=Re.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Zf=class{constructor(e){this.route=e,this.type=Re.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Xf=class{constructor(e){this.snapshot=e,this.type=Re.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ep=class{constructor(e){this.snapshot=e,this.type=Re.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tp=class{constructor(e){this.snapshot=e,this.type=Re.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},np=class{constructor(e){this.snapshot=e,this.type=Re.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var co=class{},uo=class{constructor(e){this.url=e}};var rp=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new du,this.attachRef=null}},du=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new rp,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ou=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ip(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=ip(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=sp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sp(e,this._root).map(n=>n.value)}};function ip(t,e){if(t===e.value)return e;for(let n of e.children){let r=ip(t,n);if(r)return r}return null}function sp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=sp(t,n);if(r.length)return r.unshift(e),r}return[]}var ot=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ji(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var au=class extends ou{constructor(e,n){super(e),this.snapshot=n,mp(this,e)}toString(){return this.snapshot.toString()}};function zE(t){let e=aM(t),n=new pe([new Sr("",{})]),r=new pe({}),i=new pe({}),s=new pe({}),o=new pe(""),a=new xr(n,r,s,o,i,R,t,e.root);return a.snapshot=e.root,new au(new ot(a,[]),e)}function aM(t){let e={},n={},r={},i="",s=new lo([],e,r,i,n,R,t,null,{});return new cu("",new ot(s,[]))}var xr=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(z(u=>u[po]))??A(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(z(e=>Hi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(z(e=>Hi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:w(w({},e.params),t.params),data:w(w({},e.data),t.data),resolve:w(w(w(w({},t.data),e.data),i?.data),t._resolvedData)}:r={params:w({},t.params),data:w({},t.data),resolve:w(w({},t.data),t._resolvedData??{})},i&&GE(i)&&(r.resolve[po]=i.title),r}var lo=class{get title(){return this.data?.[po]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Hi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Hi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},cu=class extends ou{constructor(e,n){super(n),this.url=e,mp(this,n)}toString(){return WE(this._root)}};function mp(t,e){e.value._routerState=t,e.children.forEach(n=>mp(t,n))}function WE(t){let e=t.children.length>0?` { ${t.children.map(WE).join(", ")} } `:"";return`${t.value}${e}`}function Uf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,zt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),zt(e.params,n.params)||t.paramsSubject.next(n.params),FP(e.url,n.url)||t.urlSubject.next(n.url),zt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function op(t,e){let n=zt(t.params,e.params)&&jP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||op(t.parent,e.parent))}function GE(t){return typeof t.title=="string"||t.title===null}var yp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=R,this.activateEvents=new Dt,this.deactivateEvents=new Dt,this.attachEvents=new Dt,this.detachEvents=new Dt,this.parentContexts=v(du),this.location=v(Mi),this.changeDetector=v(Fi),this.environmentInjector=v(gt),this.inputBinder=v(hu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new ap(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=jn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ws]});let t=e;return t})(),ap=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===xr?this.route:e===du?this.childContexts:this.parent.get(e,n)}},hu=new N(""),RE=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=xs([i.queryParams,i.params,i.data]).pipe(dt(([o,a,c],u)=>(c=w(w(w({},o),a),c),u===0?A(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=eE(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function cM(t,e,n){let r=ho(t,e._root,n?n._root:void 0);return new au(r,e)}function ho(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=uM(t,e,n);return new ot(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ho(t,a)),o}}let r=lM(e.value),i=e.children.map(s=>ho(t,s));return new ot(r,i)}}function uM(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ho(t,r,i);return ho(t,r)})}function lM(t){return new xr(new pe(t.url),new pe(t.params),new pe(t.queryParams),new pe(t.fragment),new pe(t.data),t.outlet,t.component,t)}var KE="ngNavigationCancelingError";function QE(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=qi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=YE(!1,at.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function YE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[KE]=!0,n.cancellationCode=e,n}function dM(t){return JE(t)&&qi(t.url)}function JE(t){return!!t&&t[KE]}var hM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ke({type:e,selectors:[["ng-component"]],standalone:!0,features:[Qe],decls:1,vars:0,template:function(i,s){i&1&&oe(0,"router-outlet")},dependencies:[yp],encapsulation:2});let t=e;return t})();function fM(t,e){return t.providers&&!t._injector&&(t._injector=hf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function _p(t){let e=t.children&&t.children.map(_p),n=e?ae(w({},t),{children:e}):w({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==R&&(n.component=hM),n}function Gt(t){return t.outlet||R}function pM(t,e){let n=t.filter(r=>Gt(r)===e);return n.push(...t.filter(r=>Gt(r)!==e)),n}function go(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var gM=(t,e,n,r)=>z(i=>(new cp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),cp=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Uf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ji(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ji(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ji(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ji(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new np(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ep(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Uf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Uf(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=go(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},uu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},$i=class{constructor(e,n){this.component=e,this.route=n}};function mM(t,e,n){let r=t._root,i=e?e._root:null;return eo(r,i,n,[r.value])}function yM(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Wi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Wv(t)?t:e.get(t):r}function eo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ji(e);return t.children.forEach(o=>{_M(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>io(a,n.getContext(o),i)),i}function _M(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=vM(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new uu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?eo(t,e,a?a.children:null,r,i):eo(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $i(a.outlet.component,o))}else o&&io(e,a,i),i.canActivateChecks.push(new uu(r)),s.component?eo(t,null,a?a.children:null,r,i):eo(t,null,n,r,i);return i}function vM(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ar(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ar(t.url,e.url)||!zt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!op(t,e)||!zt(t.queryParams,e.queryParams);case"paramsChange":default:return!op(t,e)}}function io(t,e,n){let r=ji(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?io(o,e.children.getContext(s),n):io(o,null,n):io(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new $i(e.outlet.component,i)):n.canDeactivateChecks.push(new $i(null,i)):n.canDeactivateChecks.push(new $i(null,i))}function mo(t){return typeof t=="function"}function wM(t){return typeof t=="boolean"}function IM(t){return t&&mo(t.canLoad)}function EM(t){return t&&mo(t.canActivate)}function CM(t){return t&&mo(t.canActivateChild)}function TM(t){return t&&mo(t.canDeactivate)}function DM(t){return t&&mo(t.canMatch)}function ZE(t){return t instanceof ln||t?.name==="EmptyError"}var Zc=Symbol("INITIAL_VALUE");function zi(){return dt(t=>xs(t.map(e=>e.pipe(dn(1),Rd(Zc)))).pipe(z(e=>{for(let n of e)if(n!==!0){if(n===Zc)return Zc;if(n===!1||n instanceof Wn)return n}return!0}),Ct(e=>e!==Zc),dn(1)))}function bM(t,e){return me(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?A(ae(w({},n),{guardsResult:!0})):SM(o,r,i,t).pipe(me(a=>a&&wM(a)?AM(r,s,t,e):A(a)),z(a=>ae(w({},n),{guardsResult:a})))})}function SM(t,e,n,r){return ge(t).pipe(me(i=>MM(i.component,i.route,n,e,r)),Ot(i=>i!==!0,!0))}function AM(t,e,n,r){return ge(e).pipe(yi(i=>mi(xM(i.route.parent,r),RM(i.route,r),PM(t,i.path,n),NM(t,i.route,n))),Ot(i=>i!==!0,!0))}function RM(t,e){return t!==null&&e&&e(new tp(t)),A(!0)}function xM(t,e){return t!==null&&e&&e(new Xf(t)),A(!0)}function NM(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return A(!0);let i=r.map(s=>Qa(()=>{let o=go(e)??n,a=Wi(s,o),c=EM(a)?a.canActivate(e,t):Ir(o,()=>a(e,t));return Kn(c).pipe(Ot())}));return A(i).pipe(zi())}function PM(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>yM(o)).filter(o=>o!==null).map(o=>Qa(()=>{let a=o.guards.map(c=>{let u=go(o.node)??n,l=Wi(c,u),d=CM(l)?l.canActivateChild(r,t):Ir(u,()=>l(r,t));return Kn(d).pipe(Ot())});return A(a).pipe(zi())}));return A(s).pipe(zi())}function MM(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return A(!0);let o=s.map(a=>{let c=go(e)??i,u=Wi(a,c),l=TM(u)?u.canDeactivate(t,e,n,r):Ir(c,()=>u(t,e,n,r));return Kn(l).pipe(Ot())});return A(o).pipe(zi())}function kM(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return A(!0);let s=i.map(o=>{let a=Wi(o,t),c=IM(a)?a.canLoad(e,n):Ir(t,()=>a(e,n));return Kn(c)});return A(s).pipe(zi(),XE(r))}function XE(t){return md(ye(e=>{if(qi(e))throw QE(t,e)}),z(e=>e===!0))}function OM(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return A(!0);let s=i.map(o=>{let a=Wi(o,t),c=DM(a)?a.canMatch(e,n):Ir(t,()=>a(e,n));return Kn(c)});return A(s).pipe(zi(),XE(r))}var fo=class{constructor(e){this.segmentGroup=e||null}},lu=class extends Error{constructor(e){super(),this.urlTree=e}};function Ui(t){return gi(new fo(t))}function FM(t){return gi(new I(4e3,!1))}function LM(t){return gi(YE(!1,at.GuardRejected))}var up=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return A(r);if(i.numberOfChildren>1||!i.children[R])return FM(e.redirectTo);i=i.children[R]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new lu(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Wn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Y(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new I(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},lp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function VM(t,e,n,r,i){let s=vp(t,e,n);return s.matched?(r=fM(e,r),OM(r,e,n,i).pipe(z(o=>o===!0?s:w({},lp)))):A(s)}function vp(t,e,n){if(e.path==="**")return UM(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?w({},lp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||OP)(n,t,e);if(!i)return w({},lp);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?w(w({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function UM(t){return{matched:!0,parameters:t.length>0?PE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function xE(t,e,n,r){return n.length>0&&$M(t,n,r)?{segmentGroup:new Y(e,BM(r,new Y(n,t.children))),slicedSegments:[]}:n.length===0&&HM(t,n,r)?{segmentGroup:new Y(t.segments,jM(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Y(t.segments,t.children),slicedSegments:n}}function jM(t,e,n,r){let i={};for(let s of n)if(fu(t,e,s)&&!r[Gt(s)]){let o=new Y([],{});i[Gt(s)]=o}return w(w({},r),i)}function BM(t,e){let n={};n[R]=e;for(let r of t)if(r.path===""&&Gt(r)!==R){let i=new Y([],{});n[Gt(r)]=i}return n}function $M(t,e,n){return n.some(r=>fu(t,e,r)&&Gt(r)!==R)}function HM(t,e,n){return n.some(r=>fu(t,e,r))}function fu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function qM(t,e,n,r){return Gt(t)!==r&&(r===R||!fu(e,n,t))?!1:vp(e,t,n).matched}function zM(t,e,n){return e.length===0&&!t.children[n]}var dp=class{};function WM(t,e,n,r,i,s,o="emptyOnly"){return new hp(t,e,n,r,i,o,s).recognize()}var GM=31,hp=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new up(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new I(4002,`'${e.segmentGroup}'`)}recognize(){let e=xE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(z(n=>{let r=new lo([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,{},R,this.rootComponentType,null,{}),i=new ot(r,n),s=new cu("",i),o=eM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,R).pipe(Mn(r=>{if(r instanceof lu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof fo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=gp(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(z(s=>s instanceof ot?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return ge(i).pipe(yi(s=>{let o=r.children[s],a=pM(n,s);return this.processSegmentGroup(e,a,o,s)}),Ad((s,o)=>(s.push(...o),s)),kn(null),Sd(),me(s=>{if(s===null)return Ui(r);let o=eC(s);return KM(o),A(o)}))}processSegment(e,n,r,i,s,o){return ge(n).pipe(yi(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Mn(c=>{if(c instanceof fo)return A(null);throw c}))),Ot(a=>!!a),Mn(a=>{if(ZE(a))return zM(r,i,s)?A(new dp):Ui(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return qM(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ui(i):Ui(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=vp(n,i,s);if(!a)return Ui(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>GM&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(me(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=VM(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(dt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(dt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new lo(l,h,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,YM(r),Gt(r),r.component??r._loadedComponent??null,r,JM(r)),{segmentGroup:g,slicedSegments:_}=xE(n,l,d,c);if(_.length===0&&g.hasChildren())return this.processChildren(u,c,g).pipe(z(B=>B===null?null:new ot(f,B)));if(c.length===0&&_.length===0)return A(new ot(f,[]));let P=Gt(r)===s;return this.processSegment(u,c,g,_,P?R:s,!0).pipe(z(B=>new ot(f,B instanceof ot?[B]:[])))}))):Ui(n)))}getChildConfig(e,n,r){return n.children?A({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?A({routes:n._loadedRoutes,injector:n._loadedInjector}):kM(e,n,r,this.urlSerializer).pipe(me(i=>i?this.configLoader.loadChildren(e,n).pipe(ye(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):LM(n))):A({routes:[],injector:e})}};function KM(t){t.sort((e,n)=>e.value.outlet===R?-1:n.value.outlet===R?1:e.value.outlet.localeCompare(n.value.outlet))}function QM(t){let e=t.value.routeConfig;return e&&e.path===""}function eC(t){let e=[],n=new Set;for(let r of t){if(!QM(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=eC(r.children);e.push(new ot(r.value,i))}return e.filter(r=>!n.has(r))}function YM(t){return t.data||{}}function JM(t){return t.resolve||{}}function ZM(t,e,n,r,i,s){return me(o=>WM(t,e,n,r,o.extractedUrl,i,s).pipe(z(({state:a,tree:c})=>ae(w({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function XM(t,e){return me(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return A(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of tC(c))o.add(u);let a=0;return ge(o).pipe(yi(c=>s.has(c)?e1(c,r,t,e):(c.data=gp(c,c.parent,t).resolve,A(void 0))),ye(()=>a++),_i(1),me(c=>a===o.size?A(n):Be))})}function tC(t){let e=t.children.map(n=>tC(n)).flat();return[t,...e]}function e1(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!GE(i)&&(s[po]=i.title),t1(s,t,e,r).pipe(z(o=>(t._resolvedData=o,t.data=gp(t,t.parent,n).resolve,null)))}function t1(t,e,n,r){let i=$f(t);if(i.length===0)return A({});let s={};return ge(i).pipe(me(o=>n1(t[o],e,n,r).pipe(Ot(),ye(a=>{s[o]=a}))),_i(1),bd(s),Mn(o=>ZE(o)?Be:gi(o)))}function n1(t,e,n,r){let i=go(e)??r,s=Wi(t,i),o=s.resolve?s.resolve(e,n):Ir(i,()=>s(e,n));return Kn(o)}function jf(t){return dt(e=>{let n=t(e);return n?ge(n).pipe(z(()=>e)):A(e)})}var nC=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===R);return i}getResolvedTitleForRoute(r){return r.data[po]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(r1),providedIn:"root"});let t=e;return t})(),r1=(()=>{let e=class e extends nC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(O(TE))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wp=new N("",{providedIn:"root",factory:()=>({})}),Ip=new N(""),i1=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=v(vf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return A(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Kn(r.loadComponent()).pipe(z(rC),ye(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Ns(()=>{this.componentLoaders.delete(r)})),s=new di(i,()=>new ke).pipe(li());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return A({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=s1(i,this.compiler,r,this.onLoadEndListener).pipe(Ns(()=>{this.childrenLoaders.delete(i)})),a=new di(o,()=>new ke).pipe(li());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function s1(t,e,n,r){return Kn(t.loadChildren()).pipe(z(rC),me(i=>i instanceof Hs||Array.isArray(i)?A(i):ge(e.compileModuleAsync(i))),z(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Ip,[],{optional:!0,self:!0}).flat()),{routes:o.map(_p),injector:s}}))}function o1(t){return t&&typeof t=="object"&&"default"in t}function rC(t){return o1(t)?t.default:t}var Ep=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(a1),providedIn:"root"});let t=e;return t})(),a1=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),c1=new N("");var u1=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ke,this.transitionAbortSubject=new ke,this.configLoader=v(i1),this.environmentInjector=v(gt),this.urlSerializer=v(pp),this.rootContexts=v(du),this.location=v(br),this.inputBindingEnabled=v(hu,{optional:!0})!==null,this.titleStrategy=v(nC),this.options=v(wp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=v(Ep),this.createViewTransition=v(c1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>A(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Jf(s)),i=s=>this.events.next(new Zf(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ae(w(w({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new pe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ro,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ct(o=>o.id!==0),z(o=>ae(w({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),dt(o=>{let a=!1,c=!1;return A(o).pipe(dt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",at.SupersededByNewNavigation),Be;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ae(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Rr(u.id,this.urlSerializer.serialize(u.rawUrl),h,Wf.IgnoredSameUrlNavigation)),u.resolve(null),Be}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return A(u).pipe(dt(h=>{let f=this.transitions?.getValue();return this.events.next(new oo(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Be:Promise.resolve(h)}),ZM(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ye(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ae(w({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new su(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:_,extras:P}=u,B=new oo(h,this.urlSerializer.serialize(f),g,_);this.events.next(B);let Se=zE(this.rootComponentType).snapshot;return this.currentTransition=o=ae(w({},u),{targetSnapshot:Se,urlAfterRedirects:f,extras:ae(w({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,A(o)}else{let h="";return this.events.next(new Rr(u.id,this.urlSerializer.serialize(u.extractedUrl),h,Wf.IgnoredByUrlHandlingStrategy)),u.resolve(null),Be}}),ye(u=>{let l=new Gf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),z(u=>(this.currentTransition=o=ae(w({},u),{guards:mM(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),bM(this.environmentInjector,u=>this.events.next(u)),ye(u=>{if(o.guardsResult=u.guardsResult,qi(u.guardsResult))throw QE(this.urlSerializer,u.guardsResult);let l=new Kf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Ct(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",at.GuardRejected),!1)),jf(u=>{if(u.guards.canActivateChecks.length)return A(u).pipe(ye(l=>{let d=new Qf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),dt(l=>{let d=!1;return A(l).pipe(XM(this.paramsInheritanceStrategy,this.environmentInjector),ye({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",at.NoDataFromResolver)}}))}),ye(l=>{let d=new Yf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),jf(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(ye(f=>{d.component=f}),z(()=>{})));for(let f of d.children)h.push(...l(f));return h};return xs(l(u.targetSnapshot.root)).pipe(kn(null),dn(1))}),jf(()=>this.afterPreactivation()),dt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?ge(d).pipe(z(()=>o)):A(o)}),z(u=>{let l=cM(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ae(w({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ye(()=>{this.events.next(new co)}),gM(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),dn(1),ye({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wt(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),xd(this.transitionAbortSubject.pipe(ye(u=>{throw u}))),Ns(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",at.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Mn(u=>{if(c=!0,JE(u))this.events.next(new Gn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),dM(u)?this.events.next(new uo(u.url)):o.resolve(!1);else{this.events.next(new ao(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return Be}))}))}cancelNavigationTransition(r,i,s){let o=new Gn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function l1(t){return t!==ro}var d1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(h1),providedIn:"root"});let t=e;return t})(),fp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},h1=(()=>{let e=class e extends fp{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Gh(e)))(s||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),iC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(f1),providedIn:"root"});let t=e;return t})(),f1=(()=>{let e=class e extends iC{constructor(){super(...arguments),this.location=v(br),this.urlSerializer=v(pp),this.options=v(wp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=v(Ep),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Wn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=zE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof oo)this.stateMemento=this.createStateMemento();else if(r instanceof Rr)this.rawUrlTree=i.initialUrl;else if(r instanceof su){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof co?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Gn&&(r.code===at.GuardRejected||r.code===at.NoDataFromResolver)?this.restoreHistory(i):r instanceof ao?this.restoreHistory(i,!0):r instanceof Wt&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=w(w({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=w(w({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Gh(e)))(s||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),to=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(to||{});function p1(t,e){t.events.pipe(Ct(n=>n instanceof Wt||n instanceof Gn||n instanceof ao||n instanceof Rr),z(n=>n instanceof Wt||n instanceof Rr?to.COMPLETE:(n instanceof Gn?n.code===at.Redirect||n.code===at.SupersededByNewNavigation:!1)?to.REDIRECTING:to.FAILED),Ct(n=>n!==to.REDIRECTING),dn(1)).subscribe(()=>{e()})}function g1(t){throw t}var m1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},y1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},yo=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=v(Hc),this.stateManager=v(iC),this.options=v(wp,{optional:!0})||{},this.pendingTasks=v($c),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=v(u1),this.urlSerializer=v(pp),this.location=v(br),this.urlHandlingStrategy=v(Ep),this._events=new ke,this.errorHandler=this.options.errorHandler||g1,this.navigated=!1,this.routeReuseStrategy=v(d1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=v(Ip,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!v(hu,{optional:!0}),this.eventsSubscription=new fe,this.isNgZoneEnabled=v(ee)instanceof ee&&ee.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Gn&&i.code!==at.Redirect&&i.code!==at.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Wt)this.navigated=!0;else if(i instanceof uo){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||l1(s.source)};this.scheduleNavigation(a,ro,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}v1(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ro,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=w({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(_p),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=w(w({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=BE(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return $E(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=qi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ro,null,i)}navigate(r,i={skipLocationChange:!1}){return _1(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=w({},m1):i===!1?s=w({},y1):s=i,qi(r))return DE(this.currentUrlTree,r,s);let o=this.parseUrl(r);return DE(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return p1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new I(4008,!1)}function v1(t){return!(t instanceof co)&&!(t instanceof uo)}var pu=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new ke,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Wt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:sI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(J(yo),J(xr),Kh("tabindex"),J(Pi),J(Er),J(Vi))},e.\u0275dir=jn({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&yn("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&pf("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[pt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Qs],skipLocationChange:[pt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Qs],replaceUrl:[pt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Qs],routerLink:"routerLink"},standalone:!0,features:[df,Ws]});let t=e;return t})();var w1=new N("");function sC(t,...e){return Dc([{provide:Ip,multi:!0,useValue:t},[],{provide:xr,useFactory:I1,deps:[yo]},{provide:_f,multi:!0,useFactory:C1},e.map(n=>n.\u0275providers)])}function I1(t){return t.routerState.root}function E1(t,e){return{\u0275kind:t,\u0275providers:e}}function C1(){let t=v(Rt);return e=>{let n=t.get(Ks);if(e!==n.components[0])return;let r=t.get(yo),i=t.get(T1);t.get(D1)===1&&r.initialNavigation(),t.get(b1,null,k.Optional)?.setUpPreloading(),t.get(w1,null,k.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var T1=new N("",{factory:()=>new ke}),D1=new N("",{providedIn:"root",factory:()=>1});var b1=new N("");function oC(){return E1(8,[RE,{provide:hu,useExisting:RE}])}var aC={firebase:{apiKey:"AIzaSyCK_XbyASoW2HE3dFyFtEXnQXASTVzilqQ",authDomain:"bidosi-manga.firebaseapp.com",databaseURL:"https://bidosi-manga-default-rtdb.europe-west1.firebasedatabase.app",projectId:"bidosi-manga",storageBucket:"bidosi-manga.appspot.com",messagingSenderId:"24335793429",appId:"1:24335793429:web:c9616afea73ecf763dfd1c"}};var Tp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var m=function(t,e){if(!t)throw Nr(e)},Nr=function(t){return new Error("Firebase Database ("+Tp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var uC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},A1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},mu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):A1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Dp;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Dp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Sp=function(t){let e=uC(t);return mu.encodeByteArray(e,!0)},_o=function(t){return Sp(t).replace(/\./g,"")},vo=function(t){try{return mu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lC(t){return dC(void 0,t)}function dC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!R1(n)||(t[n]=dC(t[n],e[n]));return t}function R1(t){return t!=="__proto__"}function x1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var N1=()=>x1().__FIREBASE_DEFAULTS__,P1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},M1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&vo(t[1]);return e&&JSON.parse(e)},Ap=()=>{try{return N1()||P1()||M1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Rp=t=>{var e,n;return(n=(e=Ap())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yu=t=>{let e=Rp(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xp=()=>{var t;return(t=Ap())===null||t===void 0?void 0:t.config},Np=t=>{var e;return(e=Ap())===null||e===void 0?void 0:e[`_${t}`]};var Qn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function _u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_o(JSON.stringify(n)),_o(JSON.stringify(o)),""].join(".")}function Ce(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wo(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function hC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fC(){let t=Ce();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Kt(){return Tp.NODE_CLIENT===!0||Tp.NODE_ADMIN===!0}function Pp(){try{return typeof indexedDB=="object"}catch{return!1}}function pC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var k1="FirebaseError",ct=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=k1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_n.prototype.create)}},_n=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?O1(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ct(i,a,r)}};function O1(t,e){return t.replace(F1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var F1=/\{\$([^}]+)}/g;function Gi(t){return JSON.parse(t)}function _e(t){return JSON.stringify(t)}var gC=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=Gi(vo(s[0])||""),n=Gi(vo(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var mC=function(t){let e=gC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},yC=function(t){let e=gC(t).claims;return typeof e=="object"&&e.admin===!0};function Qt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Pr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Io(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Eo(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Mr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(cC(s)&&cC(o)){if(!Mr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function cC(t){return t!==null&&typeof t=="object"}function kr(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var gu=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4],u,l;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),l=1518500249):(u=s^o^a,l=1859775393):d<60?(u=s&o|a&(s|o),l=2400959708):(u=s^o^a,l=3395469782);let h=(i<<5|i>>>27)+u+c+l+r[d]&4294967295;c=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function _C(t,e){let n=new bp(t,e);return n.subscribe.bind(n)}var bp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");L1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Cp),i.error===void 0&&(i.error=Cp),i.complete===void 0&&(i.complete=Cp);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function L1(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cp(){}function wu(t,e){return`${t} failed: ${e} argument `}var vC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,m(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Co=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var y5=4*60*60*1e3;function Ye(t){return t&&t._delegate?t._delegate:t}var Je=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Or="[DEFAULT]";var Iu=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Qn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U1(e))try{this.getOrInitializeService({instanceIdentifier:Or})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Or){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Or){return this.instances.has(e)}getOptions(e=Or){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:V1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Or){return this.component?this.component.multipleInstances?e:Or:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function V1(t){return t===Or?void 0:t}function U1(t){return t.instantiationMode==="EAGER"}var To=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Iu(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var j1=[],K=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(K||{}),B1={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},$1=K.INFO,H1={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},q1=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=H1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Yt=class{constructor(e){this.name=e,this._logLevel=$1,this._logHandler=q1,this._userLogHandler=null,j1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in K))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?B1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...e),this._logHandler(this,K.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...e),this._logHandler(this,K.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,K.INFO,...e),this._logHandler(this,K.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,K.WARN,...e),this._logHandler(this,K.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...e),this._logHandler(this,K.ERROR,...e)}};var z1=(t,e)=>e.some(n=>t instanceof n),wC,IC;function W1(){return wC||(wC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G1(){return IC||(IC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var EC=new WeakMap,kp=new WeakMap,CC=new WeakMap,Mp=new WeakMap,Fp=new WeakMap;function K1(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Jt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&EC.set(n,t)}).catch(()=>{}),Fp.set(e,t),e}function Q1(t){if(kp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});kp.set(t,e)}var Op={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TC(t){Op=t(Op)}function Y1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Eu(this),e,...n);return CC.set(r,e.sort?e.sort():[e]),Jt(r)}:G1().includes(t)?function(...e){return t.apply(Eu(this),e),Jt(EC.get(this))}:function(...e){return Jt(t.apply(Eu(this),e))}}function J1(t){return typeof t=="function"?Y1(t):(t instanceof IDBTransaction&&Q1(t),z1(t,W1())?new Proxy(t,Op):t)}function Jt(t){if(t instanceof IDBRequest)return K1(t);if(Mp.has(t))return Mp.get(t);let e=J1(t);return e!==t&&(Mp.set(t,e),Fp.set(e,t)),e}var Eu=t=>Fp.get(t);function bC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Jt(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Jt(o.result),c.oldVersion,c.newVersion,Jt(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var Z1=["get","getKey","getAll","getAllKeys","count"],X1=["put","add","delete","clear"],Lp=new Map;function DC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lp.get(e))return Lp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=X1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Z1.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Lp.set(e,s),s}TC(t=>ae(w({},t),{get:(e,n,r)=>DC(e,n)||t.get(e,n,r),has:(e,n)=>!!DC(e,n)||t.has(e,n)}));var Up=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ek(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function ek(t){let e=t.getComponent();return e?.type==="VERSION"}var jp="@firebase/app",SC="0.10.1";var Fr=new Yt("@firebase/app"),tk="@firebase/app-compat",nk="@firebase/analytics-compat",rk="@firebase/analytics",ik="@firebase/app-check-compat",sk="@firebase/app-check",ok="@firebase/auth",ak="@firebase/auth-compat",ck="@firebase/database",uk="@firebase/database-compat",lk="@firebase/functions",dk="@firebase/functions-compat",hk="@firebase/installations",fk="@firebase/installations-compat",pk="@firebase/messaging",gk="@firebase/messaging-compat",mk="@firebase/performance",yk="@firebase/performance-compat",_k="@firebase/remote-config",vk="@firebase/remote-config-compat",wk="@firebase/storage",Ik="@firebase/storage-compat",Ek="@firebase/firestore",Ck="@firebase/firestore-compat",Tk="firebase",Dk="10.11.0";var Bp="[DEFAULT]",bk={[jp]:"fire-core",[tk]:"fire-core-compat",[rk]:"fire-analytics",[nk]:"fire-analytics-compat",[sk]:"fire-app-check",[ik]:"fire-app-check-compat",[ok]:"fire-auth",[ak]:"fire-auth-compat",[ck]:"fire-rtdb",[uk]:"fire-rtdb-compat",[lk]:"fire-fn",[dk]:"fire-fn-compat",[hk]:"fire-iid",[fk]:"fire-iid-compat",[pk]:"fire-fcm",[gk]:"fire-fcm-compat",[mk]:"fire-perf",[yk]:"fire-perf-compat",[_k]:"fire-rc",[vk]:"fire-rc-compat",[wk]:"fire-gcs",[Ik]:"fire-gcs-compat",[Ek]:"fire-fst",[Ck]:"fire-fst-compat","fire-js":"fire-js",[Tk]:"fire-js-all"};var Do=new Map,Sk=new Map,$p=new Map;function AC(t,e){try{t.container.addComponent(e)}catch(n){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zt(t){let e=t.name;if($p.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;$p.set(e,t);for(let n of Do.values())AC(n,t);for(let n of Sk.values())AC(n,t);return!0}function Lr(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function vn(t){return t.settings!==void 0}var Ak={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yn=new _n("app","Firebase",Ak);var Hp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Je("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}};var Xt=Dk;function So(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Bp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Yn.create("bad-app-name",{appName:String(i)});if(n||(n=xp()),!n)throw Yn.create("no-options");let s=Do.get(i);if(s){if(Mr(n,s.options)&&Mr(r,s.config))return s;throw Yn.create("duplicate-app",{appName:i})}let o=new To(i);for(let c of $p.values())o.addComponent(c);let a=new Hp(n,r,o);return Do.set(i,a),a}function Jn(t=Bp){let e=Do.get(t);if(!e&&t===Bp&&xp())return So();if(!e)throw Yn.create("no-app",{appName:t});return e}function Cu(){return Array.from(Do.values())}function le(t,e,n){var r;let i=(r=bk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(a.join(" "));return}Zt(new Je(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Rk="firebase-heartbeat-database",xk=1,bo="firebase-heartbeat-store",Vp=null;function PC(){return Vp||(Vp=bC(Rk,xk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yn.create("idb-open",{originalErrorMessage:t.message})})),Vp}function Nk(t){return p(this,null,function*(){try{let n=(yield PC()).transaction(bo),r=yield n.objectStore(bo).get(MC(t));return yield n.done,r}catch(e){if(e instanceof ct)Fr.warn(e.message);else{let n=Yn.create("idb-get",{originalErrorMessage:e?.message});Fr.warn(n.message)}}})}function RC(t,e){return p(this,null,function*(){try{let r=(yield PC()).transaction(bo,"readwrite");yield r.objectStore(bo).put(e,MC(t)),yield r.done}catch(n){if(n instanceof ct)Fr.warn(n.message);else{let r=Yn.create("idb-set",{originalErrorMessage:n?.message});Fr.warn(r.message)}}})}function MC(t){return`${t.name}!${t.options.appId}`}var Pk=1024,Mk=30*24*60*60*1e3,qp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new zp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Mk}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=xC(),{heartbeatsToSend:r,unsentEntries:i}=kk(this._heartbeatsCache.heartbeats),s=_o(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function xC(){return new Date().toISOString().substring(0,10)}function kk(t,e=Pk){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),NC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),NC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var zp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return Pp()?pC().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Nk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return RC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return RC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function NC(t){return _o(JSON.stringify({version:2,heartbeats:t})).length}function Ok(t){Zt(new Je("platform-logger",e=>new Up(e),"PRIVATE")),Zt(new Je("heartbeat",e=>new qp(e),"PRIVATE")),le(jp,SC,t),le(jp,SC,"esm2017"),le("fire-js","")}Ok("");var Fk="firebase",Lk="10.11.0";le(Fk,Lk,"app");var kC="@firebase/database",OC="1.0.4";var Yg="";function Vk(t){Yg=t}var Xp=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),_e(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Gi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var eg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Qt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var p0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Xp(e)}}catch{}return new eg},Ur=p0("localStorage"),tg=p0("sessionStorage");var Yi=new Yt("@firebase/database"),Uk=function(){let t=1;return function(){return t++}}(),g0=function(t){let e=vC(t),n=new gu;n.update(e);let r=n.digest();return mu.encodeByteArray(r)},Ho=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ho.apply(null,r):typeof r=="object"?e+=_e(r):e+=r,e+=" "}return e},Br=null,FC=!0,jk=function(t,e){m(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Yi.logLevel=K.VERBOSE,Br=Yi.log.bind(Yi),e&&tg.set("logging_enabled",!0)):typeof t=="function"?Br=t:(Br=null,tg.remove("logging_enabled"))},Le=function(...t){if(FC===!0&&(FC=!1,Br===null&&tg.get("logging_enabled")===!0&&jk(!0)),Br){let e=Ho.apply(null,t);Br(e)}},qo=function(t){return function(...e){Le(t,...e)}},ng=function(...t){let e="FIREBASE INTERNAL ERROR: "+Ho(...t);Yi.error(e)},wn=function(...t){let e=`FIREBASE FATAL ERROR: ${Ho(...t)}`;throw Yi.error(e),new Error(e)},Xe=function(...t){let e="FIREBASE WARNING: "+Ho(...t);Yi.warn(e)},Bk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Xe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},m0=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},$k=function(t){if(Kt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Xi="[MIN_NAME]",$r="[MAX_NAME]",os=function(t,e){if(t===e)return 0;if(t===Xi||e===$r)return-1;if(e===Xi||t===$r)return 1;{let n=LC(t),r=LC(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Hk=function(t,e){return t===e?0:t<e?-1:1},Ao=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+_e(e))},Jg=function(t){if(typeof t!="object"||t===null)return _e(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=_e(e[r]),n+=":",n+=Jg(t[e[r]]);return n+="}",n},y0=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function et(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var _0=function(t){m(!m0(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,c;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let u=[];for(c=n;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();let l=u.join(""),d="";for(c=0;c<64;c+=8){let h=parseInt(l.substr(c,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},qk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},zk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Wk(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var Gk=new RegExp("^-?(0*)\\d{1,10}$"),Kk=-2147483648,Qk=2147483647,LC=function(t){if(Gk.test(t)){let e=Number(t);if(e>=Kk&&e<=Qk)return e}return null},as=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Xe("Exception was thrown by user callback.",n),e},Math.floor(0))}},Yk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Mo=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var rg=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Xe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var ig=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Le("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Xe(e)}},ko=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Du="5",v0="v",w0="s",I0="r",E0="f",C0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,T0="ls",D0="p",sg="ac",b0="websocket",S0="long_polling";var bu=class{constructor(e,n,r,i,s=!1,o="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ur.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ur.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function Jk(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function A0(t,e,n){m(typeof e=="string","typeof type must == string"),m(typeof n=="object","typeof params must == object");let r;if(e===b0)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===S0)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Jk(t)&&(n.ns=t.namespace);let i=[];return et(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var og=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Qt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return lC(this.counters_)}};var Wp={},Gp={};function Zg(t){let e=t.toString();return Wp[e]||(Wp[e]=new og),Wp[e]}function Zk(t,e){let n=t.toString();return Gp[n]||(Gp[n]=e()),Gp[n]}var ag=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&as(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var VC="start",Xk="close",eO="pLPCommand",tO="pRTLPCB",R0="id",x0="pw",N0="ser",nO="cb",rO="seg",iO="ts",sO="d",oO="dframe",P0=1870,M0=30,aO=P0-M0,cO=25e3,uO=3e4,cg=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=qo(e),this.stats_=Zg(n),this.urlFn=c=>(this.appCheckToken&&(c[sg]=this.appCheckToken),A0(n,S0,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ag(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(uO)),$k(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ug((...s)=>{let[o,a,c,u,l]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===VC)this.id=a,this.password=c;else if(o===Xk)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[VC]="t",r[N0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[nO]=this.scriptTagHolder.uniqueCallbackIdentifier),r[v0]=Du,this.transportSessionId&&(r[w0]=this.transportSessionId),this.lastSessionId&&(r[T0]=this.lastSessionId),this.applicationId&&(r[D0]=this.applicationId),this.appCheckToken&&(r[sg]=this.appCheckToken),typeof location<"u"&&location.hostname&&C0.test(location.hostname)&&(r[I0]=E0);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Kt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!qk()&&!zk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=_e(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Sp(n),i=y0(r,aO);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Kt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[oO]="t",r[R0]=e,r[x0]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=_e(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},ug=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Kt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Uk(),window[eO+this.uniqueCallbackIdentifier]=e,window[tO+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Le("frame writing exception"),a.stack&&Le(a.stack),Le(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Le("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[R0]=this.myID,e[x0]=this.myPW,e[N0]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+M0+r.length<=P0;){let o=this.pendingSegs.shift();r=r+"&"+rO+i+"="+o.seg+"&"+iO+i+"="+o.ts+"&"+sO+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(cO)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){Kt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Le("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var lO=16384,dO=45e3,Su=null;typeof MozWebSocket<"u"?Su=MozWebSocket:typeof WebSocket<"u"&&(Su=WebSocket);var Ro=(()=>{class t{constructor(n,r,i,s,o,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=qo(this.connId),this.stats_=Zg(r),this.connURL=t.connectionURL_(r,a,c,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[v0]=Du,!Kt()&&typeof location<"u"&&location.hostname&&C0.test(location.hostname)&&(a[I0]=E0),r&&(a[w0]=r),i&&(a[T0]=i),s&&(a[sg]=s),o&&(a[D0]=o),A0(n,b0,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ur.set("previous_websocket_failure",!0);try{let i;if(Kt()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Du}/${Yg}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Su(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Su!==null&&!t.forceDisallow_}static previouslyFailed(){return Ur.isInMemoryStorage||Ur.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ur.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Gi(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(m(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=_e(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=y0(r,lO);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(dO))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),hO=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[cg,Ro]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Ro&&Ro.isAvailable(),i=r&&!Ro.previouslyFailed();if(n.webSocketOnly&&(r||Xe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ro];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),fO=6e4,pO=5e3,gO=10*1024,mO=100*1024,Kp="t",UC="d",yO="s",jC="r",_O="e",BC="o",$C="a",HC="n",qC="p",vO="h",lg=class{constructor(e,n,r,i,s,o,a,c,u,l){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=qo("c:"+this.id+":"),this.transportManager_=new hO(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Mo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>mO?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>gO?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Kp in e){let n=e[Kp];n===$C?this.upgradeIfSecondaryHealthy_():n===jC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===BC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Ao("t",e),r=Ao("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:qC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$C,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:HC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Ao("t",e),r=Ao("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Ao(Kp,e);if(UC in e){let r=e[UC];if(n===vO){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===HC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===yO?this.onConnectionShutdown_(r):n===jC?this.onReset_(r):n===_O?ng("Server Error: "+r):n===BC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ng("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Du!==r&&Xe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Mo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(fO))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Mo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(pO))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:qC,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ur.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Au=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Ru=class{constructor(e){this.allowedEvents_=e,this.listeners_={},m(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){m(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var xu=class t extends Ru{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!wo()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return m(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var zC=32,WC=768,Z=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function Q(){return new Z("")}function F(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Xn(t){return t.pieces_.length-t.pieceNum_}function ne(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Z(t.pieces_,e)}function k0(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function wO(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function O0(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function F0(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Z(e,0)}function ve(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Z)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Z(n,0)}function U(t){return t.pieceNum_>=t.pieces_.length}function Ze(t,e){let n=F(t),r=F(e);if(n===null)return e;if(n===r)return Ze(ne(t),ne(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Xg(t,e){if(Xn(t)!==Xn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Nt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Xn(t)>Xn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var dg=class{constructor(e,n){this.errorPrefix_=n,this.parts_=O0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Co(this.parts_[r]);L0(this)}};function IO(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Co(e),L0(t)}function EO(t){let e=t.parts_.pop();t.byteLength_-=Co(e),t.parts_.length>0&&(t.byteLength_-=1)}function L0(t){if(t.byteLength_>WC)throw new Error(t.errorPrefix_+"has a key path longer than "+WC+" bytes ("+t.byteLength_+").");if(t.parts_.length>zC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+zC+") or object contains a cycle "+Vr(t))}function Vr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var hg=class t extends Ru{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return m(e==="visible","Unknown event type: "+e),[this.visible_]}};var xo=1e3,CO=60*5*1e3,GC=30*1e3,TO=1.3,DO=3e4,bO="server_kill",KC=3,em=(()=>{class t extends Au{constructor(n,r,i,s,o,a,c,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=qo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xo,this.maxReconnectDelay_=CO,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!Kt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");hg.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&xu.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(_e(o)),m(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new Qn,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),m(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,c=>{let u=c.d,l=c.s;t.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",c),l!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(l,u))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Qt(n,"w")){let i=Pr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Xe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||yC(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=GC)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=mC(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+_e(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):ng("Unrecognized action received from server: "+_e(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){m(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xo,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=xo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>DO&&(this.reconnectDelay_=xo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*TO)}this.onConnectStatus_(!1)}establishConnection_(){return p(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,c=null,u=function(){c?c.close():(a=!0,i())},l=function(h){m(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(h)};this.realtime_={close:u,sendRequest:l};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Le("getToken() completed but was canceled"):(Le("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,c=new lg(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,g=>{Xe(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(bO)},o))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&Xe(h),u())}}})}interrupt(n){Le("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Le("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Io(this.interruptReasons_)&&(this.reconnectDelay_=xo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>Jg(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new Z(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){Le("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=KC&&(this.reconnectDelay_=GC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Le("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=KC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Kt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Yg.replace(/\./g,"-")]=1,wo()?n["framework.cordova"]=1:vu()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=xu.getInstance().currentlyOnline();return Io(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),L=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var es=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new L(Xi,e),i=new L(Xi,n);return this.compare(r,i)!==0}minPost(){return L.MIN}};var Tu,Nu=class extends es{static get __EMPTY_NODE(){return Tu}static set __EMPTY_NODE(e){Tu=e}compare(e,n){return os(e.name,n.name)}isDefinedOn(e){throw Nr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return L.MIN}maxPost(){return new L($r,Tu)}makePost(e,n){return m(typeof e=="string","KeyIndex indexValue must always be a string."),new L(e,Tu)}toString(){return".key"}},Ji=new Nu;var Qi=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},xt=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??wt.EMPTY_NODE,this.right=o??wt.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return wt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return wt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),fg=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new xt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},wt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,xt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,xt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Qi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Qi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Qi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Qi(this.root_,null,this.comparator_,!0,e)}};wt.EMPTY_NODE=new fg;function SO(t,e){return os(t.name,e.name)}function tm(t,e){return os(t,e)}var pg;function AO(t){pg=t}var V0=function(t){return typeof t=="number"?"number:"+_0(t):"string:"+t},U0=function(t){if(t.isLeafNode()){let e=t.val();m(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Qt(e,".sv"),"Priority must be a string or number.")}else m(t===pg||t.isEmpty(),"priority of unexpected type.");m(t===pg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var QC,ts=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,m(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),U0(this.priorityNode_)}static set __childrenNodeConstructor(n){QC=n}static get __childrenNodeConstructor(){return QC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return U(n)?this:F(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=F(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(m(i!==".priority"||Xn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ne(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+V0(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=_0(this.value_):n+=this.value_,this.lazyHash_=g0(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(m(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return m(s>=0,"Unknown leaf type: "+r),m(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),j0,B0;function RO(t){j0=t}function xO(t){B0=t}var gg=class extends es{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?os(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return L.MIN}maxPost(){return new L($r,new ts("[PRIORITY-POST]",B0))}makePost(e,n){let r=j0(e);return new L(n,new ts("[PRIORITY-POST]",r))}toString(){return".priority"}},de=new gg;var NO=Math.log(2),mg=class{constructor(e){let n=s=>parseInt(Math.log(s)/NO,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Pu=function(t,e,n,r){t.sort(e);let i=function(c,u){let l=u-c,d,h;if(l===0)return null;if(l===1)return d=t[c],h=n?n(d):d,new xt(h,d.node,xt.BLACK,null,null);{let f=parseInt(l/2,10)+c,g=i(c,f),_=i(f+1,u);return d=t[f],h=n?n(d):d,new xt(h,d.node,xt.BLACK,g,_)}},s=function(c){let u=null,l=null,d=t.length,h=function(g,_){let P=d-g,B=d;d-=g;let Se=i(P+1,B),ue=t[P],qe=n?n(ue):ue;f(new xt(qe,ue.node,_,null,Se))},f=function(g){u?(u.left=g,u=g):(l=g,u=g)};for(let g=0;g<c.count;++g){let _=c.nextBitIsOne(),P=Math.pow(2,c.count-(g+1));_?h(P,xt.BLACK):(h(P,xt.BLACK),h(P,xt.RED))}return l},o=new mg(t.length),a=s(o);return new wt(r||e,a)};var Qp,Ki={},ns=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return m(Ki&&de,"ChildrenNode.ts has not been loaded"),Qp=Qp||new t({".priority":Ki},{".priority":de}),Qp}get(e){let n=Pr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof wt?n:null}hasIndex(e){return Qt(this.indexSet_,e.toString())}addIndex(e,n){m(e!==Ji,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(L.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Pu(r,e.getCompare()):a=Ki;let c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;let l=Object.assign({},this.indexes_);return l[c]=a,new t(l,u)}addToIndexes(e,n){let r=Eo(this.indexes_,(i,s)=>{let o=Pr(this.indexSet_,s);if(m(o,"Missing index implementation for "+s),i===Ki)if(o.isDefinedOn(e.node)){let a=[],c=n.getIterator(L.Wrap),u=c.getNext();for(;u;)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),Pu(a,o.getCompare())}else return Ki;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new L(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Eo(this.indexes_,i=>{if(i===Ki)return i;{let s=n.get(e.name);return s?i.remove(new L(e.name,s)):i}});return new t(r,this.indexSet_)}};var No,x=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&U0(this.priorityNode_),this.children_.isEmpty()&&m(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return No||(No=new t(new wt(tm),null,ns.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||No}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?No:r}}getChild(n){let r=F(n);return r===null?this:this.getImmediateChild(r).getChild(ne(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(m(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new L(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?No:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=F(n);if(i===null)return r;{m(F(n)!==".priority"||Xn(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(ne(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(de,(a,c)=>{r[a]=c.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+V0(this.getPriority().val())+":"),this.forEachChild(de,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":g0(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new L(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new L(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new L(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,L.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,L.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===zo?-1:0}withIndex(n){if(n===Ji||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Ji||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(de),s=r.getIterator(de),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Ji?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),yg=class extends x{constructor(){super(new wt(tm),x.EMPTY_NODE,ns.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return x.EMPTY_NODE}isEmpty(){return!1}},zo=new yg;Object.defineProperties(L,{MIN:{value:new L(Xi,x.EMPTY_NODE)},MAX:{value:new L($r,zo)}});Nu.__EMPTY_NODE=x.EMPTY_NODE;ts.__childrenNodeConstructor=x;AO(zo);xO(zo);var PO=!0;function xe(t,e=null){if(t===null)return x.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),m(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new ts(n,xe(e))}if(!(t instanceof Array)&&PO){let n=[],r=!1;if(et(t,(o,a)=>{if(o.substring(0,1)!=="."){let c=xe(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new L(o,c)))}}),n.length===0)return x.EMPTY_NODE;let s=Pu(n,SO,o=>o.name,tm);if(r){let o=Pu(n,de.getCompare());return new x(s,xe(e),new ns({".priority":o},{".priority":de}))}else return new x(s,xe(e),ns.Default)}else{let n=x.EMPTY_NODE;return et(t,(r,i)=>{if(Qt(t,r)&&r.substring(0,1)!=="."){let s=xe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(xe(e))}}RO(xe);var _g=class extends es{constructor(e){super(),this.indexPath_=e,m(!U(e)&&F(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?os(e.name,n.name):s}makePost(e,n){let r=xe(e),i=x.EMPTY_NODE.updateChild(this.indexPath_,r);return new L(n,i)}maxPost(){let e=x.EMPTY_NODE.updateChild(this.indexPath_,zo);return new L($r,e)}toString(){return O0(this.indexPath_,0).join("/")}};var vg=class extends es{compare(e,n){let r=e.node.compareTo(n.node);return r===0?os(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return L.MIN}maxPost(){return L.MAX}makePost(e,n){let r=xe(e);return new L(n,r)}toString(){return".value"}},MO=new vg;function $0(t){return{type:"value",snapshotNode:t}}function rs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Vo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Uo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function kO(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var jo=class{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){m(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Vo(n,a)):m(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(rs(n,r)):o.trackChildChange(Uo(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(de,(i,s)=>{n.hasChild(i)||r.trackChildChange(Vo(i,s))}),n.isLeafNode()||n.forEachChild(de,(i,s)=>{if(e.hasChild(i)){let o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Uo(i,s,o))}else r.trackChildChange(rs(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?x.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Mu=class t{constructor(e){this.indexedFilter_=new jo(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new L(n,r))||(r=x.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=x.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(x.EMPTY_NODE);let s=this;return n.forEachChild(de,(o,a)=>{s.matches(new L(o,a))||(i=i.updateImmediateChild(o,x.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var wg=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Mu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new L(n,r))||(r=x.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=x.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=x.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(x.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,x.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){let d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();let a=e;m(a.numChildren()===this.limit_,"");let c=new L(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),l=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:o(h,c);if(l&&!r.isEmpty()&&f>=0)return s?.trackChildChange(Uo(n,r,d)),a.updateImmediateChild(n,r);{s?.trackChildChange(Vo(n,d));let _=a.updateImmediateChild(n,x.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s?.trackChildChange(rs(h.name,h.node)),_.updateImmediateChild(h.name,h.node)):_}}else return r.isEmpty()?e:l&&o(u,c)>=0?(s!=null&&(s.trackChildChange(Vo(u.name,u.node)),s.trackChildChange(rs(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,x.EMPTY_NODE)):e}};var Ig=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=de}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return m(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return m(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xi}hasEnd(){return this.endSet_}getIndexEndValue(){return m(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return m(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$r}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return m(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===de}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function OO(t){return t.loadsAllData()?new jo(t.getIndex()):t.hasLimit()?new wg(t):new Mu(t)}function YC(t){let e={};if(t.isDefault())return e;let n;if(t.index_===de?n="$priority":t.index_===MO?n="$value":t.index_===Ji?n="$key":(m(t.index_ instanceof _g,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=_e(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=_e(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+_e(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=_e(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+_e(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function JC(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==de&&(e.i=t.index_.toString()),e}var Eg=class t extends Au{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=qo("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(m(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let c=YC(e._queryParams);this.restRequest_(s+".json",c,(u,l)=>{let d=l;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Pr(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=YC(e._queryParams),r=e._path.toString(),i=new Qn;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+kr(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Gi(a.responseText)}catch{Xe("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Xe("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var Cg=class{constructor(){this.rootNode_=x.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function ku(){return{value:null,children:new Map}}function H0(t,e,n){if(U(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=F(e);t.children.has(r)||t.children.set(r,ku());let i=t.children.get(r);e=ne(e),H0(i,e,n)}}function Tg(t,e,n){t.value!==null?n(e,t.value):FO(t,(r,i)=>{let s=new Z(e.toString()+"/"+r);Tg(i,s,n)})}function FO(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Dg=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&et(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var ZC=10*1e3,LO=30*1e3,VO=5*60*1e3,bg=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Dg(e);let r=ZC+(LO-ZC)*Math.random();Mo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;et(e,(i,s)=>{s>0&&Qt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Mo(this.reportStats_.bind(this),Math.floor(Math.random()*2*VO))}};var en=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(en||{});function q0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function nm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function rm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Sg=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=en.ACK_USER_WRITE,this.source=q0()}operationForChild(e){if(U(this.path)){if(this.affectedTree.value!=null)return m(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Z(e));return new t(Q(),n,this.revert)}}else return m(F(this.path)===e,"operationForChild called for unrelated child."),new t(ne(this.path),this.affectedTree,this.revert)}};var Ou=class t{constructor(e,n){this.source=e,this.path=n,this.type=en.LISTEN_COMPLETE}operationForChild(e){return U(this.path)?new t(this.source,Q()):new t(this.source,ne(this.path))}};var is=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=en.OVERWRITE}operationForChild(e){return U(this.path)?new t(this.source,Q(),this.snap.getImmediateChild(e)):new t(this.source,ne(this.path),this.snap)}};var Fu=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=en.MERGE}operationForChild(e){if(U(this.path)){let n=this.children.subtree(new Z(e));return n.isEmpty()?null:n.value?new is(this.source,Q(),n.value):new t(this.source,Q(),n)}else return m(F(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ne(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var In=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(U(e))return this.isFullyInitialized()&&!this.filtered_;let n=F(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var Ag=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function UO(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(kO(o.childName,o.snapshotNode))}),Po(t,i,"child_removed",e,r,n),Po(t,i,"child_added",e,r,n),Po(t,i,"child_moved",s,r,n),Po(t,i,"child_changed",e,r,n),Po(t,i,"value",e,r,n),i}function Po(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,c)=>BO(t,a,c)),o.forEach(a=>{let c=jO(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(c,t.query_))})})}function jO(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function BO(t,e,n){if(e.childName==null||n.childName==null)throw Nr("Should only compare child_ events.");let r=new L(e.childName,e.snapshotNode),i=new L(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Ku(t,e){return{eventCache:t,serverCache:e}}function Oo(t,e,n,r){return Ku(new In(e,n,r),t.serverCache)}function z0(t,e,n,r){return Ku(t.eventCache,new In(e,n,r))}function Rg(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Hr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Yp,$O=()=>(Yp||(Yp=new wt(Hk)),Yp),tt=class t{constructor(e,n=$O()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return et(e,(r,i)=>{n=n.set(new Z(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Q(),value:this.value};if(U(e))return null;{let r=F(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(ne(e),n);return s!=null?{path:ve(new Z(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(U(e))return this;{let n=F(e),r=this.children.get(n);return r!==null?r.subtree(ne(e)):new t(null)}}set(e,n){if(U(e))return new t(n,this.children);{let r=F(e),s=(this.children.get(r)||new t(null)).set(ne(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(U(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=F(e),r=this.children.get(n);if(r){let i=r.remove(ne(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(U(e))return this.value;{let n=F(e),r=this.children.get(n);return r?r.get(ne(e)):null}}setTree(e,n){if(U(e))return n;{let r=F(e),s=(this.children.get(r)||new t(null)).setTree(ne(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(Q(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ve(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Q(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(U(e))return null;{let s=F(e),o=this.children.get(s);return o?o.findOnPath_(ne(e),ve(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Q(),n)}foreachOnPath_(e,n,r){if(U(e))return this;{this.value&&r(n,this.value);let i=F(e),s=this.children.get(i);return s?s.foreachOnPath_(ne(e),ve(n,i),r):new t(null)}}foreach(e){this.foreach_(Q(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ve(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Pt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new tt(null))}};function Fo(t,e,n){if(U(e))return new Pt(new tt(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=Ze(i,e);return s=s.updateChild(o,n),new Pt(t.writeTree_.set(i,s))}else{let i=new tt(n),s=t.writeTree_.setTree(e,i);return new Pt(s)}}}function XC(t,e,n){let r=t;return et(n,(i,s)=>{r=Fo(r,ve(e,i),s)}),r}function e0(t,e){if(U(e))return Pt.empty();{let n=t.writeTree_.setTree(e,new tt(null));return new Pt(n)}}function xg(t,e){return qr(t,e)!=null}function qr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ze(n.path,e)):null}function t0(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(de,(r,i)=>{e.push(new L(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new L(r,i.value))}),e}function Zn(t,e){if(U(e))return t;{let n=qr(t,e);return n!=null?new Pt(new tt(n)):new Pt(t.writeTree_.subtree(e))}}function Ng(t){return t.writeTree_.isEmpty()}function ss(t,e){return W0(Q(),t.writeTree_,e)}function W0(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(m(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=W0(ve(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ve(t,".priority"),r)),n}}function im(t,e){return Y0(e,t)}function HO(t,e,n,r,i){m(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Fo(t.visibleWrites,e,n)),t.lastWriteId=r}function qO(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function zO(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);m(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&WO(a,r.path)?i=!1:Nt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return GO(t),!0;if(r.snap)t.visibleWrites=e0(t.visibleWrites,r.path);else{let a=r.children;et(a,c=>{t.visibleWrites=e0(t.visibleWrites,ve(r.path,c))})}return!0}else return!1}function WO(t,e){if(t.snap)return Nt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Nt(ve(t.path,n),e))return!0;return!1}function GO(t){t.visibleWrites=G0(t.allWrites,KO,Q()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function KO(t){return t.visible}function G0(t,e,n){let r=Pt.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)Nt(n,o)?(a=Ze(n,o),r=Fo(r,a,s.snap)):Nt(o,n)&&(a=Ze(o,n),r=Fo(r,Q(),s.snap.getChild(a)));else if(s.children){if(Nt(n,o))a=Ze(n,o),r=XC(r,a,s.children);else if(Nt(o,n))if(a=Ze(o,n),U(a))r=XC(r,Q(),s.children);else{let c=Pr(s.children,F(a));if(c){let u=c.getChild(ne(a));r=Fo(r,Q(),u)}}}else throw Nr("WriteRecord should have .snap or .children")}}return r}function K0(t,e,n,r,i){if(!r&&!i){let s=qr(t.visibleWrites,e);if(s!=null)return s;{let o=Zn(t.visibleWrites,e);if(Ng(o))return n;if(n==null&&!xg(o,Q()))return null;{let a=n||x.EMPTY_NODE;return ss(o,a)}}}else{let s=Zn(t.visibleWrites,e);if(!i&&Ng(s))return n;if(!i&&n==null&&!xg(s,Q()))return null;{let o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Nt(u.path,e)||Nt(e,u.path))},a=G0(t.allWrites,o,e),c=n||x.EMPTY_NODE;return ss(a,c)}}}function QO(t,e,n){let r=x.EMPTY_NODE,i=qr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(de,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=Zn(t.visibleWrites,e);return n.forEachChild(de,(o,a)=>{let c=ss(Zn(s,new Z(o)),a);r=r.updateImmediateChild(o,c)}),t0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=Zn(t.visibleWrites,e);return t0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function YO(t,e,n,r,i){m(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=ve(e,n);if(xg(t.visibleWrites,s))return null;{let o=Zn(t.visibleWrites,s);return Ng(o)?i.getChild(n):ss(o,i.getChild(n))}}function JO(t,e,n,r){let i=ve(e,n),s=qr(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=Zn(t.visibleWrites,i);return ss(o,r.getNode().getImmediateChild(n))}else return null}function ZO(t,e){return qr(t.visibleWrites,e)}function XO(t,e,n,r,i,s,o){let a,c=Zn(t.visibleWrites,e),u=qr(c,Q());if(u!=null)a=u;else if(n!=null)a=ss(c,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let l=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),f=h.getNext();for(;f&&l.length<i;)d(f,r)!==0&&l.push(f),f=h.getNext();return l}else return[]}function eF(){return{visibleWrites:Pt.empty(),allWrites:[],lastWriteId:-1}}function Lu(t,e,n,r){return K0(t.writeTree,t.treePath,e,n,r)}function sm(t,e){return QO(t.writeTree,t.treePath,e)}function n0(t,e,n,r){return YO(t.writeTree,t.treePath,e,n,r)}function Vu(t,e){return ZO(t.writeTree,ve(t.treePath,e))}function tF(t,e,n,r,i,s){return XO(t.writeTree,t.treePath,e,n,r,i,s)}function om(t,e,n){return JO(t.writeTree,t.treePath,e,n)}function Q0(t,e){return Y0(ve(t.treePath,e),t.writeTree)}function Y0(t,e){return{treePath:t,writeTree:e}}var Pg=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;m(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),m(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Uo(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Vo(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,rs(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Uo(r,e.snapshotNode,i.oldSnap));else throw Nr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var Mg=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},J0=new Mg,Bo=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new In(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return om(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Hr(this.viewCache_),s=tF(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function nF(t){return{filter:t}}function rF(t,e){m(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),m(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function iF(t,e,n,r,i){let s=new Pg,o,a;if(n.type===en.OVERWRITE){let u=n;u.source.fromUser?o=kg(t,e,u.path,u.snap,r,i,s):(m(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!U(u.path),o=Uu(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===en.MERGE){let u=n;u.source.fromUser?o=oF(t,e,u.path,u.children,r,i,s):(m(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=Og(t,e,u.path,u.children,r,i,a,s))}else if(n.type===en.ACK_USER_WRITE){let u=n;u.revert?o=uF(t,e,u.path,r,i,s):o=aF(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===en.LISTEN_COMPLETE)o=cF(t,e,n.path,r,s);else throw Nr("Unknown operation type: "+n.type);let c=s.getChanges();return sF(e,o,c),{viewCache:o,changes:c}}function sF(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Rg(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push($0(Rg(e)))}}function Z0(t,e,n,r,i,s){let o=e.eventCache;if(Vu(r,n)!=null)return e;{let a,c;if(U(n))if(m(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let u=Hr(e),l=u instanceof x?u:x.EMPTY_NODE,d=sm(r,l);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let u=Lu(r,Hr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{let u=F(n);if(u===".priority"){m(Xn(n)===1,"Can't have a priority with additional path components");let l=o.getNode();c=e.serverCache.getNode();let d=n0(r,n,l,c);d!=null?a=t.filter.updatePriority(l,d):a=o.getNode()}else{let l=ne(n),d;if(o.isCompleteForChild(u)){c=e.serverCache.getNode();let h=n0(r,n,o.getNode(),c);h!=null?d=o.getNode().getImmediateChild(u).updateChild(l,h):d=o.getNode().getImmediateChild(u)}else d=om(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,l,i,s):a=o.getNode()}}return Oo(e,a,o.isFullyInitialized()||U(n),t.filter.filtersNodes())}}function Uu(t,e,n,r,i,s,o,a){let c=e.serverCache,u,l=o?t.filter:t.filter.getIndexedFilter();if(U(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){let f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{let f=F(n);if(!c.isCompleteForPath(n)&&Xn(n)>1)return e;let g=ne(n),P=c.getNode().getImmediateChild(f).updateChild(g,r);f===".priority"?u=l.updatePriority(c.getNode(),P):u=l.updateChild(c.getNode(),f,P,g,J0,null)}let d=z0(e,u,c.isFullyInitialized()||U(n),l.filtersNodes()),h=new Bo(i,d,s);return Z0(t,d,n,i,h,a)}function kg(t,e,n,r,i,s,o){let a=e.eventCache,c,u,l=new Bo(i,e,s);if(U(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=Oo(e,u,!0,t.filter.filtersNodes());else{let d=F(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),c=Oo(e,u,a.isFullyInitialized(),a.isFiltered());else{let h=ne(n),f=a.getNode().getImmediateChild(d),g;if(U(h))g=r;else{let _=l.getCompleteChild(d);_!=null?k0(h)===".priority"&&_.getChild(F0(h)).isEmpty()?g=_:g=_.updateChild(h,r):g=x.EMPTY_NODE}if(f.equals(g))c=e;else{let _=t.filter.updateChild(a.getNode(),d,g,h,l,o);c=Oo(e,_,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function r0(t,e){return t.eventCache.isCompleteForChild(e)}function oF(t,e,n,r,i,s,o){let a=e;return r.foreach((c,u)=>{let l=ve(n,c);r0(e,F(l))&&(a=kg(t,a,l,u,i,s,o))}),r.foreach((c,u)=>{let l=ve(n,c);r0(e,F(l))||(a=kg(t,a,l,u,i,s,o))}),a}function i0(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Og(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;U(n)?u=r:u=new tt(null).setTree(n,r);let l=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(l.hasChild(d)){let f=e.serverCache.getNode().getImmediateChild(d),g=i0(t,f,h);c=Uu(t,c,new Z(d),g,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{let f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!l.hasChild(d)&&!f){let g=e.serverCache.getNode().getImmediateChild(d),_=i0(t,g,h);c=Uu(t,c,new Z(d),_,i,s,o,a)}}),c}function aF(t,e,n,r,i,s,o){if(Vu(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(U(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Uu(t,e,n,c.getNode().getChild(n),i,s,a,o);if(U(n)){let u=new tt(null);return c.getNode().forEachChild(Ji,(l,d)=>{u=u.set(new Z(l),d)}),Og(t,e,n,u,i,s,a,o)}else return e}else{let u=new tt(null);return r.foreach((l,d)=>{let h=ve(n,l);c.isCompleteForPath(h)&&(u=u.set(l,c.getNode().getChild(h)))}),Og(t,e,n,u,i,s,a,o)}}function cF(t,e,n,r,i){let s=e.serverCache,o=z0(e,s.getNode(),s.isFullyInitialized()||U(n),s.isFiltered());return Z0(t,o,n,r,J0,i)}function uF(t,e,n,r,i,s){let o;if(Vu(r,n)!=null)return e;{let a=new Bo(r,e,i),c=e.eventCache.getNode(),u;if(U(n)||F(n)===".priority"){let l;if(e.serverCache.isFullyInitialized())l=Lu(r,Hr(e));else{let d=e.serverCache.getNode();m(d instanceof x,"serverChildren would be complete if leaf node"),l=sm(r,d)}l=l,u=t.filter.updateFullNode(c,l,s)}else{let l=F(n),d=om(r,l,e.serverCache);d==null&&e.serverCache.isCompleteForChild(l)&&(d=c.getImmediateChild(l)),d!=null?u=t.filter.updateChild(c,l,d,ne(n),a,s):e.eventCache.getNode().hasChild(l)?u=t.filter.updateChild(c,l,x.EMPTY_NODE,ne(n),a,s):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Lu(r,Hr(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Vu(r,Q())!=null,Oo(e,u,o,t.filter.filtersNodes())}}var Fg=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new jo(r.getIndex()),s=OO(r);this.processor_=nF(s);let o=n.serverCache,a=n.eventCache,c=i.updateFullNode(x.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(x.EMPTY_NODE,a.getNode(),null),l=new In(c,o.isFullyInitialized(),i.filtersNodes()),d=new In(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Ku(d,l),this.eventGenerator_=new Ag(this.query_)}get query(){return this.query_}};function lF(t){return t.viewCache_.serverCache.getNode()}function dF(t,e){let n=Hr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!U(e)&&!n.getImmediateChild(F(e)).isEmpty())?n.getChild(e):null}function s0(t){return t.eventRegistrations_.length===0}function hF(t,e){t.eventRegistrations_.push(e)}function o0(t,e,n){let r=[];if(n){m(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){let o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function a0(t,e,n,r){e.type===en.MERGE&&e.source.queryId!==null&&(m(Hr(t.viewCache_),"We should always have a full cache before handling merges"),m(Rg(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=iF(t.processor_,i,e,n,r);return rF(t.processor_,s.viewCache),m(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,X0(t,s.changes,s.viewCache.eventCache.getNode(),null)}function fF(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(de,(s,o)=>{r.push(rs(s,o))}),n.isFullyInitialized()&&r.push($0(n.getNode())),X0(t,r,n.getNode(),e)}function X0(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return UO(t.eventGenerator_,e,n,i)}var ju,Lg=class{constructor(){this.views=new Map}};function pF(t){m(!ju,"__referenceConstructor has already been defined"),ju=t}function gF(){return m(ju,"Reference.ts has not been loaded"),ju}function mF(t){return t.views.size===0}function am(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return m(s!=null,"SyncTree gave us an op for an invalid query."),a0(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(a0(o,e,n,r));return s}}function yF(t,e,n,r,i){let s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Lu(n,i?r:null),c=!1;a?c=!0:r instanceof x?(a=sm(n,r),c=!1):(a=x.EMPTY_NODE,c=!1);let u=Ku(new In(a,c,!1),new In(r,i,!1));return new Fg(e,u)}return o}function _F(t,e,n,r,i,s){let o=yF(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),hF(o,n),fF(o,n)}function vF(t,e,n,r){let i=e._queryIdentifier,s=[],o=[],a=er(t);if(i==="default")for(let[c,u]of t.views.entries())o=o.concat(o0(u,n,r)),s0(u)&&(t.views.delete(c),u.query._queryParams.loadsAllData()||s.push(u.query));else{let c=t.views.get(i);c&&(o=o.concat(o0(c,n,r)),s0(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||s.push(c.query)))}return a&&!er(t)&&s.push(new(gF())(e._repo,e._path)),{removed:s,events:o}}function eT(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Zi(t,e){let n=null;for(let r of t.views.values())n=n||dF(r,e);return n}function tT(t,e){if(e._queryParams.loadsAllData())return Qu(t);{let r=e._queryIdentifier;return t.views.get(r)}}function nT(t,e){return tT(t,e)!=null}function er(t){return Qu(t)!=null}function Qu(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Bu;function wF(t){m(!Bu,"__referenceConstructor has already been defined"),Bu=t}function IF(){return m(Bu,"Reference.ts has not been loaded"),Bu}var EF=1,$u=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new tt(null),this.pendingWriteTree_=eF(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function rT(t,e,n,r,i){return HO(t.pendingWriteTree_,e,n,r,i),i?Wo(t,new is(q0(),e,n)):[]}function jr(t,e,n=!1){let r=qO(t.pendingWriteTree_,e);if(zO(t.pendingWriteTree_,e)){let s=new tt(null);return r.snap!=null?s=s.set(Q(),!0):et(r.children,o=>{s=s.set(new Z(o),!0)}),Wo(t,new Sg(r.path,s,n))}else return[]}function Yu(t,e,n){return Wo(t,new is(nm(),e,n))}function CF(t,e,n){let r=tt.fromObject(n);return Wo(t,new Fu(nm(),e,r))}function TF(t,e){return Wo(t,new Ou(nm(),e))}function DF(t,e,n){let r=um(t,n);if(r){let i=lm(r),s=i.path,o=i.queryId,a=Ze(s,e),c=new Ou(rm(o),a);return dm(t,s,c)}else return[]}function Vg(t,e,n,r,i=!1){let s=e._path,o=t.syncPointTree_.get(s),a=[];if(o&&(e._queryIdentifier==="default"||nT(o,e))){let c=vF(o,e,n,r);mF(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));let u=c.removed;if(a=c.events,!i){let l=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,f)=>er(f));if(l&&!d){let h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){let f=AF(h);for(let g=0;g<f.length;++g){let _=f[g],P=_.query,B=oT(t,_);t.listenProvider_.startListening(Lo(P),Hu(t,P),B.hashFn,B.onComplete)}}}!d&&u.length>0&&!r&&(l?t.listenProvider_.stopListening(Lo(e),null):u.forEach(h=>{let f=t.queryToTagMap.get(Ju(h));t.listenProvider_.stopListening(Lo(h),f)}))}RF(t,u)}return a}function bF(t,e,n,r){let i=um(t,r);if(i!=null){let s=lm(i),o=s.path,a=s.queryId,c=Ze(o,e),u=new is(rm(a),c,n);return dm(t,o,u)}else return[]}function SF(t,e,n,r){let i=um(t,r);if(i){let s=lm(i),o=s.path,a=s.queryId,c=Ze(o,e),u=tt.fromObject(n),l=new Fu(rm(a),c,u);return dm(t,o,l)}else return[]}function c0(t,e,n,r=!1){let i=e._path,s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{let g=Ze(h,i);s=s||Zi(f,g),o=o||er(f)});let a=t.syncPointTree_.get(i);a?(o=o||er(a),s=s||Zi(a,Q())):(a=new Lg,t.syncPointTree_=t.syncPointTree_.set(i,a));let c;s!=null?c=!0:(c=!1,s=x.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,g)=>{let _=Zi(g,Q());_&&(s=s.updateImmediateChild(f,_))}));let u=nT(a,e);if(!u&&!e._queryParams.loadsAllData()){let h=Ju(e);m(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=xF();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}let l=im(t.pendingWriteTree_,i),d=_F(a,e,n,l,s,c);if(!u&&!o&&!r){let h=tT(a,e);d=d.concat(NF(t,e,h))}return d}function cm(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let c=Ze(o,e),u=Zi(a,c);if(u)return u});return K0(i,e,s,n,!0)}function Wo(t,e){return iT(e,t.syncPointTree_,null,im(t.pendingWriteTree_,Q()))}function iT(t,e,n,r){if(U(t.path))return sT(t,e,n,r);{let i=e.get(Q());n==null&&i!=null&&(n=Zi(i,Q()));let s=[],o=F(t.path),a=t.operationForChild(o),c=e.children.get(o);if(c&&a){let u=n?n.getImmediateChild(o):null,l=Q0(r,o);s=s.concat(iT(a,c,u,l))}return i&&(s=s.concat(am(i,t,r,n))),s}}function sT(t,e,n,r){let i=e.get(Q());n==null&&i!=null&&(n=Zi(i,Q()));let s=[];return e.children.inorderTraversal((o,a)=>{let c=n?n.getImmediateChild(o):null,u=Q0(r,o),l=t.operationForChild(o);l&&(s=s.concat(sT(l,a,c,u)))}),i&&(s=s.concat(am(i,t,r,n))),s}function oT(t,e){let n=e.query,r=Hu(t,n);return{hashFn:()=>(lF(e)||x.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?DF(t,n._path,r):TF(t,n._path);{let s=Wk(i,n);return Vg(t,n,null,s)}}}}function Hu(t,e){let n=Ju(e);return t.queryToTagMap.get(n)}function Ju(t){return t._path.toString()+"$"+t._queryIdentifier}function um(t,e){return t.tagToQueryMap.get(e)}function lm(t){let e=t.indexOf("$");return m(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Z(t.substr(0,e))}}function dm(t,e,n){let r=t.syncPointTree_.get(e);m(r,"Missing sync point for query tag that we're tracking");let i=im(t.pendingWriteTree_,e);return am(r,n,i,null)}function AF(t){return t.fold((e,n,r)=>{if(n&&er(n))return[Qu(n)];{let i=[];return n&&(i=eT(n)),et(r,(s,o)=>{i=i.concat(o)}),i}})}function Lo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(IF())(t._repo,t._path):t}function RF(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=Ju(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function xF(){return EF++}function NF(t,e,n){let r=e._path,i=Hu(t,e),s=oT(t,n),o=t.listenProvider_.startListening(Lo(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)m(!er(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((u,l,d)=>{if(!U(u)&&l&&er(l))return[Qu(l).query];{let h=[];return l&&(h=h.concat(eT(l).map(f=>f.query))),et(d,(f,g)=>{h=h.concat(g)}),h}});for(let u=0;u<c.length;++u){let l=c[u];t.listenProvider_.stopListening(Lo(l),Hu(t,l))}}return o}var Ug=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},jg=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=ve(this.path_,e);return new t(this.syncTree_,n)}node(){return cm(this.syncTree_,this.path_)}},PF=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},u0=function(t,e,n){if(!t||typeof t!="object")return t;if(m(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return MF(t[".sv"],e,n);if(typeof t[".sv"]=="object")return kF(t[".sv"],e);m(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},MF=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:m(!1,"Unexpected server value: "+t)}},kF=function(t,e,n){t.hasOwnProperty("increment")||m(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&m(!1,"Unexpected increment value: "+r);let i=e.node();if(m(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},OF=function(t,e,n,r){return hm(e,new jg(n,t),r)},aT=function(t,e,n){return hm(t,new Ug(e),n)};function hm(t,e,n){let r=t.getPriority().val(),i=u0(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=u0(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new ts(a,xe(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ts(i))),o.forEachChild(de,(a,c)=>{let u=hm(c,e.getImmediateChild(a),n);u!==c&&(s=s.updateImmediateChild(a,u))}),s}}var $o=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function fm(t,e){let n=e instanceof Z?e:new Z(e),r=t,i=F(n);for(;i!==null;){let s=Pr(r.node.children,i)||{children:{},childCount:0};r=new $o(i,r,s),n=ne(n),i=F(n)}return r}function cs(t){return t.node.value}function cT(t,e){t.node.value=e,Bg(t)}function uT(t){return t.node.childCount>0}function FF(t){return cs(t)===void 0&&!uT(t)}function Zu(t,e){et(t.node.children,(n,r)=>{e(new $o(n,t,r))})}function lT(t,e,n,r){n&&!r&&e(t),Zu(t,i=>{lT(i,e,!0,r)}),n&&r&&e(t)}function LF(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Go(t){return new Z(t.parent===null?t.name:Go(t.parent)+"/"+t.name)}function Bg(t){t.parent!==null&&VF(t.parent,t.name,t)}function VF(t,e,n){let r=FF(n),i=Qt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Bg(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Bg(t))}var UF=/[\[\].#$\/\u0000-\u001F\u007F]/,jF=/[\[\].#$\u0000-\u001F\u007F]/,Jp=10*1024*1024,dT=function(t){return typeof t=="string"&&t.length!==0&&!UF.test(t)},hT=function(t){return typeof t=="string"&&t.length!==0&&!jF.test(t)},BF=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),hT(t)};var $F=function(t,e,n,r){r&&e===void 0||pm(wu(t,"value"),e,n)},pm=function(t,e,n){let r=n instanceof Z?new dg(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Vr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Vr(r)+" with contents = "+e.toString());if(m0(e))throw new Error(t+"contains "+e.toString()+" "+Vr(r));if(typeof e=="string"&&e.length>Jp/3&&Co(e)>Jp)throw new Error(t+"contains a string greater than "+Jp+" utf8 bytes "+Vr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(et(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!dT(o)))throw new Error(t+" contains an invalid key ("+o+") "+Vr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);IO(r,o),pm(t,a,r),EO(r)}),i&&s)throw new Error(t+' contains ".value" child '+Vr(r)+" in addition to actual children.")}};var fT=function(t,e,n,r){if(!(r&&n===void 0)&&!hT(n))throw new Error(wu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},HF=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),fT(t,e,n,r)},qF=function(t,e){if(F(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},zF=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!dT(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!BF(n))throw new Error(wu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var $g=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function gm(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!Xg(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function pT(t,e,n){gm(t,n),gT(t,r=>Xg(r,e))}function En(t,e,n){gm(t,n),gT(t,r=>Nt(r,e)||Nt(e,r))}function gT(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(WF(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function WF(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Br&&Le("event: "+n.toString()),as(r)}}}var GF="repo_interrupt",KF=25,Hg=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $g,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ku(),this.transactionQueueTree_=new $o,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function QF(t,e,n){if(t.stats_=Zg(t.repoInfo_),t.forceRestClient_||Yk())t.server_=new Eg(t.repoInfo_,(r,i,s,o)=>{l0(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>d0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_e(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new em(t.repoInfo_,e,(r,i,s,o)=>{l0(t,r,i,s,o)},r=>{d0(t,r)},r=>{JF(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Zk(t.repoInfo_,()=>new bg(t.stats_,t.server_)),t.infoData_=new Cg,t.infoSyncTree_=new $u({startListening:(r,i,s,o)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=Yu(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),ym(t,"connected",!1),t.serverSyncTree_=new $u({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,c)=>{let u=o(a,c);En(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function YF(t){let n=t.infoData_.getNode(new Z(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function mm(t){return PF({timestamp:YF(t)})}function l0(t,e,n,r,i){t.dataUpdateCount++;let s=new Z(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let c=Eo(n,u=>xe(u));o=SF(t.serverSyncTree_,s,c,i)}else{let c=xe(n);o=bF(t.serverSyncTree_,s,c,i)}else if(r){let c=Eo(n,u=>xe(u));o=CF(t.serverSyncTree_,s,c)}else{let c=xe(n);o=Yu(t.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=Xu(t,s)),En(t.eventQueue_,a,o)}function d0(t,e){ym(t,"connected",e),e===!1&&XF(t)}function JF(t,e){et(e,(n,r)=>{ym(t,n,r)})}function ym(t,e,n){let r=new Z("/.info/"+e),i=xe(n);t.infoData_.updateSnapshot(r,i);let s=Yu(t.infoSyncTree_,r,i);En(t.eventQueue_,r,s)}function mT(t){return t.nextWriteId_++}function ZF(t,e,n,r,i){_m(t,"set",{path:e.toString(),value:n,priority:r});let s=mm(t),o=xe(n,r),a=cm(t.serverSyncTree_,e),c=aT(o,a,s),u=mT(t),l=rT(t.serverSyncTree_,e,c,u,!0);gm(t.eventQueue_,l),t.server_.put(e.toString(),o.val(!0),(h,f)=>{let g=h==="ok";g||Xe("set at "+e+" failed: "+h);let _=jr(t.serverSyncTree_,u,!g);En(t.eventQueue_,e,_),nL(t,i,h,f)});let d=IT(t,e);Xu(t,d),En(t.eventQueue_,d,[])}function XF(t){_m(t,"onDisconnectEvents");let e=mm(t),n=ku();Tg(t.onDisconnect_,Q(),(i,s)=>{let o=OF(i,s,t.serverSyncTree_,e);H0(n,i,o)});let r=[];Tg(n,Q(),(i,s)=>{r=r.concat(Yu(t.serverSyncTree_,i,s));let o=IT(t,i);Xu(t,o)}),t.onDisconnect_=ku(),En(t.eventQueue_,Q(),r)}function eL(t,e,n){let r;F(e._path)===".info"?r=c0(t.infoSyncTree_,e,n):r=c0(t.serverSyncTree_,e,n),pT(t.eventQueue_,e._path,r)}function h0(t,e,n){let r;F(e._path)===".info"?r=Vg(t.infoSyncTree_,e,n):r=Vg(t.serverSyncTree_,e,n),pT(t.eventQueue_,e._path,r)}function tL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(GF)}function _m(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Le(n,...e)}function nL(t,e,n,r){e&&as(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,e(o)}})}function yT(t,e,n){return cm(t.serverSyncTree_,e,n)||x.EMPTY_NODE}function vm(t,e=t.transactionQueueTree_){if(e||el(t,e),cs(e)){let n=vT(t,e);m(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&rL(t,Go(e),n)}else uT(e)&&Zu(e,n=>{vm(t,n)})}function rL(t,e,n){let r=n.map(u=>u.currentWriteId),i=yT(t,e,r),s=i,o=i.hash();for(let u=0;u<n.length;u++){let l=n[u];m(l.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;let d=Ze(e,l.path);s=s.updateChild(d,l.currentOutputSnapshotRaw)}let a=s.val(!0),c=e;t.server_.put(c.toString(),a,u=>{_m(t,"transaction put response",{path:c.toString(),status:u});let l=[];if(u==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,l=l.concat(jr(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();el(t,fm(t.transactionQueueTree_,e)),vm(t,t.transactionQueueTree_),En(t.eventQueue_,e,l);for(let h=0;h<d.length;h++)as(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Xe("transaction at "+c.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Xu(t,e)}},o)}function Xu(t,e){let n=_T(t,e),r=Go(n),i=vT(t,n);return iL(t,i,r),r}function iL(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],u=Ze(n,c.path),l=!1,d;if(m(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)l=!0,d=c.abortReason,i=i.concat(jr(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=KF)l=!0,d="maxretry",i=i.concat(jr(t.serverSyncTree_,c.currentWriteId,!0));else{let h=yT(t,c.path,o);c.currentInputSnapshot=h;let f=e[a].update(h.val());if(f!==void 0){pm("transaction failed: Data returned ",f,c.path);let g=xe(f);typeof f=="object"&&f!=null&&Qt(f,".priority")||(g=g.updatePriority(h.getPriority()));let P=c.currentWriteId,B=mm(t),Se=aT(g,h,B);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=Se,c.currentWriteId=mT(t),o.splice(o.indexOf(P),1),i=i.concat(rT(t.serverSyncTree_,c.path,Se,c.currentWriteId,c.applyLocally)),i=i.concat(jr(t.serverSyncTree_,P,!0))}else l=!0,d="nodata",i=i.concat(jr(t.serverSyncTree_,c.currentWriteId,!0))}En(t.eventQueue_,n,i),i=[],l&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}el(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)as(r[a]);vm(t,t.transactionQueueTree_)}function _T(t,e){let n,r=t.transactionQueueTree_;for(n=F(e);n!==null&&cs(r)===void 0;)r=fm(r,n),e=ne(e),n=F(e);return r}function vT(t,e){let n=[];return wT(t,e,n),n.sort((r,i)=>r.order-i.order),n}function wT(t,e,n){let r=cs(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Zu(e,i=>{wT(t,i,n)})}function el(t,e){let n=cs(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,cT(e,n.length>0?n:void 0)}Zu(e,r=>{el(t,r)})}function IT(t,e){let n=Go(_T(t,e)),r=fm(t.transactionQueueTree_,e);return LF(r,i=>{Zp(t,i)}),Zp(t,r),lT(r,i=>{Zp(t,i)}),n}function Zp(t,e){let n=cs(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(m(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(m(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(jr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?cT(e,void 0):n.length=s+1,En(t.eventQueue_,Go(e),i);for(let o=0;o<r.length;o++)as(r[o])}}function sL(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function oL(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Xe(`Invalid query segment '${n}' in query '${t}'`)}return e}var f0=function(t,e){let n=aL(t),r=n.namespace;n.domain==="firebase.com"&&wn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&wn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Bk();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new bu(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Z(n.pathString)}},aL=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let l=t.indexOf("/");l===-1&&(l=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(l,d)),l<d&&(i=sL(t.substring(l,d)));let h=oL(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;let f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var qu=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+_e(this.snapshot.exportVal())}},zu=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var qg=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return m(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var zg=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return U(this._path)?null:k0(this._path)}get ref(){return new Cn(this._repo,this._path)}get _queryIdentifier(){let e=JC(this._queryParams),n=Jg(e);return n==="{}"?"default":n}get _queryObject(){return JC(this._queryParams)}isEqual(e){if(e=Ye(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=Xg(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+wO(this._path)}};var Cn=class t extends zg{constructor(e,n){super(e,n,new Ig,!1)}get parent(){let e=F0(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Wu=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new Z(e),r=Gu(this.ref,e);return new t(this._node.getChild(n),r,de)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,Gu(this.ref,r),de)))}hasChild(e){let n=new Z(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function tl(t,e){return t=Ye(t),t._checkNotDeleted("ref"),e!==void 0?Gu(t._root,e):t._root}function Gu(t,e){return t=Ye(t),F(t._path)===null?HF("child","path",e,!1):fT("child","path",e,!1),new Cn(t._repo,ve(t._path,e))}function ET(t,e){t=Ye(t),qF("set",t._path),$F("set",e,t._path,!1);let n=new Qn;return ZF(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}var Wg=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new qu("value",this,new Wu(e.snapshotNode,new Cn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new zu(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Gg=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new zu(this,e,n):null}createEvent(e,n){m(e.childName!=null,"Child events should have a childName.");let r=Gu(new Cn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new qu(e.type,this,new Wu(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function cL(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){let c=n,u=(l,d)=>{h0(t._repo,t,a),c(l,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}let o=new qg(n,s||void 0),a=e==="value"?new Wg(o):new Gg(e,o);return eL(t._repo,t,a),()=>h0(t._repo,t,a)}function wm(t,e,n,r){return cL(t,"value",e,n,r)}pF(Cn);wF(Cn);var uL="FIREBASE_DATABASE_EMULATOR_HOST",Kg={},lL=!1;function dL(t,e,n,r){t.repoInfo_=new bu(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function hL(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||wn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Le("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=f0(s,i),a=o.repoInfo,c,u;typeof process<"u"&&process.env&&(u=process.env[uL]),u?(c=!0,s=`http://${u}?ns=${a.namespace}`,o=f0(s,i),a=o.repoInfo):c=!o.repoInfo.secure;let l=i&&c?new ko(ko.OWNER):new ig(t.name,t.options,e);zF("Invalid Firebase Database URL",o),U(o.path)||wn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=pL(a,t,l,new rg(t.name,n));return new Qg(d,t)}function fL(t,e){let n=Kg[e];(!n||n[t.key]!==t)&&wn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),tL(t),delete n[t.key]}function pL(t,e,n,r){let i=Kg[e.name];i||(i={},Kg[e.name]=i);let s=i[t.toURLString()];return s&&wn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Hg(t,lL,n,r),i[t.toURLString()]=s,s}var Qg=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(QF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Cn(this._repo,Q())),this._rootInternal}_delete(){return this._rootInternal!==null&&(fL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&wn("Cannot call "+e+" on a deleted database.")}};function nl(t=Jn(),e){let n=Lr(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=yu("database");r&&gL(n,...r)}return n}function gL(t,e,n,r={}){t=Ye(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&wn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&wn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ko(ko.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:_u(r.mockUserToken,t.app.options.projectId);s=new ko(o)}dL(i,e,n,s)}function mL(t){Vk(Xt),Zt(new Je("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return hL(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),le(kC,OC,t),le(kC,OC,"esm2017")}em.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};em.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};mL();var rl=(()=>{let e=class e{constructor(){this.detailsSubject=new pe(null),this.details$=this.detailsSubject.asObservable(),this.app=So(aC.firebase)}getTitles(){return""}geTitleById(r){return""+r}writeTittleData(r){let i=nl(),s=tl(i,"mangas/"+r.titleId);ET(s,{description:r.description,image:r.image,last_chapter:r.last_chapter,last_update:r.last_update,name:r.name,status:r.status,total_chapter:r.total_chapter,type:r.type,update_chapter:r.update_chapter})}readTittleData(r){return new $(i=>{let s=nl(),o=tl(s,"mangas/"+r),a=wm(o,c=>{let u=c.val();i.next(u)});return{unsubscribe(){a()}}})}readAddTittlesData(){let r=[],i=[],s=nl(),o=tl(s,"mangas");return wm(o,a=>{r=a.val();for(let c=0;c<r.length;c++)i.push({titleId:c.toString(),description:r[c].description,image:r[c].image,last_chapter:r[c].last_chapter,last_update:r[c].last_update,name:r[c].name,status:r[c].status,total_chapter:r[c].total_chapter,type:r[c].type,update_chapter:r[c].update_chapter});console.log(i)}),i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _L(t,e){if(t&1&&(b(0,"div",18)(1,"div",19)(2,"div",4),oe(3,"img",20),M(),b(4,"div",21)(5,"h3",10),ce(6),M(),b(7,"div",6)(8,"span",7),ce(9),M(),b(10,"span",8),ce(11),M()(),b(12,"div",22)(13,"span",23),ce(14),M(),oe(15,"div",24),b(16,"div",25),ce(17),M()()()()()),t&2){let n=e.$implicit;Tr("routerLink","/title/",n.titleId,""),se(3),Tr("src","/assets/test-list/",n.image,"",Cr),se(3),st(n.name),se(3),st(n.type),se(2),st(n.last_chapter),se(3),st(n.status),se(3),st(n.last_update)}}function vL(t,e){if(t&1&&(b(0,"div",16),zn(1,_L,18,9,"div",17),M()),t&2){let n=HI();se(),it("ngForOf",n.titles())}}var CT=(()=>{let e=class e{constructor(r){this.titleService=r,this.titles=Bc(null)}ngOnInit(){this.titles.set(this.titleService.readAddTittlesData()),console.log(this.titles())}};e.\u0275fac=function(i){return new(i||e)(J(rl))},e.\u0275cmp=Ke({type:e,selectors:[["bido-titleslist"]],standalone:!0,features:[Qe],decls:25,vars:1,consts:[[1,"background_preview"],[1,"blured"],[1,"container"],[1,"intro"],[1,"cover"],["alt","2","src","/assets/test-list/MHA_Volume_Cover.webp"],[1,"tags"],[1,"tag","type"],[1,"tag","last"],[1,"info"],[1,"info_name"],[1,"info_descr"],["routerLink","/chapter/mah_420",1,"all"],["routerLink","/title/0"],[1,"previous"],["class","items",4,"ngIf"],[1,"items"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],[1,"item"],["alt","2",3,"src"],[1,"content"],[1,"detail"],[1,"status"],[1,"line"],[1,"time"]],template:function(i,s){i&1&&(b(0,"div",0),oe(1,"div",1),b(2,"div",2)(3,"div",3)(4,"div",4),oe(5,"img",5),M(),b(6,"div",6)(7,"span",7),ce(8,"\u041C\u0430\u043D\u0491\u0430"),M(),b(9,"span",8),ce(10,"\u0420\u043E\u0437\u0434\u0456\u043B: 420"),M()()(),b(11,"div",9)(12,"h3",10),ce(13,"\u041C\u043E\u044F \u0413\u0435\u0440\u043E\u0439\u0441\u044C\u043A\u0430 \u0410\u043A\u0430\u0434\u0435\u043C\u0456\u044F"),M(),b(14,"div",11),ce(15,"\u041B\u044E\u0434\u0438 \u043D\u0435 \u043D\u0430\u0440\u043E\u0434\u0436\u0443\u044E\u0442\u044C\u0441\u044F \u0440\u0456\u0432\u043D\u0438\u043C\u0438. \u0406\u0437\u0443\u043A\u0443 \u041C\u0456\u0434\u043E\u0440\u0456\u044F \u0443\u0441\u0432\u0456\u0434\u043E\u043C\u0438\u0432 \u0446\u0435 \u0449\u0435 \u0443 \u0447\u043E\u0442\u0438\u0440\u044C\u043E\u0445\u0440\u0456\u0447\u043D\u043E\u043C\u0443 \u0432\u0456\u0446\u0456. \u0422\u0430 \u0446\u0435 \u043D\u0435 \u0437\u0430\u0432\u0430\u0434\u0438\u0442\u044C \u0439\u043E\u043C\u0443 \u0437\u0434\u0456\u0439\u0441\u043D\u0438\u0442\u0438 \u0441\u0432\u043E\u044E \u043C\u0440\u0456\u044E \u2014 \u0441\u0442\u0430\u0442\u0438 \u0432\u0435\u043B\u0438\u043A\u0438\u043C \u0433\u0435\u0440\u043E\u0454\u043C, \u044F\u043A \u043B\u0435\u0433\u0435\u043D\u0434\u0430\u0440\u043D\u0438\u0439 \u0412\u0441\u0435\u043C\u043E\u0433\u0443\u0442\u043D\u0456\u0439. "),M()(),b(16,"a",12),ce(17,"\u0427\u0438\u0442\u0430\u0442\u0438 \u043D\u043E\u0432\u0438\u0439 \u0440\u043E\u0437\u0434\u0456\u043B"),M(),b(18,"a",13),ce(19,"\u0423\u0441\u0456 \u0440\u043E\u0437\u0434\u0456\u043B\u0438"),M()()(),b(20,"div",14)(21,"div",2)(22,"h2",10),ce(23,"\u041E\u0441\u0442\u0430\u043D\u043D\u0456 \u043E\u043D\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),M(),zn(24,vL,2,1,"div",15),M()()),i&2&&(se(24),it("ngIf",s.titles()))},dependencies:[Gc,pu,Kc],styles:[".background_preview[_ngcontent-%COMP%]{width:100vw}.blured[_ngcontent-%COMP%]{width:100%;height:80vh;opacity:60%;position:absolute;z-index:-1;-webkit-transition:opacity .3s ease-in-out;-moz-transition:opacity .3s ease-in-out;transition:opacity .3s ease-in-out;background:linear-gradient(180deg,rgba(0,0,0,0) 0%,var(--background) 80.27%),url(/assets/test-list/MHA_Volume_Cover.webp),#d3d3d3 no-repeat;background-size:cover;background-position:50% center;filter:blur(10px)}.container[_ngcontent-%COMP%]{padding:100px 20px 20px;display:flex;flex-direction:column;align-items:flex-start}.intro[_ngcontent-%COMP%]{display:flex}.tags[_ngcontent-%COMP%]{padding:0 20px;display:flex;flex-flow:column wrap;gap:10px;align-items:flex-start;color:#e6f5fd;font-family:UZSansB;font-weight:400}.tag[_ngcontent-%COMP%]{display:inline-block;padding:8px 6px 6px;margin:2px;font-size:14px;line-height:6px;background:var(--accent);border-radius:5px}.intro[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;border-radius:5px}.background_preview[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{outline:none;text-decoration:none;color:var(--background);background:var(--primary);margin:15px 0;padding:7px 19px;border-radius:5px;box-shadow:0 0 80px -5px var(--primary);font-family:UZSansB;font-weight:400}.background_preview[_ngcontent-%COMP%]   .all[_ngcontent-%COMP%]{margin-bottom:0;color:#f4f9fb;background:var(--secondary);box-shadow:0 0 80px -5px var(--secondary)}.previous[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 20px}.items[_ngcontent-%COMP%]{display:grid;gap:36px 15px;grid-template-columns:repeat(auto-fill,minmax(210px,1fr))}.item[_ngcontent-%COMP%]{background:var(--background);-webkit-box-shadow:0px 9px 19px -10px var(--text-3);box-shadow:0 9px 19px -10px var(--text-3);position:relative;padding-bottom:40px}.item[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:auto;width:100%}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;margin-top:10px;z-index:2;bottom:2%;background:linear-gradient(180deg,rgba(0,0,0,0) 65%,var(--background) 90%);width:100%;height:100%;align-content:flex-end;justify-content:flex-end}.content[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{flex-flow:row wrap}.item[_ngcontent-%COMP%]   .info_name[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%], .detail[_ngcontent-%COMP%]{padding:0 8px;margin:2px 0}.detail[_ngcontent-%COMP%]{align-self:center;display:grid;grid-template-columns:.5fr 3fr 1fr;align-items:center;width:90%;font-size:14px;color:var(--gray-400);font-family:UZSansB;font-weight:400}.dot[_ngcontent-%COMP%]{display:inline-block;background:var(--gray-400);margin:0 7px;width:5px;height:5px;border-radius:10px}.line[_ngcontent-%COMP%]{border-bottom:dashed var(--gray-400) 1px;height:1px;margin:6px 10px 0;opacity:30%}.time[_ngcontent-%COMP%]{white-space:nowrap}"]});let t=e;return t})();var il=(()=>{let e=class e{constructor(){this.currentPageIndexSubject=new pe(0),this.currentPageIndex$=this.currentPageIndexSubject.asObservable()}getAllPagesChapter(){return["/assets/test-webp-chapter/bnha_420_a_001-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_002-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_003-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_004-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_005-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_006-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_007-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_008-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_009-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_010-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_011-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_012-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_013-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_014-mangajanai.webp","/assets/test-webp-chapter/bnha_420_a_015.webp"]}setCurrentPageIndex(r){this.currentPageIndexSubject.next(r)}getAllPagesCount(){return this.getAllPagesChapter().length}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wL=t=>({rotated:t}),DT=(()=>{let e=class e{refreshPages(){this.rotatin=!this.rotatin}constructor(r){this.chapterService=r,this.rotatin=!1,this.currentPageIndex=1,this.name="\u041C\u043E\u044F \u0433\u0435\u0440\u043E\u0439\u0441\u044C\u043A\u0430 \u0430\u043A\u0430\u0434\u0435\u043C\u0456\u044F 420",this.pages=["\u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430 1","\u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430 2","\u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430 3"],this.allPages=this.chapterService.getAllPagesCount()}ngOnInit(){this.chapterService.currentPageIndex$.subscribe(r=>{this.currentPageIndex=r})}};e.\u0275fac=function(i){return new(i||e)(J(il))},e.\u0275cmp=Ke({type:e,selectors:[["app-navbar"]],standalone:!0,features:[Qe],decls:11,vars:5,consts:[[1,"nav-content"],[1,"chapters_button"],["viewBox","3 3 18 18"],["d","M4 7a1 1 0 0 1 1-1h1a1 1 0 0 1 0 2H5a1 1 0 0 1-1-1zm5 0a1 1 0 0 1 1-1h9a1 1 0 1 1 0 2h-9a1 1 0 0 1-1-1zm-5 5a1 1 0 0 1 1-1h1a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1zm5 0a1 1 0 0 1 1-1h9a1 1 0 1 1 0 2h-9a1 1 0 0 1-1-1zm-5 5a1 1 0 0 1 1-1h1a1 1 0 1 1 0 2H5a1 1 0 0 1-1-1zm5 0a1 1 0 0 1 1-1h9a1 1 0 1 1 0 2h-9a1 1 0 0 1-1-1z"],[1,"pages"],[1,"reload_button",3,"click"],["viewBox","0 0 24 24",1,"reload_arrow",3,"ngClass"],["d","M14.55 22.42C14.22 22.42 13.91 22.2 13.82 21.86C13.72 21.46 13.95 21.05 14.35 20.94C18.41 19.87 21.24 16.19 21.24 11.99C21.24 6.89 17.09 2.74 11.99 2.74C7.66 2.74 4.82 5.27 3.49 6.8H6.43C6.84 6.8 7.18 7.14 7.18 7.55C7.18 7.96 6.86 8.31 6.44 8.31H2.01C1.94 8.31 1.87 8.3 1.8 8.28C1.71 8.25 1.63 8.21 1.56 8.16C1.47 8.1 1.4 8.02 1.35 7.93C1.3 7.83 1.26 7.73 1.25 7.62C1.25 7.59 1.25 7.57 1.25 7.54V3C1.25 2.59 1.59 2.25 2 2.25C2.41 2.25 2.75 2.59 2.75 3V5.39C4.38 3.64 7.45 1.25 12 1.25C17.93 1.25 22.75 6.07 22.75 12C22.75 16.88 19.46 21.16 14.74 22.4C14.68 22.41 14.61 22.42 14.55 22.42Z"],["d","M11.29 22.73C11.27 22.73 11.24 22.73 11.22 22.72C10.15 22.65 9.1 22.41 8.1 22.02C7.81 21.91 7.62 21.62 7.62 21.31C7.62 21.22 7.64 21.13 7.67 21.05C7.82 20.67 8.26 20.47 8.64 20.62C9.5 20.96 10.41 21.16 11.33 21.23H11.34C11.74 21.25 12.04 21.59 12.04 21.99C12.04 22 12.04 22.02 12.04 22.03C12.01 22.42 11.68 22.73 11.29 22.73ZM5.78 20.58C5.61 20.58 5.45 20.53 5.31 20.42C4.47 19.75 3.74 18.96 3.13 18.07C3.04 17.94 2.99 17.8 2.99 17.65C2.99 17.4 3.11 17.17 3.32 17.03C3.65 16.8 4.14 16.89 4.36 17.22C4.89 17.99 5.52 18.67 6.25 19.24C6.42 19.38 6.53 19.59 6.53 19.82C6.53 19.99 6.48 20.16 6.37 20.3C6.23 20.48 6.01 20.58 5.78 20.58ZM2.44 15.7C2.11 15.7 1.82 15.49 1.73 15.18C1.41 14.15 1.25 13.08 1.25 12C1.25 11.59 1.59 11.25 2 11.25C2.41 11.25 2.75 11.59 2.75 12C2.75 12.93 2.89 13.85 3.16 14.73C3.18 14.8 3.19 14.88 3.19 14.96C3.19 15.29 2.98 15.57 2.67 15.67C2.59 15.69 2.52 15.7 2.44 15.7Z"],["d","M12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16Z"]],template:function(i,s){i&1&&(b(0,"div",0)(1,"div",1),Ni(),b(2,"svg",2),oe(3,"path",3),M()(),Nc(),b(4,"div",4),ce(5),M(),b(6,"div",5),yn("click",function(){return s.refreshPages()}),Ni(),b(7,"svg",6),oe(8,"path",7)(9,"path",8)(10,"path",9),M()()()),i&2&&(se(5),mf("",s.currentPageIndex,"/",s.allPages,""),se(2),it("ngClass",ki(3,wL,s.rotatin)))},dependencies:[Wc],styles:[".nav-content[_ngcontent-%COMP%]{background:var(--background);color:var(--text);position:fixed;bottom:0;width:100%;display:flex;justify-content:space-around;align-items:center;-webkit-box-shadow:0px -9px 19px -10px var(--text-3);box-shadow:0 -9px 19px -10px var(--text-3)}.nav-content[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--text);padding:7px;height:30px}.rotated[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_reloadSpin 1s}@keyframes _ngcontent-%COMP%_reloadSpin{to{transform:rotate(-360deg)}}"]});let t=e;return t})();function IL(t,e){if(t&1&&(b(0,"div"),oe(1,"img",1),M()),t&2){let n=e.$implicit;se(),gf("src",n,Cr)}}var bT=(()=>{let e=class e{constructor(r){this.chapterService=r,this.pages=[],this.currentPageIndex=0,this.allPagesCount=0}ngOnInit(){this.pages=this.chapterService.getAllPagesChapter(),this.allPagesCount=this.pages.length}onScroll(r){let i=window.scrollY,s=window.innerHeight,o=document.body.scrollHeight,a=s+i,c=0,u=0;for(let l=0;l<this.pages.length;l++)if(u+=document.querySelector("img")?.clientHeight??0,u>=a){c=l;break}this.currentPageIndex!==c&&(this.currentPageIndex=c,this.chapterService.setCurrentPageIndex(c))}};e.\u0275fac=function(i){return new(i||e)(J(il))},e.\u0275cmp=Ke({type:e,selectors:[["bido-chapter"]],hostBindings:function(i,s){i&1&&yn("scroll",function(a){return s.onScroll(a)},!1,aI)},standalone:!0,features:[Qe],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["alt","","loading","lazy",3,"src"]],template:function(i,s){i&1&&(zn(0,IL,2,1,"div",0),oe(1,"app-navbar")),i&2&&it("ngForOf",s.pages)},dependencies:[Gc,DT],styles:["img[_ngcontent-%COMP%]{max-width:100%;display:block}"]});let t=e;return t})();var EL=t=>({background:t,"background-size":"cover","background-position":"50% center"});function CL(t,e){if(t&1&&(b(0,"div",1),oe(1,"div",2),b(2,"div",3)(3,"div",4)(4,"div",5),oe(5,"img",6),M(),b(6,"div",7)(7,"span",8),ce(8),M(),b(9,"span",9),ce(10),M(),b(11,"span",10),ce(12),M()()(),b(13,"div",11)(14,"h3",12),ce(15),M(),b(16,"div",13),ce(17),M()()()()),t&2){let n=e.ngIf;se(),it("ngStyle",ki(8,EL,"linear-gradient(180deg, rgba(0, 0, 0, 0.00) 0%, var(--background) 80.27%), url(/assets/test-list/"+n.image+"), lightgray no-repeat")),se(4),Tr("src","/assets/test-list/",n.image,"",Cr),se(3),st(n.type),se(2),st(n.last_chapter),se(2),st(n.status),se(3),st(n.name),se(2),st(n.description)}}var ST=(()=>{let e=class e{constructor(){this.title=Bc(null),this.titleService=v(rl),this.details$=Be}ngOnInit(){this.id&&(console.log(this.id),this.details$=this.titleService.readTittleData(this.id))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ke({type:e,selectors:[["bido-title"]],inputs:{id:"id"},standalone:!0,features:[Qe],decls:2,vars:3,consts:[["class","background_preview",4,"ngIf"],[1,"background_preview"],[1,"blured",3,"ngStyle"],[1,"container"],[1,"intro"],[1,"cover"],["alt","2",3,"src"],[1,"tags"],[1,"tag","type"],[1,"tag","last"],[1,"tag"],[1,"info"],[1,"info_name"],[1,"info_descr"]],template:function(i,s){i&1&&(zn(0,CL,18,10,"div",0),WI(1,"async")),i&2&&it("ngIf",GI(1,1,s.details$))},dependencies:[Kc,fE,hE],styles:[".background_preview[_ngcontent-%COMP%]{width:100vw}.blured[_ngcontent-%COMP%]{width:100%;height:80vh;opacity:60%;position:absolute;z-index:-1;-webkit-transition:opacity .3s ease-in-out;-moz-transition:opacity .3s ease-in-out;transition:opacity .3s ease-in-out;background:linear-gradient(180deg,rgba(0,0,0,0) 0%,var(--background) 80.27%),url(/assets/test-list/MHA_Volume_Cover.webp),#d3d3d3 no-repeat;background-size:cover;background-position:50% center;filter:blur(10px)}.container[_ngcontent-%COMP%]{padding:100px 20px;display:flex;flex-direction:column;align-items:flex-start}.intro[_ngcontent-%COMP%]{display:flex}.tags[_ngcontent-%COMP%]{padding:0 20px;display:flex;flex-flow:column wrap;gap:10px;align-items:flex-start;color:#e6f5fd;font-family:UZSansB;font-weight:400}.tag[_ngcontent-%COMP%]{display:inline-block;padding:8px 6px 6px;margin:2px;font-size:14px;line-height:6px;background:var(--accent);border-radius:5px}.cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;border-radius:5px}.previous[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 20px}.items[_ngcontent-%COMP%]{display:grid;gap:36px 15px;grid-template-columns:repeat(auto-fill,minmax(210px,1fr))}.item[_ngcontent-%COMP%]{background:#edf5f808;border-radius:10px;position:relative;padding-bottom:40px}.item[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:auto;width:100%}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;margin-top:10px;z-index:2;bottom:0;background:linear-gradient(180deg,rgba(0,0,0,0) 0%,var(--background) 90%);width:100%;height:100%;align-content:flex-end;justify-content:flex-end}.content[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{flex-flow:row wrap}.item[_ngcontent-%COMP%]   .info_name[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%], .detail[_ngcontent-%COMP%]{padding:0 8px;margin:2px 0}.detail[_ngcontent-%COMP%]{display:grid;grid-template-columns:.5fr 3fr 1fr;align-items:center;width:100%;font-size:14px;color:gray;font-family:UZSansB;font-weight:400}.dot[_ngcontent-%COMP%]{display:inline-block;background:gray;margin:0 7px;width:5px;height:5px;border-radius:10px}.line[_ngcontent-%COMP%]{border-bottom:dashed gray 1px;height:1px;margin:6px 10px 0;opacity:30%}.time[_ngcontent-%COMP%]{text-wrap:nowrap;white-space:nowrap}"]});let t=e;return t})();var AT=[{path:"",component:CT},{path:"chapter/:name",loadComponent:()=>p(void 0,null,function*(){return bT})},{path:"title/:id",loadComponent:()=>p(void 0,null,function*(){return ST})}];var Wr=new Un("ANGULARFIRE2_VERSION");function ol(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ko=(t,e)=>{let n=e?[e]:Cu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ls=class{constructor(){return Ko(TL)}},TL="app-check";function us(){}var sl=class{zone;delegate;constructor(e,n=Ed){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Im=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",us,{},us,us)),n.pipe(ye({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ds=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new sl(Zone.current)),this.insideAngular=n.run(()=>new sl(Zone.current,Id)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(O(ee))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function al(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function DL(t){return al().ngZone.runOutsideAngular(()=>t())}function zr(t){return al().ngZone.run(()=>t())}function bL(t){return SL(al())(t)}function SL(t){return function(n){return n=n.lift(new Im(t.ngZone)),n.pipe(Pn(t.outsideAngular),Nn(t.insideAngular))}}var AL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),zr(()=>t.apply(void 0,r))},hs=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=zr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",us,{},us,us))),r[s]=AL(r[s],n));let i=DL(()=>t.apply(this,r));if(!e)if(i instanceof $){let s=al();return i.pipe(Pn(s.outsideAngular),Nn(s.insideAngular))}else return zr(()=>i);return i instanceof $?i.pipe(bL):i instanceof Promise?zr(()=>new Promise((s,o)=>i.then(a=>zr(()=>s(a)),a=>zr(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:zr(()=>i)};var Tn=class{constructor(e){return e}},Gr=class{constructor(){return Cu()}};function RL(t){return t&&t.length===1?t[0]:new Tn(Jn())}var Em=new N("angularfire2._apps"),xL={provide:Tn,useFactory:RL,deps:[[new Fe,Em]]},NL={provide:Gr,deps:[[new Fe,Em]]};function PL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Tn(r)}}var ML=(()=>{class t{constructor(n){le("angularfire",Wr.full,"core"),le("angularfire",Wr.full,"app"),le("angular",KI.full,n.toString())}static \u0275fac=function(r){return new(r||t)(O($n))};static \u0275mod=pn({type:t});static \u0275inj=fn({providers:[xL,NL]})}return t})();function RT(t,...e){return{ngModule:ML,providers:[{provide:Em,useFactory:PL(t),multi:!0,deps:[ee,Rt,ds,...e]}]}}var xT=hs(So,!0);function zT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var WT=zT,GT=new _n("auth","Firebase",zT());var fl=new Yt("@firebase/auth");function kL(t,...e){fl.logLevel<=K.WARN&&fl.warn(`Auth (${Xt}): ${t}`,...e)}function ul(t,...e){fl.logLevel<=K.ERROR&&fl.error(`Auth (${Xt}): ${t}`,...e)}function nr(t,...e){throw $m(t,...e)}function Qr(t,...e){return $m(t,...e)}function KT(t,e,n){let r=Object.assign(Object.assign({},WT()),{[e]:n});return new _n("auth","Firebase",r).create(e,{appName:t.name})}function Kr(t){return KT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $m(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GT.create(t,...e)}function T(t,e,...n){if(!t)throw $m(e,...n)}function Dn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ul(e),new Error(e)}function rr(t,e){t||Dn(e)}function bm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function OL(){return NT()==="http:"||NT()==="https:"}function NT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function FL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OL()||hC()||"connection"in navigator)?navigator.onLine:!0}function LL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Yr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=wo()||vu()}get(){return FL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Hm(t,e){rr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var pl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var VL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var UL=new Yr(3e4,6e4);function qm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ps(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return QT(t,i,()=>p(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=kr(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),pl.fetch()(YT(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function QT(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},VL),e);try{let i=new Sm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw cl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw cl(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw cl(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw cl(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw KT(t,l,u);nr(t,l)}}catch(i){if(i instanceof ct)throw i;nr(t,"network-request-failed",{message:String(i)})}})}function jL(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){let u=yield ps(t,e,n,r,i);return"mfaPendingCredential"in u&&nr(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function YT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Hm(t.config,i):`${t.config.apiScheme}://${i}`}var Sm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qr(this.auth,"network-request-failed")),UL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function cl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Qr(t,e,r);return i.customData._tokenResponse=n,i}function BL(t,e){return p(this,null,function*(){return ps(t,"POST","/v1/accounts:delete",e)})}function JT(t,e){return p(this,null,function*(){return ps(t,"POST","/v1/accounts:lookup",e)})}function Qo(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function zm(t,e=!1){return p(this,null,function*(){let n=Ye(t),r=yield n.getIdToken(e),i=Wm(r);T(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Qo(Cm(i.auth_time)),issuedAtTime:Qo(Cm(i.iat)),expirationTime:Qo(Cm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Cm(t){return Number(t)*1e3}function Wm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ul("JWT malformed, contained fewer than 3 sections"),null;try{let i=vo(n);return i?JSON.parse(i):(ul("Failed to decode base64 JWT payload"),null)}catch(i){return ul("Caught error parsing JWT payload as JSON",i?.toString()),null}}function PT(t){let e=Wm(t);return T(e,"internal-error"),T(typeof e.exp<"u","internal-error"),T(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Jo(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof ct&&$L(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function $L({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Am=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Zo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qo(this.lastLoginAt),this.creationTime=Qo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function gl(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Jo(t,JT(n,{idToken:r}));T(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ZT(s.providerUserInfo):[],a=HL(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Zo(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function Gm(t){return p(this,null,function*(){let e=Ye(t);yield gl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function HL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZT(t){return t.map(e=>{var{providerId:n}=e,r=Cd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function qL(t,e){return p(this,null,function*(){let n=yield QT(t,{},()=>p(this,null,function*(){let r=kr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=YT(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",pl.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function zL(t,e){return p(this,null,function*(){return ps(t,"POST","/v2/accounts:revokeToken",qm(t,e))})}var Yo=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){T(e.idToken,"internal-error"),T(typeof e.idToken<"u","internal-error"),T(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){T(e.length!==0,"internal-error");let n=PT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return p(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(T(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield qL(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(T(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(T(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(T(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Dn("not implemented")}};function tr(t,e){T(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var fs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Cd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Am(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Zo(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield Jo(this,this.stsTokenManager.getToken(this.auth,e));return T(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return zm(this,e)}reload(){return Gm(this)}_assign(e){this!==e&&(T(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){T(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield gl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if(vn(this.auth.app))return Promise.reject(Kr(this.auth));let e=yield this.getIdToken();return yield Jo(this,BL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,B=(u=n.createdAt)!==null&&u!==void 0?u:void 0,Se=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:ue,emailVerified:qe,isAnonymous:cn,providerData:je,stsTokenManager:un}=n;T(ue&&un,e,"internal-error");let Ds=Yo.fromJSON(this.name,un);T(typeof ue=="string",e,"internal-error"),tr(d,e.name),tr(h,e.name),T(typeof qe=="boolean",e,"internal-error"),T(typeof cn=="boolean",e,"internal-error"),tr(f,e.name),tr(g,e.name),tr(_,e.name),tr(P,e.name),tr(B,e.name),tr(Se,e.name);let bs=new t({uid:ue,auth:e,email:h,emailVerified:qe,displayName:d,isAnonymous:cn,photoURL:g,phoneNumber:f,tenantId:_,stsTokenManager:Ds,createdAt:B,lastLoginAt:Se});return je&&Array.isArray(je)&&(bs.providerData=je.map(ad=>Object.assign({},ad))),P&&(bs._redirectEventId=P),bs}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new Yo;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield gl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return p(this,null,function*(){let i=n.users[0];T(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?ZT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Yo;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Zo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var MT=new Map;function bn(t){rr(t instanceof Function,"Expected a class definition");let e=MT.get(t);return e?(rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MT.set(t,e),e)}var WL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Rm=WL;function ll(t,e,n){return`firebase:${t}:${e}:${n}`}var ml=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=ll(this.userKey,i.apiKey,s),this.fullPersistenceKey=ll("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?fs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(bn(Rm),e,r);let i=(yield Promise.all(n.map(u=>p(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||bn(Rm),o=ll(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=fs._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>p(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function kT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rD(e))return"Blackberry";if(iD(e))return"Webos";if(Km(e))return"Safari";if((e.includes("chrome/")||eD(e))&&!e.includes("edge/"))return"Chrome";if(nD(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function XT(t=Ce()){return/firefox\//i.test(t)}function Km(t=Ce()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eD(t=Ce()){return/crios\//i.test(t)}function tD(t=Ce()){return/iemobile/i.test(t)}function nD(t=Ce()){return/android/i.test(t)}function rD(t=Ce()){return/blackberry/i.test(t)}function iD(t=Ce()){return/webos/i.test(t)}function Tl(t=Ce()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GL(t=Ce()){var e;return Tl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KL(){return fC()&&document.documentMode===10}function sD(t=Ce()){return Tl(t)||nD(t)||iD(t)||rD(t)||/windows phone/i.test(t)||tD(t)}function QL(){try{return!!(window&&window!==window.top)}catch{return!1}}function oD(t,e=[]){let n;switch(t){case"Browser":n=kT(Ce());break;case"Worker":n=`${kT(Ce())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xt}/${r}`}var xm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function YL(n){return p(this,arguments,function*(t,e={}){return ps(t,"GET","/v2/passwordPolicy",qm(t,e))})}var JL=6,Nm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:JL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Pm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yl(this),this.idTokenSubscription=new yl(this),this.beforeStateQueue=new xm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bn(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield ml.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return p(this,null,function*(){try{let n=yield JT(this,{idToken:e}),r=yield fs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;if(vn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return T(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield gl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=LL()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){if(vn(this.app))return Promise.reject(Kr(this));let n=e?Ye(e):null;return n&&T(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&T(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return vn(this.app)?Promise.reject(Kr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return vn(this.app)?Promise.reject(Kr(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(bn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield YL(this),n=new Nm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _n("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield zL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&bn(e)||this._popupRedirectResolver;T(n,this,"argument-error"),this.redirectPersistenceManager=yield ml.create(this,[bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(T(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return T(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&kL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Qm(t){return Ye(t)}var yl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=_C(n=>this.observer=n)}get next(){return T(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ym={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZL(t){Ym=t}function XL(t){return Ym.loadJS(t)}function eV(){return Ym.gapiScript}function aD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Jm(t,e){let n=Lr(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Mr(s,e??{}))return i;nr(i,"already-initialized")}return n.initialize({options:e})}function tV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(bn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Zm(t,e,n){let r=Qm(t);T(r._canInitEmulator,r,"emulator-config-failed"),T(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=cD(e),{host:o,port:a}=nV(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||rV()}function cD(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nV(t){let e=cD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:OT(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:OT(o)}}}function OT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function rV(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var _l=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dn("not implemented")}_getIdTokenResponse(e){return Dn("not implemented")}_linkToIdToken(e,n){return Dn("not implemented")}_getReauthenticationResolver(e){return Dn("not implemented")}};function Tm(t,e){return p(this,null,function*(){return jL(t,"POST","/v1/accounts:signInWithIdp",qm(t,e))})}var vl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Mm=class extends vl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Xo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(this,null,function*(){let s=yield fs._fromIdTokenResponse(e,r,i),o=FT(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return p(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=FT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function FT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var km=class t extends ct{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function uD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?km._fromErrorAndOperation(t,s,e,r):s})}function iV(t,e,n=!1){return p(this,null,function*(){let r=yield Jo(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Xo._forOperation(t,"link",r)})}function sV(t,e,n=!1){return p(this,null,function*(){let{auth:r}=t;if(vn(r.app))return Promise.reject(Kr(r));let i="reauthenticate";try{let s=yield Jo(t,uD(r,i,e,t),n);T(s.idToken,r,"internal-error");let o=Wm(s.idToken);T(o,r,"internal-error");let{sub:a}=o;return T(t.uid===a,r,"user-mismatch"),Xo._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&nr(r,"user-mismatch"),s}})}function oV(t,e,n=!1){return p(this,null,function*(){if(vn(t.app))return Promise.reject(Kr(t));let r="signIn",i=yield uD(t,r,e),s=yield Xo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Xm(t,e,n,r){return Ye(t).onIdTokenChanged(e,n,r)}function ey(t,e,n){return Ye(t).beforeAuthStateChanged(e,n)}var wl="__sak";var Il=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wl,"1"),this.storage.removeItem(wl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function aV(){let t=Ce();return Km(t)||Tl(t)}var cV=1e3,uV=10,lV=(()=>{class t extends Il{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=aV()&&QL(),this.fallbackToPolling=sD(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);KL()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,uV):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},cV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield Rn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield Rn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield Rn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),lD=lV;var dV=(()=>{class t extends Il{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),ty=dV;function hV(t){return Promise.all(t.map(e=>p(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var fV=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>p(this,null,function*(){return l(r.origin,o)})),u=yield hV(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function dD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Om=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=dD("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function tn(){return window}function pV(t){tn().location.href=t}function hD(){return typeof tn().WorkerGlobalScope<"u"&&typeof tn().importScripts=="function"}function gV(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function mV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yV(){return hD()?self:null}var fD="firebaseLocalStorageDb",_V=1,El="firebaseLocalStorage",pD="fbase_key",Jr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Dl(t,e){return t.transaction([El],e?"readwrite":"readonly").objectStore(El)}function vV(){let t=indexedDB.deleteDatabase(fD);return new Jr(t).toPromise()}function Fm(){let t=indexedDB.open(fD,_V);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(El,{keyPath:pD})}catch(i){n(i)}}),t.addEventListener("success",()=>p(this,null,function*(){let r=t.result;r.objectStoreNames.contains(El)?e(r):(r.close(),yield vV(),e(yield Fm()))}))})}function LT(t,e,n){return p(this,null,function*(){let r=Dl(t,!0).put({[pD]:e,value:n});return new Jr(r).toPromise()})}function wV(t,e){return p(this,null,function*(){let n=Dl(t,!1).get(e),r=yield new Jr(n).toPromise();return r===void 0?null:r.value})}function VT(t,e){let n=Dl(t,!0).delete(e);return new Jr(n).toPromise()}var IV=800,EV=3,CV=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield Fm(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>EV)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return hD()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=fV._getInstance(yV()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield gV(),!this.activeServiceWorker)return;this.sender=new Om(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||mV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Fm();return yield LT(n,wl,"1"),yield VT(n,wl),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>LT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>wV(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>VT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(s=>{let o=Dl(s,!1).getAll();return new Jr(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),IV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),gD=CV;var K9=aD("rcb"),Q9=new Yr(3e4,6e4);function TV(t,e){return e?bn(e):(T(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ea=class extends _l{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function DV(t){return oV(t.auth,new ea(t),t.bypassAuthState)}function bV(t){let{auth:e,user:n}=t;return T(n,e,"internal-error"),sV(n,new ea(t),t.bypassAuthState)}function SV(t){return p(this,null,function*(){let{auth:e,user:n}=t;return T(n,e,"internal-error"),iV(n,new ea(t),t.bypassAuthState)})}var Lm=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>p(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DV;case"linkViaPopup":case"linkViaRedirect":return SV;case"reauthViaPopup":case"reauthViaRedirect":return bV;default:nr(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Y9=new Yr(2e3,1e4);var AV="pendingRedirect",dl=new Map,Vm=class t extends Lm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let e=dl.get(this.auth._key());if(!e){try{let r=(yield RV(this.resolver,this.auth))?yield Rn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dl.set(this.auth._key(),e)}return this.bypassAuthState||dl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return p(this,null,function*(){if(e.type==="signInViaRedirect")return Rn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Rn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function RV(t,e){return p(this,null,function*(){let n=PV(e),r=NV(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function xV(t,e){dl.set(t._key(),e)}function NV(t){return bn(t._redirectPersistence)}function PV(t){return ll(AV,t.config.apiKey,t.name)}function MV(t,e,n=!1){return p(this,null,function*(){if(vn(t.app))return Promise.reject(Kr(t));let r=Qm(t),i=TV(r,e),o=yield new Vm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var kV=10*60*1e3,Um=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mD(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kV&&this.cachedEventUids.clear(),this.cachedEventUids.has(UT(e))}saveEventToCache(e){this.cachedEventUids.add(UT(e)),this.lastProcessedEventTime=Date.now()}};function UT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function OV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mD(t);default:return!1}}function FV(n){return p(this,arguments,function*(t,e={}){return ps(t,"GET","/v1/projects",e)})}var LV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VV=/^https?/;function UV(t){return p(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield FV(t);for(let n of e)try{if(jV(n))return}catch{}nr(t,"unauthorized-domain")})}function jV(t){let e=bm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!VV.test(n))return!1;if(LV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var BV=new Yr(3e4,6e4);function jT(){let t=tn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $V(t){return new Promise((e,n)=>{var r,i,s;function o(){jT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jT(),n(Qr(t,"network-request-failed"))},timeout:BV.get()})}if(!((i=(r=tn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=tn().gapi)===null||s===void 0)&&s.load)o();else{let a=aD("iframefcb");return tn()[a]=()=>{gapi.load?o():n(Qr(t,"network-request-failed"))},XL(`${eV()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw hl=null,e})}var hl=null;function HV(t){return hl=hl||$V(t),hl}var qV=new Yr(5e3,15e3),zV="__/auth/iframe",WV="emulator/auth/iframe",GV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QV(t){let e=t.config;T(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Hm(e,WV):`https://${t.config.authDomain}/${zV}`,r={apiKey:e.apiKey,appName:t.name,v:Xt},i=KV.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${kr(r).slice(1)}`}function YV(t){return p(this,null,function*(){let e=yield HV(t),n=tn().gapi;return T(n,t,"internal-error"),e.open({where:document.body,url:QV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GV,dontclear:!0},r=>new Promise((i,s)=>p(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Qr(t,"network-request-failed"),a=tn().setTimeout(()=>{s(o)},qV.get());function c(){tn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var JV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZV=500,XV=600,e2="_blank",t2="http://localhost",Cl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function n2(t,e,n,r=ZV,i=XV){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},JV),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ce().toLowerCase();n&&(a=eD(u)?e2:n),XT(u)&&(e=e||t2,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(GL(u)&&a!=="_self")return r2(e||"",a),new Cl(null);let d=window.open(e||"",a,l);T(d,t,"popup-blocked");try{d.focus()}catch{}return new Cl(d)}function r2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var i2="__/auth/handler",s2="emulator/auth/handler",o2=encodeURIComponent("fac");function BT(t,e,n,r,i,s){return p(this,null,function*(){T(t.config.authDomain,t,"auth-domain-config-required"),T(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xt,eventId:i};if(e instanceof vl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Io(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof Mm){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${o2}=${encodeURIComponent(c)}`:"";return`${a2(t)}?${kr(a).slice(1)}${u}`})}function a2({config:t}){return t.emulator?Hm(t,s2):`https://${t.authDomain}/${i2}`}var Dm="webStorageSupport",jm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ty,this._completeRedirectFn=MV,this._overrideRedirectResult=xV}_openPopup(e,n,r,i){return p(this,null,function*(){var s;rr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield BT(e,n,r,bm(),i);return n2(e,o,dD())})}_openRedirect(e,n,r,i){return p(this,null,function*(){yield this._originValidation(e);let s=yield BT(e,n,r,bm(),i);return pV(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(rr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return p(this,null,function*(){let n=yield YV(e),r=new Um(e);return n.register("authEvent",i=>(T(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dm,{type:Dm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Dm];o!==void 0&&n(!!o),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sD()||Km()||Tl()}},yD=jm;var $T="@firebase/auth",HT="1.7.1";var Bm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){T(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function c2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u2(t){Zt(new Je("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;T(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oD(t)},u=new Pm(r,i,s,c);return tV(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zt(new Je("auth-internal",e=>{let n=Qm(e.getProvider("auth").getImmediate());return(r=>new Bm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),le($T,HT,c2(t)),le($T,HT,"esm2017")}var l2=5*60,d2=Np("authIdTokenMaxAge")||l2,qT=null,h2=t=>e=>p(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>d2)return;let i=n?.token;qT!==i&&(qT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function ny(t=Jn()){let e=Lr(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Jm(t,{popupRedirectResolver:yD,persistence:[gD,lD,ty]}),r=Np("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=h2(s.toString());ey(n,o,()=>o(n.currentUser)),Xm(n,a=>o(a))}}let i=Rp("auth");return i&&Zm(n,`http://${i}`),n}function f2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ZL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Qr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",f2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u2("Browser");var _D="auth",ta=class{constructor(e){return e}},na=class{constructor(){return Ko(_D)}};var ry=new N("angularfire2.auth-instances");function aU(t,e){let n=ol(_D,t,e);return n&&new ta(n)}function cU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ta(r)}}var uU={provide:na,deps:[[new Fe,ry]]},lU={provide:ta,useFactory:aU,deps:[[new Fe,ry],Tn]},dU=(()=>{class t{constructor(){le("angularfire",Wr.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=pn({type:t});static \u0275inj=fn({providers:[lU,uU]})}return t})();function vD(t,...e){return{ngModule:dU,providers:[{provide:ry,useFactory:cU(t),multi:!0,deps:[ee,Rt,ds,Gr,[new Fe,ls],...e]}]}}var wD=hs(ny,!0);var hU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kt={},y,Dy=Dy||{},D=hU||self;function Ul(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ma(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function fU(t){return Object.prototype.hasOwnProperty.call(t,iy)&&t[iy]||(t[iy]=++pU)}var iy="closure_uid_"+(1e9*Math.random()>>>0),pU=0;function gU(t,e,n){return t.call.apply(t.bind,arguments)}function mU(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ve(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ve=gU:Ve=mU,Ve.apply(null,arguments)}function bl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function De(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ir(){this.s=this.s,this.o=this.o}var yU=0;ir.prototype.s=!1;ir.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),yU!=0)&&fU(this)};ir.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var MD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function by(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ID(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Ul(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ue(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ue.prototype.h=function(){this.defaultPrevented=!0};var _U=function(){if(!D.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};D.addEventListener("test",n,e),D.removeEventListener("test",n,e)}catch{}return t}();function ca(t){return/^[\s\xa0]*$/.test(t)}function jl(){var t=D.navigator;return t&&(t=t.userAgent)?t:""}function nn(t){return jl().indexOf(t)!=-1}function Sy(t){return Sy[" "](t),t}Sy[" "]=function(){};function vU(t,e){var n=aj;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var wU=nn("Opera"),_s=nn("Trident")||nn("MSIE"),kD=nn("Edge"),uy=kD||_s,OD=nn("Gecko")&&!(jl().toLowerCase().indexOf("webkit")!=-1&&!nn("Edge"))&&!(nn("Trident")||nn("MSIE"))&&!nn("Edge"),IU=jl().toLowerCase().indexOf("webkit")!=-1&&!nn("Edge");function FD(){var t=D.document;return t?t.documentMode:void 0}var ly;e:{if(Sl="",Al=function(){var t=jl();if(OD)return/rv:([^\);]+)(\)|;)/.exec(t);if(kD)return/Edge\/([\d\.]+)/.exec(t);if(_s)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(IU)return/WebKit\/(\S+)/.exec(t);if(wU)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Al&&(Sl=Al?Al[1]:""),_s&&(Rl=FD(),Rl!=null&&Rl>parseFloat(Sl))){ly=String(Rl);break e}ly=Sl}var Sl,Al,Rl,dy;D.document&&_s?(sy=FD(),dy=sy||parseInt(ly,10)||void 0):dy=void 0;var sy,EU=dy;function ua(t,e){if(Ue.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(OD){e:{try{Sy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:CU[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ua.$.h.call(this)}}De(ua,Ue);var CU={2:"touch",3:"pen",4:"mouse"};ua.prototype.h=function(){ua.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ya="closure_listenable_"+(1e6*Math.random()|0),TU=0;function DU(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++TU,this.fa=this.ia=!1}function Bl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ay(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function bU(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function LD(t){let e={};for(let n in t)e[n]=t[n];return e}var ED="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function VD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<ED.length;s++)n=ED[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function $l(t){this.src=t,this.g={},this.h=0}$l.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=fy(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new DU(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function hy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=MD(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Bl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function fy(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Ry="closure_lm_"+(1e6*Math.random()|0),oy={};function UD(t,e,n,r,i){if(r&&r.once)return BD(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)UD(t,e[s],n,r,i);return null}return n=Py(n),t&&t[ya]?t.O(e,n,ma(r)?!!r.capture:!!r,i):jD(t,e,n,!1,r,i)}function jD(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ma(i)?!!i.capture:!!i,a=Ny(t);if(a||(t[Ry]=a=new $l(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=SU(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)_U||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(HD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function SU(){function t(n){return e.call(t.src,t.listener,n)}let e=AU;return t}function BD(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)BD(t,e[s],n,r,i);return null}return n=Py(n),t&&t[ya]?t.P(e,n,ma(r)?!!r.capture:!!r,i):jD(t,e,n,!0,r,i)}function $D(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)$D(t,e[s],n,r,i);else r=ma(r)?!!r.capture:!!r,n=Py(n),t&&t[ya]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=fy(s,n,r,i),-1<n&&(Bl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ny(t))&&(e=t.g[e.toString()],t=-1,e&&(t=fy(e,n,r,i)),(n=-1<t?e[t]:null)&&xy(n))}function xy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ya])hy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(HD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ny(e))?(hy(n,t),n.h==0&&(n.src=null,e[Ry]=null)):Bl(t)}}}function HD(t){return t in oy?oy[t]:oy[t]="on"+t}function AU(t,e){if(t.fa)t=!0;else{e=new ua(e,this);var n=t.listener,r=t.la||t.src;t.ia&&xy(t),t=n.call(r,e)}return t}function Ny(t){return t=t[Ry],t instanceof $l?t:null}var ay="__closure_events_fn_"+(1e9*Math.random()>>>0);function Py(t){return typeof t=="function"?t:(t[ay]||(t[ay]=function(e){return t.handleEvent(e)}),t[ay])}function Te(){ir.call(this),this.i=new $l(this),this.S=this,this.J=null}De(Te,ir);Te.prototype[ya]=!0;Te.prototype.removeEventListener=function(t,e,n,r){$D(this,t,e,n,r)};function Pe(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ue(e,t);else if(e instanceof Ue)e.target=e.target||t;else{var i=e;e=new Ue(r,t),VD(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=xl(o,r,!0,e)&&i}if(o=e.g=t,i=xl(o,r,!0,e)&&i,i=xl(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=xl(o,r,!1,e)&&i}Te.prototype.N=function(){if(Te.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Bl(n[r]);delete t.g[e],t.h--}}this.J=null};Te.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Te.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function xl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&hy(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var My=D.JSON.stringify,py=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function RU(){var t=ky;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var gy=class{constructor(){this.h=this.g=null}add(e,n){let r=qD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},qD=new py(()=>new my,t=>t.reset()),my=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function xU(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function NU(t){D.setTimeout(()=>{throw t},0)}var la,da=!1,ky=new gy,zD=()=>{let t=D.Promise.resolve(void 0);la=()=>{t.then(PU)}},PU=()=>{for(var t;t=RU();){try{t.h.call(t.g)}catch(n){NU(n)}var e=qD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}da=!1};function Hl(t,e){Te.call(this),this.h=t||1,this.g=e||D,this.j=Ve(this.qb,this),this.l=Date.now()}De(Hl,Te);y=Hl.prototype;y.ga=!1;y.T=null;y.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Pe(this,"tick"),this.ga&&(Oy(this),this.start()))}};y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Oy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}y.N=function(){Hl.$.N.call(this),Oy(this),delete this.g};function Fy(t,e,n){if(typeof t=="function")n&&(t=Ve(t,n));else if(t&&typeof t.handleEvent=="function")t=Ve(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:D.setTimeout(t,e||0)}function WD(t){t.g=Fy(()=>{t.g=null,t.i&&(t.i=!1,WD(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var yy=class extends ir{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:WD(this)}N(){super.N(),this.g&&(D.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function ha(t){ir.call(this),this.h=t,this.g={}}De(ha,ir);var CD=[];function GD(t,e,n,r){Array.isArray(n)||(n&&(CD[0]=n.toString()),n=CD);for(var i=0;i<n.length;i++){var s=UD(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function KD(t){Ay(t.g,function(e,n){this.g.hasOwnProperty(n)&&xy(e)},t),t.g={}}ha.prototype.N=function(){ha.$.N.call(this),KD(this)};ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ql(){this.g=!0}ql.prototype.Ea=function(){this.g=!1};function MU(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function kU(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ms(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+FU(t,n)+(r?" "+r:"")})}function OU(t,e){t.info(function(){return"TIMEOUT: "+e})}ql.prototype.info=function(){};function FU(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return My(n)}catch{return e}}var ti={},TD=null;function zl(){return TD=TD||new Te}ti.Ta="serverreachability";function QD(t){Ue.call(this,ti.Ta,t)}De(QD,Ue);function fa(t){let e=zl();Pe(e,new QD(e))}ti.STAT_EVENT="statevent";function YD(t,e){Ue.call(this,ti.STAT_EVENT,t),this.stat=e}De(YD,Ue);function He(t){let e=zl();Pe(e,new YD(e,t))}ti.Ua="timingevent";function JD(t,e){Ue.call(this,ti.Ua,t),this.size=e}De(JD,Ue);function _a(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return D.setTimeout(function(){t()},e)}var Wl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ZD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ly(){}Ly.prototype.h=null;function DD(t){return t.h||(t.h=t.i())}function XD(){}var va={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Vy(){Ue.call(this,"d")}De(Vy,Ue);function Uy(){Ue.call(this,"c")}De(Uy,Ue);var _y;function Gl(){}De(Gl,Ly);Gl.prototype.g=function(){return new XMLHttpRequest};Gl.prototype.i=function(){return{}};_y=new Gl;function wa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ha(this),this.P=LU,t=uy?125:void 0,this.V=new Hl(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new eb}function eb(){this.i=null,this.g="",this.h=!1}var LU=45e3,tb={},vy={};y=wa.prototype;y.setTimeout=function(t){this.P=t};function wy(t,e,n){t.L=1,t.A=Ql(An(e)),t.u=n,t.S=!0,nb(t,null)}function nb(t,e){t.G=Date.now(),Ia(t),t.B=An(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),lb(n.i,"t",r),t.o=0,n=t.l.J,t.h=new eb,t.g=Nb(t.l,n?e:null,!t.u),0<t.O&&(t.M=new yy(Ve(t.Pa,t,t.g),t.O)),GD(t.U,t.g,"readystatechange",t.nb),e=t.I?LD(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),fa(),MU(t.j,t.v,t.B,t.m,t.W,t.u)}y.nb=function(t){t=t.target;let e=this.M;e&&rn(t)==3?e.l():this.Pa(t)};y.Pa=function(t){try{if(t==this.g)e:{let l=rn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||uy||this.g&&(this.h.h||this.g.ja()||RD(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?fa(3):fa(2)),Kl(this);var n=this.g.da();this.ca=n;t:if(rb(this)){var r=RD(this.g);t="";var i=r.length,s=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zr(this),aa(this);var o="";break t}this.h.i=new D.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,kU(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ca(a)){var u=a;break t}}u=null}if(n=u)ms(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Iy(this,n);else{this.i=!1,this.s=3,He(12),Zr(this),aa(this);break e}}this.S?(ib(this,l,o),uy&&this.i&&l==3&&(GD(this.U,this.V,"tick",this.mb),this.V.start())):(ms(this.j,this.m,o,null),Iy(this,o)),l==4&&Zr(this),this.i&&!this.J&&(l==4?Sb(this.l,this):(this.i=!1,Ia(this)))}else ij(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,He(12)):(this.s=0,He(13)),Zr(this),aa(this)}}}catch{}finally{}};function rb(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function ib(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=VU(t,n),i==vy){e==4&&(t.s=4,He(14),r=!1),ms(t.j,t.m,null,"[Incomplete Response]");break}else if(i==tb){t.s=4,He(15),ms(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ms(t.j,t.m,i,null),Iy(t,i);rb(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,He(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),zy(e),e.M=!0,He(11))):(ms(t.j,t.m,n,"[Invalid Chunked Response]"),Zr(t),aa(t))}y.mb=function(){if(this.g){var t=rn(this.g),e=this.g.ja();this.o<e.length&&(Kl(this),ib(this,t,e),this.i&&t!=4&&Ia(this))}};function VU(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?vy:(n=Number(e.substring(n,r)),isNaN(n)?tb:(r+=1,r+n>e.length?vy:(e=e.slice(r,r+n),t.o=r+n,e)))}y.cancel=function(){this.J=!0,Zr(this)};function Ia(t){t.Y=Date.now()+t.P,sb(t,t.P)}function sb(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=_a(Ve(t.lb,t),e)}function Kl(t){t.C&&(D.clearTimeout(t.C),t.C=null)}y.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(OU(this.j,this.B),this.L!=2&&(fa(),He(17)),Zr(this),this.s=2,aa(this)):sb(this,this.Y-t)};function aa(t){t.l.H==0||t.J||Sb(t.l,t)}function Zr(t){Kl(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Oy(t.V),KD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Iy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ey(n.i,t))){if(!t.K&&Ey(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ol(n),Zl(n);else break e;qy(n),He(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=_a(Ve(n.ib,n),6e3));if(1>=fb(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Xr(n,11)}else if((t.K||n.g==t)&&Ol(n),!ca(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(jy(s,s.h),s.h=null))}if(r.F){let _=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,ie(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=xb(r,r.J?r.pa:null,r.Y),o.K){pb(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Kl(a),Ia(a)),r.g=o}else Db(r);0<n.j.length&&Xl(n)}else u[0]!="stop"&&u[0]!="close"||Xr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Xr(n,7):Hy(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}fa(4)}catch{}}function UU(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ul(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function jU(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ul(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function ob(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ul(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=jU(t),r=UU(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var ab=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ei(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ei){this.h=t.h,Ml(this,t.j),this.s=t.s,this.g=t.g,kl(this,t.m),this.l=t.l;var e=t.i,n=new pa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),bD(this,n),this.o=t.o}else t&&(e=String(t).match(ab))?(this.h=!1,Ml(this,e[1]||"",!0),this.s=sa(e[2]||""),this.g=sa(e[3]||"",!0),kl(this,e[4]),this.l=sa(e[5]||"",!0),bD(this,e[6]||"",!0),this.o=sa(e[7]||"")):(this.h=!1,this.i=new pa(null,this.h))}ei.prototype.toString=function(){var t=[],e=this.j;e&&t.push(oa(e,SD,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(oa(e,SD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(oa(n,n.charAt(0)=="/"?qU:HU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",oa(n,WU)),t.join("")};function An(t){return new ei(t)}function Ml(t,e,n){t.j=n?sa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function kl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function bD(t,e,n){e instanceof pa?(t.i=e,GU(t.i,t.h)):(n||(e=oa(e,zU)),t.i=new pa(e,t.h))}function ie(t,e,n){t.i.set(e,n)}function Ql(t){return ie(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function sa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function oa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,$U),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $U(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var SD=/[#\/\?@]/g,HU=/[#\?:]/g,qU=/[#\?]/g,zU=/[#\?@]/g,WU=/#/g;function pa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function sr(t){t.g||(t.g=new Map,t.h=0,t.i&&BU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}y=pa.prototype;y.add=function(t,e){sr(this),this.i=null,t=vs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function cb(t,e){sr(t),e=vs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ub(t,e){return sr(t),e=vs(t,e),t.g.has(e)}y.forEach=function(t,e){sr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};y.ta=function(){sr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};y.Z=function(t){sr(this);let e=[];if(typeof t=="string")ub(this,t)&&(e=e.concat(this.g.get(vs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};y.set=function(t,e){return sr(this),this.i=null,t=vs(this,t),ub(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};y.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function lb(t,e,n){cb(t,e),0<n.length&&(t.i=null,t.g.set(vs(t,e),by(n)),t.h+=n.length)}y.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function vs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function GU(t,e){e&&!t.j&&(sr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(cb(this,r),lb(this,i,n))},t)),t.j=e}var KU=class{constructor(t,e){this.g=t,this.map=e}};function db(t){this.l=t||QU,D.PerformanceNavigationTiming?(t=D.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(D.g&&D.g.Ka&&D.g.Ka()&&D.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var QU=10;function hb(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function fb(t){return t.h?1:t.g?t.g.size:0}function Ey(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function jy(t,e){t.g?t.g.add(e):t.h=e}function pb(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}db.prototype.cancel=function(){if(this.i=gb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function gb(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return by(t.i)}var YU=class{stringify(t){return D.JSON.stringify(t,void 0)}parse(t){return D.JSON.parse(t,void 0)}};function JU(){this.g=new YU}function ZU(t,e,n){let r=n||"";try{ob(t,function(i,s){let o=i;ma(i)&&(o=My(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function XU(t,e){let n=new ql;if(D.Image){let r=new Image;r.onload=bl(Nl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=bl(Nl,n,r,"TestLoadImage: error",!1,e),r.onabort=bl(Nl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=bl(Nl,n,r,"TestLoadImage: timeout",!1,e),D.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Nl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ea(t){this.l=t.ec||null,this.j=t.ob||!1}De(Ea,Ly);Ea.prototype.g=function(){return new Yl(this.l,this.j)};Ea.prototype.i=function(t){return function(){return t}}({});function Yl(t,e){Te.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=By,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}De(Yl,Te);var By=0;y=Yl.prototype;y.open=function(t,e){if(this.readyState!=By)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ga(this)};y.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||D).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ca(this)),this.readyState=By};y.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ga(this)),this.g&&(this.readyState=3,ga(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof D.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mb(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function mb(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}y.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ca(this):ga(this),this.readyState==3&&mb(this)}};y.Za=function(t){this.g&&(this.response=this.responseText=t,Ca(this))};y.Ya=function(t){this.g&&(this.response=t,Ca(this))};y.ka=function(){this.g&&Ca(this)};function Ca(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ga(t)}y.setRequestHeader=function(t,e){this.v.append(t,e)};y.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};y.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ga(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Yl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var ej=D.JSON.parse;function he(t){Te.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=yb,this.L=this.M=!1}De(he,Te);var yb="",tj=/^https?$/i,nj=["POST","PUT"];y=he.prototype;y.Oa=function(t){this.M=t};y.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_y.g(),this.C=this.u?DD(this.u):DD(_y),this.g.onreadystatechange=Ve(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){AD(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=D.FormData&&t instanceof D.FormData,!(0<=MD(nj,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wb(this),0<this.B&&((this.L=rj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ve(this.ua,this)):this.A=Fy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){AD(this,s)}};function rj(t){return _s&&typeof t.timeout=="number"&&t.ontimeout!==void 0}y.ua=function(){typeof Dy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pe(this,"timeout"),this.abort(8))};function AD(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,_b(t),Jl(t)}function _b(t){t.F||(t.F=!0,Pe(t,"complete"),Pe(t,"error"))}y.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Pe(this,"complete"),Pe(this,"abort"),Jl(this))};y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jl(this,!0)),he.$.N.call(this)};y.La=function(){this.s||(this.G||this.v||this.l?vb(this):this.kb())};y.kb=function(){vb(this)};function vb(t){if(t.h&&typeof Dy<"u"&&(!t.C[1]||rn(t)!=4||t.da()!=2)){if(t.v&&rn(t)==4)Fy(t.La,0,t);else if(Pe(t,"readystatechange"),rn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(ab)[1]||null;!i&&D.self&&D.self.location&&(i=D.self.location.protocol.slice(0,-1)),r=!tj.test(i?i.toLowerCase():"")}n=r}if(n)Pe(t,"complete"),Pe(t,"success");else{t.m=6;try{var s=2<rn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",_b(t)}}finally{Jl(t)}}}}function Jl(t,e){if(t.g){wb(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Pe(t,"ready");try{n.onreadystatechange=r}catch{}}}function wb(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(D.clearTimeout(t.A),t.A=null)}y.isActive=function(){return!!this.g};function rn(t){return t.g?t.g.readyState:0}y.da=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}};y.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};y.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),ej(e)}};function RD(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case yb:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function ij(t){let e={};t=(t.g&&2<=rn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ca(t[r]))continue;var n=xU(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}bU(e,function(r){return r.join(", ")})}y.Ia=function(){return this.m};y.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Ib(t){let e="";return Ay(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function $y(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ib(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ie(t,e,n))}function ra(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Eb(t){this.Ga=0,this.j=[],this.l=new ql,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ra("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ra("baseRetryDelayMs",5e3,t),this.hb=ra("retryDelaySeedMs",1e4,t),this.eb=ra("forwardChannelMaxRetries",2,t),this.xa=ra("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new db(t&&t.concurrentRequestLimit),this.Ja=new JU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}y=Eb.prototype;y.ra=8;y.H=1;function Hy(t){if(Cb(t),t.H==3){var e=t.W++,n=An(t.I);if(ie(n,"SID",t.K),ie(n,"RID",e),ie(n,"TYPE","terminate"),Ta(t,n),e=new wa(t,t.l,e),e.L=2,e.A=Ql(An(n)),n=!1,D.navigator&&D.navigator.sendBeacon)try{n=D.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&D.Image&&(new Image().src=e.A,n=!0),n||(e.g=Nb(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ia(e)}Rb(t)}function Zl(t){t.g&&(zy(t),t.g.cancel(),t.g=null)}function Cb(t){Zl(t),t.u&&(D.clearTimeout(t.u),t.u=null),Ol(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&D.clearTimeout(t.m),t.m=null)}function Xl(t){if(!hb(t.i)&&!t.m){t.m=!0;var e=t.Na;la||zD(),da||(la(),da=!0),ky.add(e,t),t.C=0}}function sj(t,e){return fb(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=_a(Ve(t.Na,t,e),Ab(t,t.C)),t.C++,!0)}y.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new wa(this,this.l,t),s=this.s;if(this.U&&(s?(s=LD(s),VD(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Tb(this,i,e),n=An(this.I),ie(n,"RID",t),ie(n,"CVER",22),this.F&&ie(n,"X-HTTP-Session-Id",this.F),Ta(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Ib(s)))+"&"+e:this.o&&$y(n,this.o,s)),jy(this.i,i),this.bb&&ie(n,"TYPE","init"),this.P?(ie(n,"$req",e),ie(n,"SID","null"),i.aa=!0,wy(i,n,null)):wy(i,n,e),this.H=2}}else this.H==3&&(t?xD(this,t):this.j.length==0||hb(this.i)||xD(this))};function xD(t,e){var n;e?n=e.m:n=t.W++;let r=An(t.I);ie(r,"SID",t.K),ie(r,"RID",n),ie(r,"AID",t.V),Ta(t,r),t.o&&t.s&&$y(r,t.o,t.s),n=new wa(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Tb(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),jy(t.i,n),wy(n,r,e)}function Ta(t,e){t.na&&Ay(t.na,function(n,r){ie(e,r,n)}),t.h&&ob({},function(n,r){ie(e,r,n)})}function Tb(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ve(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{ZU(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Db(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;la||zD(),da||(la(),da=!0),ky.add(e,t),t.A=0}}function qy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=_a(Ve(t.Ma,t),Ab(t,t.A)),t.A++,!0)}y.Ma=function(){if(this.u=null,bb(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=_a(Ve(this.jb,this),t)}};y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,He(10),Zl(this),bb(this))};function zy(t){t.B!=null&&(D.clearTimeout(t.B),t.B=null)}function bb(t){t.g=new wa(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=An(t.wa);ie(e,"RID","rpc"),ie(e,"SID",t.K),ie(e,"AID",t.V),ie(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ie(e,"TO",t.qa),ie(e,"TYPE","xmlhttp"),Ta(t,e),t.o&&t.s&&$y(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Ql(An(e)),n.u=null,n.S=!0,nb(n,t)}y.ib=function(){this.v!=null&&(this.v=null,Zl(this),qy(this),He(19))};function Ol(t){t.v!=null&&(D.clearTimeout(t.v),t.v=null)}function Sb(t,e){var n=null;if(t.g==e){Ol(t),zy(t),t.g=null;var r=2}else if(Ey(t.i,e))n=e.F,pb(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=zl(),Pe(r,new JD(r,n)),Xl(t)}else Db(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&sj(t,e)||r==2&&qy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Xr(t,5);break;case 4:Xr(t,10);break;case 3:Xr(t,6);break;default:Xr(t,2)}}}function Ab(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Xr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ve(t.pb,t);n||(n=new ei("//www.google.com/images/cleardot.gif"),D.location&&D.location.protocol=="http"||Ml(n,"https"),Ql(n)),XU(n.toString(),r)}else He(2);t.H=0,t.h&&t.h.za(e),Rb(t),Cb(t)}y.pb=function(t){t?(this.l.info("Successfully pinged google.com"),He(2)):(this.l.info("Failed to ping google.com"),He(1))};function Rb(t){if(t.H=0,t.ma=[],t.h){let e=gb(t.i);(e.length!=0||t.j.length!=0)&&(ID(t.ma,e),ID(t.ma,t.j),t.i.i.length=0,by(t.j),t.j.length=0),t.h.ya()}}function xb(t,e,n){var r=n instanceof ei?An(n):new ei(n);if(r.g!="")e&&(r.g=e+"."+r.g),kl(r,r.m);else{var i=D.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ei(null);r&&Ml(s,r),e&&(s.g=e),i&&kl(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ie(r,n,e),ie(r,"VER",t.ra),Ta(t,r),r}function Nb(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new he(new Ea({ob:n})):new he(t.va),e.Oa(t.J),e}y.isActive=function(){return!!this.h&&this.h.isActive(this)};function Pb(){}y=Pb.prototype;y.Ba=function(){};y.Aa=function(){};y.za=function(){};y.ya=function(){};y.isActive=function(){return!0};y.Va=function(){};function Fl(){if(_s&&!(10<=Number(EU)))throw Error("Environmental error: no available transport.")}Fl.prototype.g=function(t,e){return new ut(t,e)};function ut(t,e){Te.call(this),this.g=new Eb(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ca(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ca(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ws(this)}De(ut,Te);ut.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;He(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=xb(t,null,t.Y),Xl(t)};ut.prototype.close=function(){Hy(this.g)};ut.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=My(t),t=n);e.j.push(new KU(e.fb++,t)),e.H==3&&Xl(e)};ut.prototype.N=function(){this.g.h=null,delete this.j,Hy(this.g),delete this.g,ut.$.N.call(this)};function Mb(t){Vy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}De(Mb,Vy);function kb(){Uy.call(this),this.status=1}De(kb,Uy);function ws(t){this.g=t}De(ws,Pb);ws.prototype.Ba=function(){Pe(this.g,"a")};ws.prototype.Aa=function(t){Pe(this.g,new Mb(t))};ws.prototype.za=function(t){Pe(this.g,new kb)};ws.prototype.ya=function(){Pe(this.g,"b")};function oj(){this.blockSize=-1}function Mt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}De(Mt,oj);Mt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function cy(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Mt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)cy(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){cy(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){cy(this,r),i=0;break}}this.h=i,this.i+=e};Mt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function X(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var aj={};function Wy(t){return-128<=t&&128>t?vU(t,function(e){return new X([e|0],0>e?-1:0)}):new X([t|0],0>t?-1:0)}function sn(t){if(isNaN(t)||!isFinite(t))return ys;if(0>t)return Ne(sn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Cy;return new X(e,0)}function Ob(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ne(Ob(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=sn(Math.pow(e,8)),r=ys,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=sn(Math.pow(e,s)),r=r.R(s).add(sn(o))):(r=r.R(n),r=r.add(sn(o)))}return r}var Cy=4294967296,ys=Wy(0),Ty=Wy(1),ND=Wy(16777216);y=X.prototype;y.ea=function(){if(It(this))return-Ne(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Cy+r)*e,e*=Cy}return t};y.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Sn(this))return"0";if(It(this))return"-"+Ne(this).toString(t);for(var e=sn(Math.pow(t,6)),n=this,r="";;){var i=Vl(n,e).g;n=Ll(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Sn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};y.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Sn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function It(t){return t.h==-1}y.X=function(t){return t=Ll(this,t),It(t)?-1:Sn(t)?0:1};function Ne(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new X(n,~t.h).add(Ty)}y.abs=function(){return It(this)?Ne(this):this};y.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new X(n,n[n.length-1]&-2147483648?-1:0)};function Ll(t,e){return t.add(Ne(e))}y.R=function(t){if(Sn(this)||Sn(t))return ys;if(It(this))return It(t)?Ne(this).R(Ne(t)):Ne(Ne(this).R(t));if(It(t))return Ne(this.R(Ne(t)));if(0>this.X(ND)&&0>t.X(ND))return sn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Pl(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Pl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Pl(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Pl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new X(n,0)};function Pl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ia(t,e){this.g=t,this.h=e}function Vl(t,e){if(Sn(e))throw Error("division by zero");if(Sn(t))return new ia(ys,ys);if(It(t))return e=Vl(Ne(t),e),new ia(Ne(e.g),Ne(e.h));if(It(e))return e=Vl(t,Ne(e)),new ia(Ne(e.g),e.h);if(30<t.g.length){if(It(t)||It(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ty,r=e;0>=r.X(t);)n=PD(n),r=PD(r);var i=gs(n,1),s=gs(r,1);for(r=gs(r,2),n=gs(n,2);!Sn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=gs(r,1),n=gs(n,1)}return e=Ll(t,i.R(e)),new ia(i,e)}for(i=ys;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=sn(n),o=s.R(e);It(o)||0<o.X(t);)n-=r,s=sn(n),o=s.R(e);Sn(s)&&(s=Ty),i=i.add(s),t=Ll(t,o)}return new ia(i,t)}y.gb=function(t){return Vl(this,t).h};y.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new X(n,this.h&t.h)};y.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new X(n,this.h|t.h)};y.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new X(n,this.h^t.h)};function PD(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new X(n,t.h)}function gs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new X(i,t.h)}Fl.prototype.createWebChannel=Fl.prototype.g;ut.prototype.send=ut.prototype.u;ut.prototype.open=ut.prototype.m;ut.prototype.close=ut.prototype.close;Wl.NO_ERROR=0;Wl.TIMEOUT=8;Wl.HTTP_ERROR=6;ZD.COMPLETE="complete";XD.EventType=va;va.OPEN="a";va.CLOSE="b";va.ERROR="c";va.MESSAGE="d";Te.prototype.listen=Te.prototype.O;he.prototype.listenOnce=he.prototype.P;he.prototype.getLastError=he.prototype.Sa;he.prototype.getLastErrorCode=he.prototype.Ia;he.prototype.getStatus=he.prototype.da;he.prototype.getResponseJson=he.prototype.Wa;he.prototype.getResponseText=he.prototype.ja;he.prototype.send=he.prototype.ha;he.prototype.setWithCredentials=he.prototype.Oa;Mt.prototype.digest=Mt.prototype.l;Mt.prototype.reset=Mt.prototype.reset;Mt.prototype.update=Mt.prototype.j;X.prototype.add=X.prototype.add;X.prototype.multiply=X.prototype.R;X.prototype.modulo=X.prototype.gb;X.prototype.compare=X.prototype.X;X.prototype.toNumber=X.prototype.ea;X.prototype.toString=X.prototype.toString;X.prototype.getBits=X.prototype.D;X.fromNumber=sn;X.fromString=Ob;var cj=kt.createWebChannelTransport=function(){return new Fl},uj=kt.getStatEventTarget=function(){return zl()},lj=kt.ErrorCode=Wl,dj=kt.EventType=ZD,hj=kt.Event=ti,fj=kt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},V6=kt.FetchXmlHttpFactory=Ea,pj=kt.WebChannel=XD,gj=kt.XhrIo=he,mj=kt.Md5=Mt,Fb=kt.Integer=X;var Lb="@firebase/firestore";var be=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};be.UNAUTHENTICATED=new be(null),be.GOOGLE_CREDENTIALS=new be("google-credentials-uid"),be.FIRST_PARTY=new be("first-party-uid"),be.MOCK_USER=new be("mock-user");var ba="10.11.0";var Es=new Yt("@firebase/firestore");function lt(t,...e){if(Es.logLevel<=K.DEBUG){let n=e.map(f_);Es.debug(`Firestore (${ba}): ${t}`,...n)}}function h_(t,...e){if(Es.logLevel<=K.ERROR){let n=e.map(f_);Es.error(`Firestore (${ba}): ${t}`,...n)}}function yj(t,...e){if(Es.logLevel<=K.WARN){let n=e.map(f_);Es.warn(`Firestore (${ba}): ${t}`,...n)}}function f_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function nt(t="Unexpected state"){let e=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: `+t;throw h_(e),new Error(e)}function Da(t,e){t||nt()}var Me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},we=class extends ct{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ar=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var ed=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ky=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(be.UNAUTHENTICATED))}shutdown(){}},Qy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Yy=class{constructor(e){this.t=e,this.currentUser=be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ar,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ar)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Da(typeof r.accessToken=="string"),new ed(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Da(e===null||typeof e=="string"),new be(e)}},Jy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=be.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Zy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Jy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(be.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Xy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},e_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,lt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Da(typeof n.token=="string"),this.R=n.token,new Xy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function _j(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var t_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=_j(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function $b(t,e){return t<e?-1:t>e?1:0}var n_=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&nt(),r===void 0?r=e.length-n:r>e.length-n&&nt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},or=class t extends n_{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new we(Me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var ni=class t{constructor(e){this.path=e}static fromPath(e){return new t(or.fromString(e))}static fromName(e){return new t(or.fromString(e).popFirst(5))}static empty(){return new t(or.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&or.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return or.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new or(e.slice()))}};var r_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};r_.UNKNOWN_ID=-1;function Hb(t){return t.name==="IndexedDbTransactionError"}function vj(t){return t===0&&1/t==-1/0}var wj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Q6=[...wj,"documentOverlays"],Ij=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ej=Ij,Y6=[...Ej,"indexConfiguration","indexState","indexEntries"];var Cs=class t{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Is(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Is(this.root,e,this.comparator,!1)}getReverseIterator(){return new Is(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Is(this.root,e,this.comparator,!0)}},Is=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},an=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();let e=this.left.check();if(e!==this.right.check())throw nt();return e+(this.isRed()?0:1)}};an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var td=class t{constructor(e){this.comparator=e,this.data=new Cs(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nd(this.data.getIterator())}getIteratorFrom(e){return new nd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},nd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var i_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ts=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new i_("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $b(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ts.EMPTY_BYTE_STRING=new Ts("");var Cj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tj(t){if(Da(!!t),typeof t=="string"){let e=0,n=Cj.exec(t);if(Da(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rd(t.seconds),nanos:rd(t.nanos)}}function rd(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Dj(t){return typeof t=="string"?Ts.fromBase64String(t):Ts.fromUint8Array(t)}var s_=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},o_=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function bj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Z6=new Cs(ni.comparator);var X6=new Cs(ni.comparator);var eW=new Cs(ni.comparator),tW=new td(ni.comparator);var nW=new td($b);var Vb,W;(W=Vb||(Vb={}))[W.OK=0]="OK",W[W.CANCELLED=1]="CANCELLED",W[W.UNKNOWN=2]="UNKNOWN",W[W.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",W[W.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",W[W.NOT_FOUND=5]="NOT_FOUND",W[W.ALREADY_EXISTS=6]="ALREADY_EXISTS",W[W.PERMISSION_DENIED=7]="PERMISSION_DENIED",W[W.UNAUTHENTICATED=16]="UNAUTHENTICATED",W[W.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",W[W.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",W[W.ABORTED=10]="ABORTED",W[W.OUT_OF_RANGE=11]="OUT_OF_RANGE",W[W.UNIMPLEMENTED=12]="UNIMPLEMENTED",W[W.INTERNAL=13]="INTERNAL",W[W.UNAVAILABLE=14]="UNAVAILABLE",W[W.DATA_LOSS=15]="DATA_LOSS";var rW=new Fb([4294967295,4294967295],0);var id=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(rd(e.integerValue));else if("doubleValue"in e){let r=rd(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),vj(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=Tj(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Dj(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?bj(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):nt()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),ni.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};id.bt=new id;var iW=new Uint8Array(0);var on=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(41943040,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);function Gy(){return typeof document<"u"?document:null}var a_=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&lt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var c_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(Me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Sj(t,e){if(h_("AsyncQueue",`${e}: ${t}`),Hb(t))return new we(Me.UNAVAILABLE,`${e}: ${t}`);throw t}var Ub,jb;(jb=Ub||(Ub={})).j_="default",jb.Cache="cache";var u_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=be.UNAUTHENTICATED,this.clientId=t_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>p(this,null,function*(){lt("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(lt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new we(Me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Sj(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function qb(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Bb=new Map;function Aj(t,e,n,r){if(e===!0&&r===!0)throw new we(Me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Rj(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":nt()}function xj(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(Me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Rj(t);throw new we(Me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var sd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(Me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(Me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Aj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new we(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new we(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new we(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},od=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new we(Me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new we(Me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ky;switch(r.type){case"firstParty":return new Zy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(Me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Bb.get(n);r&&(lt("ComponentProvider","Removing Datastore"),Bb.delete(n),r.terminate())}(this),Promise.resolve()}};function zb(t,e,n,r={}){var i;let s=(t=xj(t,od))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&yj("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=be.MOCK_USER;else{a=_u(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new we(Me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new be(u)}t._authCredentials=new Qy(new ed(a,c))}}var l_=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new a_(this,"async_queue_retry"),this.cu=()=>{let n=Gy();n&&lt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Gy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=Gy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new ar;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return p(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Hb(e))throw e;lt("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw h_("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let i=c_.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&nt()}verifyOperationInProgress(){}Tu(){return p(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};var d_=class extends od{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new l_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Nj(this),this._firestoreClient.terminate()}};function Wb(t,e){let n=typeof t=="object"?t:Jn(),r=typeof t=="string"?t:e||"(default)",i=Lr(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=yu("firestore");s&&zb(i,...s)}return i}function Nj(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new s_(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,qb(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new u_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var sW=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){ba=i})(Xt),Zt(new Je("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new d_(new Yy(r.getProvider("auth-internal")),new e_(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new we(Me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new o_(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),le(Lb,"4.6.0",e),le(Lb,"4.6.0","esm2017")})();var Sa=class{constructor(e){return e}},Gb="firestore",p_=class{constructor(){return Ko(Gb)}};var g_=new N("angularfire2.firestore-instances");function Pj(t,e){let n=ol(Gb,t,e);return n&&new Sa(n)}function Mj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Sa(r)}}var kj={provide:p_,deps:[[new Fe,g_]]},Oj={provide:Sa,useFactory:Pj,deps:[[new Fe,g_],Tn]},Fj=(()=>{class t{constructor(){le("angularfire",Wr.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=pn({type:t});static \u0275inj=fn({providers:[Oj,kj]})}return t})();function Kb(t,...e){return{ngModule:Fj,providers:[{provide:g_,useFactory:Mj(t),multi:!0,deps:[ee,Rt,ds,Gr,[new Fe,na],[new Fe,ls],...e]}]}}var Qb=hs(Wb,!0);var Lj={apiKey:"AIzaSyCK_XbyASoW2HE3dFyFtEXnQXASTVzilqQ",authDomain:"bidosi-manga.firebaseapp.com",databaseURL:"https://bidosi-manga-default-rtdb.europe-west1.firebasedatabase.app",projectId:"bidosi-manga",storageBucket:"bidosi-manga.appspot.com",messagingSenderId:"24335793429",appId:"1:24335793429:web:c9616afea73ecf763dfd1c"},Yb={providers:[sC(AT,oC()),Ph([RT(()=>xT(Lj)),vD(()=>wD()),Kb(()=>Qb())])]};var Vj=t=>({navigate_to:t}),Jb=(()=>{let e=class e{constructor(r,i){this._location=r,this.router=i,this.ifThisPageHome=!0,i.events.subscribe(s=>{s instanceof Wt&&s.url==="/"?this.ifThisPageHome=!0:this.ifThisPageHome=!1})}goBackPage(){this._location.back(),console.log(this.router.url)}};e.\u0275fac=function(i){return new(i||e)(J(br),J(yo))},e.\u0275cmp=Ke({type:e,selectors:[["bido-dom-nav"]],standalone:!0,features:[Qe],decls:13,vars:3,consts:[[1,"nav-content"],[1,"chapters","button",3,"ngClass"],[1,"home_back_buttons"],["viewBox","0 0 32 32",3,"click"],["d","m24 2c3.3137085 0 6 2.6862915 6 6v16c0 3.3137085-2.6862915 6-6 6h-16c-3.3137085 0-6-2.6862915-6-6v-16c0-3.3137085 2.6862915-6 6-6zm-1.7573593 7.92893219c-.3905243-.39052429-1.0236893-.39052429-1.4142136 0l-8.6558932 8.65706781-.000961-4.586c0-.5522847-.4477153-1-1-1-.5522848 0-1 .4477153-1 1v7c0 .5522847.4477152 1 1 1h7c.5522847 0 1-.4477153 1-1s-.4477153-1-1-1l-4.586039.001 8.6571068-8.6578542c.3905243-.3905243.3905243-1.0236893 0-1.41421361z"],["routerLink","/","viewBox","0 0 35 35"],["d","m19.5548639 2.6028224 8.9944388 6.59912643c1.5405939 1.13031777 2.4506973 2.92683637 2.4506973 4.83760787v11.9604433c0 3.3137085-2.6862915 6-6 6h-18c-3.3137085 0-6-2.6862915-6-6v-11.958697c0-1.9117507.91103125-3.7090683 2.45293825-4.83925127l9.00556125-6.60087271c2.1123042-1.54827125 4.9847775-1.54760604 7.0963644.00164338zm-3.5548639 13.3971776c-2.209139 0-4 1.790861-4 4v3c0 .5522847.4477153 1 1 1h6c.5522847 0 1-.4477153 1-1v-3c0-2.209139-1.790861-4-4-4z"],["routerLink","/",1,"color-effect","logo"],[1,"reload","button"],["viewBox","0 0 24 24"],["d","M2.25 10C2.25 5.71979 5.71979 2.25 10 2.25C14.2802 2.25 17.75 5.71979 17.75 10C17.75 14.2802 14.2802 17.75 10 17.75C5.71979 17.75 2.25 14.2802 2.25 10Z"],["d","M16.8214 15.618C17.1645 15.2749 17.7044 15.2276 18.1019 15.5059L21.9536 18.2021C22.8451 18.8261 22.957 20.1037 22.1875 20.8731L21.8731 21.1875C21.1037 21.957 19.8261 21.8451 19.2021 20.9536L16.5059 17.1019C16.2276 16.7044 16.2749 16.1645 16.618 15.8214L16.8214 15.618Z"]],template:function(i,s){i&1&&(b(0,"div",0)(1,"div",1)(2,"div",2),Ni(),b(3,"svg",3),yn("click",function(){return s.goBackPage()}),oe(4,"path",4),M(),b(5,"svg",5),oe(6,"path",6),M()(),Nc(),b(7,"span",7),ce(8,"\u0411\u0456\u0434\u043E\u0441\u0456"),M()(),b(9,"div",8),Ni(),b(10,"svg",9),oe(11,"path",10)(12,"path",11),M()()()),i&2&&(se(),it("ngClass",ki(1,Vj,!s.ifThisPageHome)))},dependencies:[pu,Wc],styles:["@font-face{font-family:PopB;src:url(/assets/fonts/Poppins-ExtraBold.ttf);font-weight:800}.nav-content[_ngcontent-%COMP%]{background:var(--background);color:var(--text);position:fixed;top:0;width:100vw;z-index:3;display:flex;justify-content:space-between;align-items:center;-webkit-box-shadow:0px 9px 50px -10px var(--text-3);box-shadow:0 9px 50px -10px var(--text-3);overflow:hidden}.nav-content[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--text);padding:7px;height:30px}.nav-content[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{background:url(/assets/favicon.ico) no-repeat center;background-size:90% 100%;width:35px;height:30px;margin:5px}.chapters[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;transition:top .2s ease-in 0s;top:0}.home_back_buttons[_ngcontent-%COMP%]{display:flex;top:-50px;position:absolute}.home_back_buttons[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{padding-left:0}.navigate_to[_ngcontent-%COMP%]{top:46px}.button[_ngcontent-%COMP%]{padding:0 20px}.color-effect[_ngcontent-%COMP%]{font-family:PopB;font-weight:800;font-size:22px;background:linear-gradient(120deg,var(--primary),var(--accent));background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}"]});let t=e;return t})();var Zb=(()=>{let e=class e{constructor(){this.title="Mabido Manga \u0434\u043B\u044F \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0456\u0432 "}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ke({type:e,selectors:[["app-root"]],standalone:!0,features:[Qe],decls:3,vars:0,consts:[[1,"main"]],template:function(i,s){i&1&&(b(0,"main",0),oe(1,"bido-dom-nav"),M(),oe(2,"router-outlet"))},dependencies:[yp,Jb],styles:['[_nghost-%COMP%]{--bright-blue: oklch(51.01% .274 263.83);--electric-violet: oklch(53.18% .28 296.97);--french-violet: oklch(47.66% .246 305.88);--vivid-pink: oklch(69.02% .277 332.77);--hot-red: oklch(61.42% .238 15.34);--orange-red: oklch(63.32% .24 31.68);--gray-900: oklch(19.37% .006 300.98);--gray-700: oklch(36.98% .014 302.71);--gray-400: oklch(70.9% .015 304.04);--red-to-pink-to-purple-vertical-gradient: linear-gradient( 180deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--red-to-pink-to-purple-horizontal-gradient: linear-gradient( 90deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--pill-accent: var(--bright-blue);font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,UZ Sans;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}@media (prefers-color-scheme: light){[_nghost-%COMP%]{--text: #021018;--text-3: rgba(2, 16, 24, .3);--background: #f4f9fb;--primary: #0b6484;--primary-8: rgba(11, 100, 132, .4);--secondary: #f15fd2;--accent: #c5112c}}@media (prefers-color-scheme: dark){[_nghost-%COMP%]{--text: #f4f9fb;--text-3: rgba(244, 249, 251, .1);--background: #04090b;--primary: #7ad3f4;--secondary: #a00e80;--accent: #ee3854}}@font-face{font-family:UZSansB;src:url(/assets/fonts/UZSans-SemiBold.ttf);font-weight:400}body[_ngcontent-%COMP%]{margin:0;padding:0;background:var(--background);color:var(--text)}h1[_ngcontent-%COMP%]{font-size:3.125rem;color:var(--text);font-weight:500;line-height:100%;letter-spacing:-.125rem;margin:0;font-family:Inter Tight,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol}p[_ngcontent-%COMP%]{margin:0;color:var(--gray-700)}main[_ngcontent-%COMP%]{width:100%;min-height:100%;display:flex;align-items:center;padding:1rem;box-sizing:inherit;position:relative}.angular-logo[_ngcontent-%COMP%]{max-width:9.2rem}.content[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;max-width:700px;margin-bottom:3rem}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:1.75rem}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1.5rem}.divider[_ngcontent-%COMP%]{width:1px;background:var(--red-to-pink-to-purple-vertical-gradient);margin-inline:.5rem}.pill-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;flex-wrap:wrap;gap:1.25rem}.pill[_ngcontent-%COMP%]{display:flex;align-items:center;--pill-accent: var(--bright-blue);background:color-mix(in srgb,var(--pill-accent) 5%,transparent);color:var(--pill-accent);padding-inline:.75rem;padding-block:.375rem;border-radius:2.75rem;border:0;transition:background .3s ease;font-family:var(--inter-font);font-size:.875rem;font-style:normal;font-weight:500;line-height:1.4rem;letter-spacing:-.00875rem;text-decoration:none}.pill[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--pill-accent) 15%,transparent)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+1){--pill-accent: var(--bright-blue)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+2){--pill-accent: var(--french-violet)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+3), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+4), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+5){--pill-accent: var(--hot-red)}.pill-group[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-inline-start:.25rem}.social-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.73rem;margin-top:1.5rem}.social-links[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:fill .3s ease;fill:var(--gray-400)}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--gray-900)}@media screen and (max-width: 650px){.content[_ngcontent-%COMP%]{flex-direction:column;width:max-content}.divider[_ngcontent-%COMP%]{height:1px;width:100%;background:var(--red-to-pink-to-purple-horizontal-gradient);margin-block:1.5rem}.main[_ngcontent-%COMP%]{padding:0}}']});let t=e;return t})();CE(Zb,Yb).catch(t=>console.error(t));
